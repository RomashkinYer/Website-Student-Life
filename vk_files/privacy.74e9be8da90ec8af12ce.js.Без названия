(()=>{"use strict";var i,e,t,r,s,n,o={978703:(i,e,t)=>{var r,s,n,o=t(129727);(null==(s=window.vk)||null==(r=s.pe)?void 0:r.static_manager_dynamic_imports)&&(null==(n=window.vk)?void 0:n.stDomain)&&(t.p=window.vk.stDomain+"/dist/"),window.Privacy=o.privacy;try{window.stManager.done(window.jsc("web/privacy.js"))}catch(i){}},503735:(i,e,t)=>{t.d(e,{CURRENT_EVENT_SCREEN:()=>l,FOLLOWERS_MODE_ABOUT_MODAL_STEP:()=>n,FOLLOWERS_MODE_ONBOARDING_CLICK_TYPE_ENTRYPOINT:()=>c,FOLLOWERS_MODE_ONBOARDING_CONTEXT_PRIVACY:()=>o,PRIVACY_CATEGORIES:()=>s,PRIVACY_KEYS:()=>r});const r={PROFILE:"profile",SEARCH_ACCESS:"search_access",UPDATES:"updates",COMPANY_MESSAGES:"company_messages",PROFILE_CLOSED:"profile_closed",CONTACT_AVATAR:"contact_avatar",CALLS_FROM_COMMUNITY:"calls_from_community",CALLS_HAS_MESSAGES:"calls_has_messages",CALLS_IN_CONTACTS:"calls_in_contacts",CALLS:"calls",FOLLOWERS_MODE:"followers_mode"},s={ALL:0,FRIENDS:1,FRIENDS_OF_FRIENDS:2,ONLY_ME:3,ADVANCED_SETTINGS:4,SOME_FRIENDS:5,SOME_FRIENDS_LIST:6,CONTACTS:7},n=1,o="privacy",l="privacy",c="entrypoint"},709949:(i,e,t)=>{t.d(e,{fixPrivacyValueTypes:()=>c,getPrivacyValueFromCur:()=>l,isSpecialPrivacyKey:()=>s,savePrivacySetting:()=>d,savePrivacyShowSaved:()=>n,selectPrivacySettingElement:()=>o});var r=t(503735);function s(i){return[r.PRIVACY_KEYS.SEARCH_ACCESS,r.PRIVACY_KEYS.UPDATES,r.PRIVACY_KEYS.COMPANY_MESSAGES,r.PRIVACY_KEYS.PROFILE_CLOSED,r.PRIVACY_KEYS.CONTACT_AVATAR,r.PRIVACY_KEYS.CALLS_FROM_COMMUNITY,r.PRIVACY_KEYS.CALLS_HAS_MESSAGES,r.PRIVACY_KEYS.CALLS_IN_CONTACTS,r.PRIVACY_KEYS.FOLLOWERS_MODE].includes(i)}function n(i){window.uiPageBlock&&window.uiPageBlock.showSaved("privacy_edit_"+i)}function o(i){return document.querySelector(`._${i}`)}function l(i){if(window.cur.privacy&&Array.isArray(window.cur.privacy[i]))return c(window.cur.privacy[i])}function c(i){if(Array.isArray(i)){const[e,t,r,s]=i;return[parseInt(e),parseInt(t),Array.isArray(r)?r.map((i=>parseInt(i))):[],Array.isArray(s)?s.map((i=>parseInt(i))):[]]}}function d(i){return new Promise(((e,t)=>{window.ajax.post("al_friends.php?act=save_privacy",{key:i.key,val:i.value,hash:i.hash},{onDone:i=>{e(i)},onFail:i=>(t(i),!0)})}))}},129727:(i,e,t)=>{t.d(e,{privacy:()=>S});var r=t(29271),s=t(363444),n=t(893106),o=t(795558),l=t(725296),c=t(953908),d=t(96756),a=t(82161),w=t(584356),u=t(320422),f=t(514986),p=t(672132),_=t(503735),h=t(709949),v=t(931917);const S={customType:4,someType:5,listsType:6,contactsType:7,specialTypes:[8,9,10],flistBox(i,e,t,s,n,l,c){if(c=!!c,window.cur.flistTpl=s,0===t.length&&(t={}),window.cur.flistList=e,window.cur.flistFriends=e,window.cur.flistSearchList=[],window.cur.flistSearchTotal=-1,window.cur.flistSearchLoadStr="",window.cur.flistSelectedList=t&&t[0]?t:[],window.cur.flistSelected={},(0,a.each)(t,((i,e)=>{window.cur.flistSelected[e[0]]=1})),window.cur.flistSelectedShowed=0,window.cur.flistHash=l,window.cur.flistBox=i,window.cur.isVKMiniApp=c,window.cur.flistIndex=new p.vkIndexer(e,(i=>i[1]+" "+i[4])),i.removeButtons(),i.addButton(n||r.getLang("global_save"),this.submitFlistBox),window.cur.flistTooltip){const e=(0,o.ge)("flist_sel");let t={className:"flist_info_tt",text:window.cur.flistTooltip,width:250,nohide:1,nohideover:1};t=window.cur.flistTooltipRight?(0,a.extend)(t,{dir:"left",slideX:-15,shift:[-(0,o.getSize)(e)[0]-15,-28]}):(0,a.extend)(t,{dir:"right",slideX:15,shift:[265,-28]}),(0,u.showTooltip)(e,t),window.stManager.add([window.jsc("web/tooltips.js")],(()=>{i.setOptions({onHide:tooltips.hide.pbind(e)})}))}else i.addButton(r.getLang("global_cancel"),(()=>{i.hide()}),"no");return window.cur.flistScrollbar=new Scrollbar("flist_scroll_wrap",{nomargin:!0,right:window.vk.rtl?"auto":0,left:window.vk.rtl?0:"auto",more:S.flistMore,onScroll:i=>{(0,o.ge)("flist_scroll_wrap").scrollTop>0?(0,o.addClass)("flist_cont","flist_scrolled"):(0,o.removeClass)("flist_cont","flist_scrolled")}}),window.cur.flistAllCont=(0,o.ge)("flist_all_list"),window.cur.flistSelCont=(0,o.ge)("flist_sel_list"),window.cur.flistSearchEl=(0,o.ge)("flist_search"),window.cur.flistSearchContEl=(0,o.geByClass1)("flist_search_cont","flist_cont"),window.cur.flistLimit&&window.cur.flistSelectedCnt>=window.cur.flistLimit-1&&S.flistFull(),window.cur.flistCountStr&&window.cur.flistSelectedCnt>0&&((0,o.ge)("flist_sel_summary").innerHTML=(0,r.langNumeric)(window.cur.flistSelectedCnt,window.cur.flistCountStr)),(0,o.toggleClass)("flist_cont","flist_select_items",window.cur.flistSelectedCnt>0),!1},submitFlistBox(){const i=(0,o.ge)("flist_list_name");let e=!1;if((0,o.isVisible)(i)){if(e=i.value,!e)return(0,l.notaBene)(i);(0,d.placeholderSetup)(i,{back:!0}),(0,o.elfocus)(i,0,i.value.length)}const t={},r=[];if(window.cur.isVKMiniApp&&(t.lists=[],t.friends=[]),(0,a.each)(window.cur.flistSelectedList,((i,e)=>{window.cur.isVKMiniApp?"list"===e[5]?t.lists.push(e):t.friends.push(e):t[e[0]]=e,r.push(e[0])})),window.cur.flistFriendsPrivacy)return s.ajax.post("al_settings.php",{act:"hide_friends",hash:window.cur.flistHash,ids:r.join(",")},{onDone:(i,e)=>{(0,w.showDoneBox)(window.cur.flistFriendsPrivacyText),window.cur.flistBox.hide()},showProgress:window.cur.flistBox.showProgress,hiderogress:window.cur.flistBox.hideProgress}),(0,w.showDoneBox)(window.cur.flistFriendsPrivacyText,{out:4e3}),void(window.cur.flistNavReload&&setTimeout((()=>{window.nav.reload()}),2e3));window.cur.onFlistSave&&window.cur.onFlistSave(r,t,window.cur.flistHash,e),window.cur.flistBox.leaveOnSave||window.cur.flistBox.hide(!0)},flistMore(){window.cur.privacy&&window.cur.privacy.pagination&&!window.cur.flistSelectedShowed&&window.cur.flistList.length-window.cur.flistShown<10&&window.cur.flistList.length<window.cur.flistTotalCount?window.cur.flistSearchStr?S.flistSearchPagination():window.cur.flistMoreLoading||(window.cur.flistMoreLoading=!0,s.ajax.post("al_friends.php",(0,a.extend)({},window.cur.privacy.chooseBoxOpts||{},{act:"select_friends_box",Checked:Object.keys(window.cur.flistSelected).join(","),pagination:1,offset:window.cur.flistList.length}),{onDone:i=>{window.cur.flistMoreLoading=!1,(0,a.isArray)(i)&&(i.forEach((i=>{window.cur.flistFriends.push(i),window.cur.flistIndex.add(i)})),S.flistMore())},onFail:()=>{window.cur.flistMoreLoading=!1}})):S.flistDrawItems()},flistDrawItems(){const i=window.cur.flistShown+60;for(;window.cur.flistShown<i&&S.flistShowOne(window.cur.flistList[window.cur.flistShown+1]);)++window.cur.flistShown;setTimeout((()=>{window.cur.flistScrollbar&&window.cur.flistScrollbar.update()}),10)},flistShowOne(i,e){if(!i)return!1;if((0,o.ge)("flist_item_wrap"+i[0]))return(0,o.show)((0,o.ge)("flist_item_wrap"+i[0])),!0;let t=i[1];window.cur.flistSelection&&(t=t.replace(window.cur.flistSelection.re,window.cur.flistSelection.val));const r=(0,o.ce)("div",{id:"flist_item_wrap"+i[0],className:"flist_item_wrap"+(window.cur.flistSelected[i[0]]?" flist_item_checked":""),innerHTML:(0,o.rs)(window.cur.flistTpl,{id:i[0],name:t,photo:i[2],alt:(0,a.clean)(t)})});return e?window.cur.flistAllCont.insertBefore(r,window.cur.flistAllCont.firstChild):window.cur.flistAllCont.appendChild(r),!0},flistSelect(i,e,t){const s=(0,o.ge)("flist_item_wrap"+i),n=e.parentNode,l=Boolean(e.dataset.isOne);if("flist_item_sel"==n.id.slice(0,14)||(0,o.hasClass)(s,"flist_item_checked")){delete window.cur.flistSelected[i];for(let e=0;e<window.cur.flistSelectedList.length;e++)if(window.cur.flistSelectedList[e][0]==i){window.cur.flistSelectedList.splice(e,1);break}s&&(0,o.removeClass)(s,"flist_item_checked");const e=(0,o.ge)("flist_item_sel"+i);if(e&&((0,o.re)(e),window.cur.flistSelectedCnt>window.cur.flistSelInRow&&window.cur.flistSelectedList[window.cur.flistSelInRow-1])){const i=window.cur.flistSelectedList[window.cur.flistSelInRow-1];(0,o.ge)("flist_item_sel"+i[0])||window.cur.flistSelCont.insertBefore((0,o.ce)("div",{id:"flist_item_sel"+i[0],className:"flist_item_wrap",innerHTML:(0,o.rs)(window.cur.flistTpl,{id:i[0],name:i[1],photo:i[2],alt:(0,a.clean)(i[1])})}),(0,o.ge)("flist_sel_show_all"))}window.cur.flistSelectedCnt--,0===window.cur.flistSelectedCnt?((0,o.show)("flist_info"),window.cur.flistSelectedShowed||(0,o.hide)("flist_search_toggler_wrap")):window.cur.flistSelectedCnt>window.cur.flistSelInRow?((0,o.val)("flist_sel_show_all","+"+(window.cur.flistSelectedCnt-window.cur.flistSelInRow)),(0,o.removeClass)("flist_sel_show_all","unshown")):window.cur.flistSelectedCnt==window.cur.flistSelInRow&&(0,o.addClass)("flist_sel_show_all","unshown"),window.cur.flistLimit&&window.cur.flistSelectedCnt==window.cur.flistLimit-1&&(0,o.removeClass)(window.cur.flistAllCont,"flist_full"),(0,w.curBox)().changed=!0}else if(!(0,o.hasClass)(s,"flist_item_checked")){if(window.cur.flistLimit&&window.cur.flistSelectedCnt>=window.cur.flistLimit)return S.flistFull(t||window.event),!1;const e=(0,o.val)(s);if((0,o.addClass)(s,"flist_item_checked"),0==window.cur.flistSelectedCnt&&((0,o.hide)("flist_info"),(0,o.show)("flist_search_toggler_wrap")),window.cur.flistSelectedCnt++,window.cur.flistSelCont.insertBefore((0,o.ce)("div",{id:"flist_item_sel"+i,className:"flist_item_wrap",innerHTML:e}),window.cur.flistSelCont.firstChild),window.cur.flistSelectedCnt>window.cur.flistSelInRow){const i=(0,o.geByClass)("flist_item_wrap",window.cur.flistSelCont);(0,o.re)(i[i.length-1]),(0,o.val)("flist_sel_show_all","+"+(window.cur.flistSelectedCnt-window.cur.flistSelInRow)),(0,o.removeClass)("flist_sel_show_all","unshown")}window.cur.flistLimit&&window.cur.flistSelectedCnt>=window.cur.flistLimit&&S.flistFull(t||window.event);for(let e=0;e<window.cur.flistList.length;e++)if(window.cur.flistList[e]&&window.cur.flistList[e][0]==i){window.cur.flistSelectedList.unshift(window.cur.flistList[e]);break}window.cur.flistSelected[i]=1,window.cur.flistSearchStr&&S.flistSearch(!1)}return(0,o.toggleClass)("flist_cont","flist_select_items",window.cur.flistSelectedCnt>0),window.cur.flistCountStr&&(0,o.val)("flist_sel_summary",window.cur.flistSelectedCnt>0?(0,r.langNumeric)(window.cur.flistSelectedCnt,window.cur.flistCountStr):window.cur.flistNoSelStr),window.cur.flistScrollbar.update(),l&&this.submitFlistBox(),!1},flistFull(i){if(i){let e;(0,o.hasClass)(i.target,"flist_item_thumb")?e=i.target:((0,o.hasClass)(i.target,"flist_item")&&(e=i.target)||(e=(0,o.gpeByClass)("flist_item",i.target)))&&(e=(0,o.geByClass1)("flist_item_thumb",e)),e&&(window.tooltips&&tooltips.hideAll(),(0,u.showTooltip)(e,{text:window.cur.limitTooltip,className:"flist_max_size_tt",dir:"auto",slide:-15,shift:[15,10],nohide:1,nohideover:1,hasover:1}),setTimeout((()=>{window.tooltips&&tooltips.hide(e)}),2e3))}(0,o.addClass)(window.cur.flistAllCont,"flist_full")},flistSearch(i){i=(0,a.trim)(i),window.cur.flistSearchStr=i,window.cur.privacy&&window.cur.privacy.pagination&&!window.cur.flistSelectedShowed&&window.cur.flistIndex.list.length<window.cur.flistTotalCount&&i?S.flistSearchPagination():(window.cur.flistSearchList=[],window.cur.flistSearchTotal=-1,window.cur.flistSearchLoadStr="",clearTimeout(window.cur.flistSearchLoadMore),i?(window.cur.flistList=(window.cur.flistSelectedShowed?window.cur.flistSelectedIndex:window.cur.flistIndex).search(i),window.cur.flistSelection={re:new RegExp("("+i.replace(window.cur.flistIndex.delimiter,"|").replace(/[\/\\\(\)\[\]\{\}\*,]/g,"").replace(/^\||\|$/g,"")+")","gi"),val:'<em class="highlight">$1</em>'},window.cur.flistScrollbar.scrollTop(0)):(window.cur.flistList=window.cur.flistSelectedShowed?window.cur.flistSelectedList:window.cur.flistFriends,window.cur.flistSelection=!1,(0,o.val)(window.cur.flistSearchEl,""),(0,o.addClass)(window.cur.flistSearchContEl,"ui_search_field_empty")),window.cur.flistList.length?(window.cur.flistAllCont.innerHTML="",window.cur.flistShown=-1,S.flistMore()):(window.cur.flistAllCont.innerHTML="",window.cur.flistAllCont.append((0,o.ce)("div",{className:"flist_empty no_select",innerHTML:r.getLang("apps_no_friends_for_query")})),window.cur.flistShown=0))},flistSearchPagination(){if(window.cur.flistSearchLoading||window.cur.flistSearchLoadStr===window.cur.flistSearchStr&&window.cur.flistSearchList.length>=window.cur.flistSearchTotal||!window.cur.privacy)return;const i=window.cur.flistSearchStr;function e(){window.cur.flistSearchLoading=!0,s.ajax.post("al_friends.php",(0,a.extend)({},window.cur.privacy.chooseBoxOpts||{},{act:"select_friends_search",q:i,offset:window.cur.flistSearchLoadStr===i?window.cur.flistSearchList.length:0}),{onDone:(e,t)=>{window.cur.flistSearchLoadStr!==i&&(window.cur.flistSearchLoadStr=i,window.cur.flistShown=-1,window.cur.flistSearchList=[],window.cur.flistAllCont.innerHTML=""),window.cur.flistSearchTotal=+t,e.forEach((i=>{window.cur.flistSearchList.push(i)})),window.cur.flistList=window.cur.flistSearchList,S.flistDrawItems(),window.cur.flistSearchLoading=!1},onFail:()=>{window.cur.flistSearchLoading=!1}})}window.cur.flistSearchLoadMore&&clearTimeout(window.cur.flistSearchLoadMore),window.cur.flistSearchLoadStr===i?e():window.cur.flistSearchLoadMore=setTimeout(e,500)},flistToggleAllSelected(){window.cur.flistSelectedShowed?(window.cur.flistSelectedShowed=0,(0,o.removeClass)("flist_sel_show_all","flist_sel_showed_all"),(0,o.removeClass)("flist_search_toggler","on"),0===window.cur.flistSelectedCnt&&((0,o.hide)("flist_search_toggler_wrap"),(0,o.removeClass)("flist_cont","flist_select_items")),S.flistSearch(!1)):(window.cur.flistSelectedShowed=1,(0,o.addClass)("flist_sel_show_all","flist_sel_showed_all"),(0,o.addClass)("flist_search_toggler","on"),window.cur.flistList=window.cur.flistSelectedList,window.cur.flistAllCont.innerHTML="",window.cur.flistShown=-1,S.flistMore(),window.cur.flistSelectedIndex=new p.vkIndexer(window.cur.flistSelectedList,(i=>i[1]+" "+i[4]))),window.cur.flistSelection=!1,(0,o.val)(window.cur.flistSearchEl,"")},hideFriends(i,e){const t=window.cur.privacy[i][2];return(0,f.showBox)("al_friends.php",{act:"select_friends_box",from:"friends_privacy",Checked:t.join(",")},{stat:[window.jsc("web/privacy.js"),"privacy.css",window.jsc("web/indexer.js")]}),window.cur.onFlistSave=function(e,t,r){s.ajax.post("al_settings.php",{act:"hide_friends",hash:r,ids:e.join(",")},{onDone:(e,t)=>{(0,o.ge)("privacy_"+i+"_hide").innerHTML=e,window.cur.privacy[i]=t,window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i)}})},!1},update(i,e){const t=(0,o.ge)("privacy_edit_"+i),s=window.cur.privacy[i],n=s[0],l=window.cur.privacy,c=l[i+"_types"]||l._types,d=l[i+"_lists"]||l._lists||{},a={};for(let i in d)d.hasOwnProperty(i)&&(a[parseInt(i)]=d[i]);if(t){const e=n==_.PRIVACY_CATEGORIES.FRIENDS,d=n==_.PRIVACY_CATEGORIES.FRIENDS_OF_FRIENDS,w=!c[n]&&i.match("profile_button"),u="list28";let f=w?c[u]:c[n];if(i===_.PRIVACY_KEYS.CALLS&&(e||d)){const i=l.hasOwnProperty(_.PRIVACY_KEYS.CALLS_HAS_MESSAGES)&&!l[_.PRIVACY_KEYS.CALLS_HAS_MESSAGES][0],t=l.hasOwnProperty(_.PRIVACY_KEYS.CALLS_IN_CONTACTS)&&!l[_.PRIVACY_KEYS.CALLS_IN_CONTACTS][0];i&&t?f=e?r.getLang("settings_options_friends_contacts_and_chat_partners"):r.getLang("settings_options_friends_friends_contacts_and_chat_partners"):i?f=e?r.getLang("settings_options_friends_and_chat_partners"):r.getLang("settings_options_friends_friends_and_chat_partners"):t&&(f=e?r.getLang("settings_options_friends_and_contacts"):r.getLang("settings_options_friends_friends_and_contacts"))}t.innerHTML=f;const p=(0,o.ge)("privacy_header");p&&(p.innerHTML=w?c[u]:c[n]);const h=(0,o.gpeByClass)("privacy_edit_wrap",t);if(h&&h.nextSibling&&!w)if(n==S.listsType){const i=[];for(let e in s[2])if(s[2].hasOwnProperty(e)){const t=-s[2][e],r=(t-1)%8+1;if(a[t]){let e;e=t<100?'<a href="/friends?section=list'+t+'" class="group'+r+'" role="listitem">'+a[t]+"</a>":'<span class="group'+r+'">'+a[t]+"</span>",i.push(e)}}h.nextSibling.innerHTML=(i.length?": ":"")+i.join(", ")}else h.nextSibling.innerHTML="";if(h&&(0,o.hasClass)(h,"privacy_graphic")){(0==n&&"hidden_friends"!==i||n==S.customType&&s[1]&&s[2]&&"0"==s[2][0]||e&&"appscall"===i||e&&"bdate_visibility"===i?o.removeClass:o.addClass)(h,"privacy_locked")}}window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i,e?(0,h.fixPrivacyValueTypes)(e):e)},setValue(i,e){const t=window.cur.privacy[i],r=window.cur.onPrivacyChanged;window.cur.privacy[i]=e,window.cur.onPrivacyChanged=null,S.update(i,t),window.cur.onPrivacyChanged=r},someSaved(i,e,t,s){const n=window.cur.privacy[i];window.cur.privacy[i]=[S.someType,0,e,[]];const l=window.cur.privacy.lang||{},c=e.length;let d=[];for(let i=0;i<c&&i<5;++i){const r=e[i],n=s?t[i]:t[r],o=n[4].replace(/'/g,"");d.push('<a href="/'+(o||"id"+r)+'" onclick="return nav.go(this, event)">'+(n[5]||n[1])+"</a>")}d=d.join(", "),c>5&&(d+=" "+(l.some?r.getLang(l.some,c-5):r.getLang("privacy_N_friends_some",c-5)));const a=(0,o.ge)("privacy_edit_"+i),w=(0,o.gpeByClass)("privacy_edit_wrap",a),u=window.cur.privacy[i+"_types"]||window.cur.privacy._types;a.innerHTML=u[S.someType],w.nextSibling.innerHTML=": "+d,window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i,n)},customSaved(i,e,t,s){const n=window.cur.privacy[i];window.cur.privacy[i]=e;const l=window.cur.privacy.lang||{};if(1==e[1]&&!e[3].length||e[0]==S.listsType)S.update(i,n);else if(e[0]==S.someType)S.someSaved(i,e[2],t,!0);else{const n=(0,o.ge)("privacy_edit_"+i),c=(0,o.gpeByClass)("privacy_edit_wrap",n),d=window.cur.privacy[i+"_types"]||window.cur.privacy._types,a=window.cur.privacy[i+"_lists"]||window.cur.privacy._lists||{};let w=d[S.listsType],u="";if(1==e[1])w=d[e[2][0]];else{u=[];const i=t.length;let e=!1;for(let r=0;r<i&&r<5;++r){const i=t[r],s=i[0];if(v.Ranges.isUserId(Number(s))){const t=i[4].replace(/'/g,"");e=!0,u.push('<a href="/'+(t||"id"+s)+'" onclick="return nav.go(this, event)">'+i[6]+"</a>")}else{const i=-s,e=(i-1)%8+1;u.push('<a href="/friends?section=list'+i+'" class="group'+e+'" role="listitem">'+a[i]+"</a>")}}e&&(w=d[S.someType]),u=": "+u.join(", "),i>5&&(u+=" "+r.getLang(l.some||"privacy_N_friends_some",i-5))}if(s.length){const i=s.length,e=[];for(let t=0;t<i&&t<5;++t){const i=s[t],r=i[0];if(v.Ranges.isUserId(Number(r))){const t=i[4].replace(/'/g,"");e.push('<a href="/'+(t||"id"+r)+'" onclick="return nav.go(this, event)">'+i[6]+"</a>")}else{const i=-r,t=(i-1)%8+1;e.push('<a href="/friends?section=list'+i+'" class="group'+t+'" role="listitem">'+a[i]+"</a>")}}u+=", "+r.getLang("global_privacy_except")+" "+e.join(", "),i>5&&(u+=" "+r.getLang("privacy_N_friends_more",i-5))}n.innerHTML=w,c.nextSibling.innerHTML=u,(0,o.hasClass)(c,"privacy_graphic")&&(e[1]&&e[2]&&"0"==e[2][0]?o.removeClass:o.addClass)(c,"privacy_locked"),window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(i)}},choose(i,e,t,r){const s=window.cur.privSel,n=window.cur.privacy._noselect||"chat_actions"===s;let l=window.cur.privacy[s];if(!window.cur.privacyNeedConfirm||r){if(n)return window.cur.onPrivacyChanged&&window.cur.onPrivacyChanged(s,e,t),S.qhide(),(0,c.cancelEvent)(i);if(e==S.customType){let i,e,t=[],r="";return l[0]==S.customType?(i=l[1],e=l[2],t=l[3]):l[0]==S.someType||l[0]==S.listsType?(i=0,e=l[2]):(i=1,e=l[2]),window.cur.onCprivSave=S.customSaved.pbind(s),window.cur.privacy.custom_box_type&&(r=window.cur.privacy.custom_box_type),(0,f.showBox)("al_friends.php",(0,a.extend)(window.cur.privacy.chooseBoxOpts||{},{act:"custom_privacy_box",type:i,plus:e.join(","),minus:t.join(","),opt:r,key:s}),{stat:["ui_controls.js","ui_controls.css"]})}if(e==S.someType){const i=l[0]==S.someType||l[0]==S.complexType&&0==l[1]?l[2].join(","):"";return window.cur.onFlistSave=function(i,e){S.someSaved(s,i,e)},(0,f.showTabbedBox)("al_friends.php",(0,a.extend)({},window.cur.privacy.chooseBoxOpts||{},{act:"select_friends_box",Checked:i,pagination:window.cur.privacy.pagination?1:""}),{stat:["ui_controls.js"]})}if(e==S.listsType){const r=(0,o.ge)("privacy_l_item"+t);if(!r&&s.match("profile_button"))l=window.cur.privacy[s]=[e,0,[-t],[]];else if("l_item_sel"==r.className){r.className="l_item";const i=(0,a.indexOf)(l[2],-t);if(-1!=i&&l[2].splice(i,1),!l[2].length&&"updates"!=s){const i=window.cur.privacy[s+"_types"]||window.cur.privacy._types,e=Object.keys(i);window.cur.privacy[s]=[(0,a.intval)(e[0]),1,[0],[]]}}else r.className="l_item_sel",l[0]!=e&&(l=window.cur.privacy[s]=[e,0,[],[]]),l[2].push(-t);return S.update(s,l),(0,c.cancelEvent)(i)}window.cur.privacy[s]=[e,1,[e],[]],S.update(s,l),S.qhide()}else window.cur.privacyNeedConfirm(s,e,(()=>{S.show((0,o.ge)("privacy_edit_"+s),i,s),S.choose(i,e,t,!0)}))},select(i,e){if(!e&&i===window.cur.privSelIndex)return;if(!1!==window.cur.privSelIndex){const i=(0,o.ge)("privacy_item"+window.cur.privSelIndex);i&&(i.className="item"),window.cur.privSelIndex==S.listsType&&window.cur.privacy[window.cur.privSel][0]!=S.listsType&&(0,o.hide)(i.nextSibling)}window.cur.privSelIndex=i;const t=(0,o.ge)("privacy_item"+window.cur.privSelIndex),r=window.cur.privSelIndex==S.someType?"_plus":"";t.nextSibling&&t.nextSibling.id=="privacy_item"+S.listsType&&(0,o.isVisible)(t.nextSibling.nextSibling)?t.className="last item_sel"+r:i==S.listsType?(0,o.show)(t.nextSibling):t.className="item_sel"+r},unselect(i){i==window.cur.privSelIndex&&((0,o.ge)("privacy_item"+i).className="item",window.cur.privSelIndex=!1)},hide(i){if(i&&i>0)return void(window.cur.hidePrivacyTimer=window.setTimeout((()=>S.hide(0)),i));clearTimeout(window.cur.hidePrivacyTimer);const e=(0,o.ge)("privacy_header");e&&(-1===i?((0,o.hide)(window.cur.privEl),e&&e.tt&&(0,a.isFunction)(e.tt.hide)&&e.tt.hide()):o.isVisible&&((0,n.fadeOut)(window.cur.privEl,200),e&&e.tt&&(0,a.isFunction)(e.tt.hide)&&e.tt.hide()),window.cur.privSel=window.cur.privSelIndex=!1,(0,c.removeEvent)(document,"click",S.qhide))},show(i,e,t){if((0,o.hasClass)(i,"privacy_link_disabled"))return(0,c.cancelEvent)(e);const r=window.cur.privacy[t],s=(0,o.gpeByClass)("privacy_edit_wrap",i);if(!r||!s)return;if(window.cur.onPrivacyShow&&window.cur.onPrivacyShow(t),window.cur.privEl||(window.cur.privEl=(0,o.ge)("privacy_dropdown"),window.cur.privEl&&(window.cur.privRows=window.cur.privEl.firstChild)),window.cur.privEl){if(window.cur.privEl.parentNode!=s){(0,o.re)(window.cur.privEl),window.cur.privEl=s.appendChild(window.cur.privEl);const i=(0,o.ge)("privacy_header");i&&i.tt&&(0,a.isFunction)(i.tt.hide)&&i.tt.hide()}}else window.cur.privEl=s.appendChild((0,o.ce)("div",{id:"privacy_dropdown",innerHTML:'<div class="rows rows__flex"></div>'})),window.cur.privRows=window.cur.privEl.firstChild,(0,c.addEvent)(window.cur.privEl,"mouseout",S.hide.pbind(500)),(0,c.addEvent)(window.cur.privEl,"mouseover",(()=>{clearTimeout(window.cur.hidePrivacyTimer)}));window.cur.privEl.className="privacy_dropdown privacy_dropdown_"+t,setTimeout(c.addEvent.pbind(document,"click",S.qhide),1);const n=window.cur.privacy[t+"_types"]||window.cur.privacy._types,l=window.cur.privacy[t+"_lists"]||window.cur.privacy._lists||{},d=window.cur.privacy[t+"_hidden"]||window.cur.privacy._hidden||{},w=(0,o.getStyle)(i,"fontSize")||parseInt(window.getComputedStyle(document.body).fontSize);(0,o.setStyle)(window.cur.privRows,{fontSize:w}),window.cur.privSelIndex=r[0],d[window.cur.privSelIndex]&&(window.cur.privSelIndex=0);const f=[];let p,_,h=Object.keys(l).length>0;f.push('<div class="header" onclick="Privacy.hide(-1)"><div id="privacy_header" class="header_label">'+i.innerHTML+"</div></div>"),f.push('<div class="body body__flex" role="list" aria-labelledby="privacy_who_can_view">');let v=Object.entries(n);const y=v.findIndex((i=>Number(i[0])===S.specialTypes[0]));if(-1!==y){const i=v.splice(y,1);v=[...i,...v]}for(let[i,e]of v){const t=g(i,e);t&&f.push(t)}function g(i,e){if(d[i])return"";p=i==window.cur.privSelIndex&&i!=S.listsType?"_sel":"";let t="",r="";if(t+=`onmouseover="Privacy.select('${i}')"`,t+="list28"===i?' onclick="Privacy.choose(event, 6, 28)"':` onclick="Privacy.choose(event, '${i}')"`,t+=` onkeydown="if (event.key === 'Tab') {if (event.shiftKey) {Privacy.select('${+i-1}')} else {Privacy.select('${+i+1}')}}"`,i==S.listsType&&h&&(r=' tabindex="-1"'),i==S.listsType){if(!h)return""}else t+=` onmouseout="Privacy.unselect('${i}')"`;return p&&i==S.someType&&(p+="_plus"),'<button role="listitem" class="item'+p+'" id="privacy_item'+i+'" '+t+r+'type="button">'+e+"</button>"}if(n[S.listsType]&&h){_=window.cur.privSelIndex!=S.listsType,f.push('<div id="privacy_lists" class="privacy_lists privacy_lists__flex">'),f.push('<div class="l_header" onclick="return cancelEvent(event)"><div class="l_header_label">'+n[S.listsType]+"</div></div>");for(let i in l)if(l.hasOwnProperty(i)){const e=parseInt(i);p=_?"":(0,a.inArray)(-e,r[2])?"_sel":"",f.push('<button class="l_item'+p+'" id="privacy_l_item'+e+'" onclick="Privacy.choose(event, '+S.listsType+", "+e+')"><div class="privacy_item_icon"></div><span class="l_item_text">'+l[i]+"</span></button>")}f.push("</div>")}f.push("</div>"),window.cur.privRows.innerHTML=f.join(""),window.cur.privSel=t;const m=(0,o.data)(window.cur.privEl,"tween");m&&m.stop(!0),(0,o.show)(window.cur.privEl),n[S.listsType]&&_&&(0,o.hide)("privacy_lists"),S.toup=!1,(0,o.getClientRectOffsetY)(window.cur.privEl)>0&&(0,o.getClientRectOffsetY)(window.cur.privEl,!1,(0,o.getSize)(window.cur.privEl)[1])>0&&(S.toup=!0),S.toup?(0,o.addClass)(window.cur.privEl,"pdd_to_up"):(0,o.removeClass)(window.cur.privEl,"pdd_to_up"),window.cur.privacy[t+"_ralign"]?(0,o.addClass)(window.cur.privEl,"pdd_ralign"):(0,o.removeClass)(window.cur.privEl,"pdd_ralign");const C=window.cur.privacy[t+"_help"],L=window.cur.privacy[t+"_help_w"];if(C){const i=(0,o.ge)("privacy_header"),e=(0,o.getSize)(i);(0,u.showTooltip)(i,{text:C,width:L||300,dir:"left",slideX:15,shift:[-(e[0]+10),-e[1]/2,0],nohide:!0})}return(0,c.cancelEvent)(e)},getValue(i){if(!window.cur.privacy||!window.cur.privacy[i])return"";const e=window.cur.privacy[i];let t=[];if(e[0]<S.customType||e[0]==S.contactsType||S.specialTypes.some((i=>e[0]==i)))t=[e[0]];else if(e[0]==S.someType)t=[4,e[2].join(",")];else if(e[0]==S.listsType){const i=[];for(let t in e[2])e[2].hasOwnProperty(t)&&i.push(-e[2][t]);t=[5,i.join(",")]}else t=[-1,e[1],e[2].join(","),e[3].join(",")];return t.join("_")}};S.qhide=S.hide.pbind(-1)}},l={};function c(i){var e=l[i];if(void 0!==e)return e.exports;var t=l[i]={exports:{}};return o[i].call(t.exports,t,t.exports,c),t.exports}c.m=o,i=[],c.O=(e,t,r,s)=>{if(!t){var n=1/0;for(a=0;a<i.length;a++){for(var[t,r,s]=i[a],o=!0,l=0;l<t.length;l++)(!1&s||n>=s)&&Object.keys(c.O).every((i=>c.O[i](t[l])))?t.splice(l--,1):(o=!1,s<n&&(n=s));if(o){i.splice(a--,1);var d=r();void 0!==d&&(e=d)}}return e}s=s||0;for(var a=i.length;a>0&&i[a-1][2]>s;a--)i[a]=i[a-1];i[a]=[t,r,s]},c.n=i=>{var e=i&&i.__esModule?()=>i.default:()=>i;return c.d(e,{a:e}),e},t=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__,c.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var s=Object.create(null);c.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>n[e]=()=>i[e]));return n.default=()=>i,c.d(s,n),s},c.d=(i,e)=>{for(var t in e)c.o(e,t)&&!c.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:e[t]})},c.f={},c.e=i=>Promise.all(Object.keys(c.f).reduce(((e,t)=>(c.f[t](i,e),e)),[])),c.u=i=>25394===i?"AudioLongtapModal.7e0dfcf5bfaeea74634a.js":24817===i?"hls.7bfefe299fa92971b99a.js":75980===i?"menu_settings.ef06223020efb2b6ec6b.js":79852===i?"37d152adcd0dd111ce505d394803d701.async.f06867e3cb1f30e8925c.js":96816===i?"web-audio-lyrics-modal.1a211e52d789ac7fac77.js":9375===i?"voice_message_player.f0c31b4a3dc08de145c9.js":28762===i?"speech.be0c329a1eff7c81577d.js":57468===i?"SilentModeForms.3d45c322ccf50af43298.js":28872===i?"feed-client-nav-skeleton.93951c516f1e3f2a55ad.js":35953===i?"feed-client-nav-async-right-block.98e503ddcd7a638e1b63.js":9202===i?"9202.be55f73a991e4eb41a2e.js":79118===i?i+".87b62f94f0e27cef52c4.js":void 0,c.miniCssF=i=>i+"."+{25394:"5e3e105ffae6ba5c38a9",57468:"a2979e7d82457c1ea9fc",75980:"5bbee2c9f3e189193a73"}[i]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(i){if("object"==typeof window)return window}}(),c.o=(i,e)=>Object.prototype.hasOwnProperty.call(i,e),r={},c.l=(i,e,t,s)=>{if(r[i])r[i].push(e);else{var n,o;if(void 0!==t)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var a=l[d];if(a.getAttribute("src")==i||a.getAttribute("data-webpack")=="vk:"+t){n=a;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,c.nc&&n.setAttribute("nonce",c.nc),n.setAttribute("data-webpack","vk:"+t),n.src=i),r[i]=[e];var w=(e,t)=>{n.onerror=n.onload=null,clearTimeout(u);var s=r[i];if(delete r[i],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((i=>i(t))),e)return e(t)},u=setTimeout(w.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=w.bind(null,n.onerror),n.onload=w.bind(null,n.onload),o&&document.head.appendChild(n)}},c.r=i=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},c.p="/dist/",s=i=>new Promise(((e,t)=>{var r=c.miniCssF(i),s=c.p+r;if(((i,e)=>{for(var t=document.getElementsByTagName("link"),r=0;r<t.length;r++){var s=(o=t[r]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===i||s===e))return o}var n=document.getElementsByTagName("style");for(r=0;r<n.length;r++){var o;if((s=(o=n[r]).getAttribute("data-href"))===i||s===e)return o}})(r,s))return e();((i,e,t,r)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)t();else{var o=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+i+" failed.\n("+l+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=l,s.parentNode.removeChild(s),r(c)}},s.href=e,document.head.appendChild(s)})(i,s,e,t)})),n={27824:0},c.f.miniCss=(i,e)=>{n[i]?e.push(n[i]):0!==n[i]&&{25394:1,57468:1,75980:1}[i]&&e.push(n[i]=s(i).then((()=>{n[i]=0}),(e=>{throw delete n[i],e})))},(()=>{c.b=document.baseURI||self.location.href;var i={27824:0};c.f.j=(e,t)=>{var r=c.o(i,e)?i[e]:void 0;if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(((t,s)=>r=i[e]=[t,s]));t.push(r[2]=s);var n=c.p+c.u(e),o=new Error;c.l(n,(t=>{if(c.o(i,e)&&(0!==(r=i[e])&&(i[e]=void 0),r)){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",o.name="ChunkLoadError",o.type=s,o.request=n,r[1](o)}}),"chunk-"+e,e)}},c.O.j=e=>0===i[e];var e=(e,t)=>{var r,s,[n,o,l]=t,d=0;if(n.some((e=>0!==i[e]))){for(r in o)c.o(o,r)&&(c.m[r]=o[r]);if(l)var a=l(c)}for(e&&e(t);d<n.length;d++)s=n[d],c.o(i,s)&&i[s]&&i[s][0](),i[s]=0;return c.O(a)},t=self.webpackChunkvk=self.webpackChunkvk||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var d=c.O(void 0,[75514,98066,56990,76400,24509,40885,68592],(()=>c(978703)));d=c.O(d)})();