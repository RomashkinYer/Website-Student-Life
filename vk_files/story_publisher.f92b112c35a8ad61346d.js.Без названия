(()=>{"use strict";var e,t,r,i,a,o,s={892169:(e,t,r)=>{r.d(t,{Icon16MoreHorizontal:()=>i});var i=(0,r(28178).makeIcon)("Icon16MoreHorizontal","more_horizontal_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="more_horizontal_16"><path fill="currentColor" d="M13 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3" /></symbol>',16,16,!1,void 0)},22892:(e,t,r)=>{r.d(t,{createCacheService:()=>a});var i=r(778748);const a=e=>{const t=(0,i.getEffectorServiceDomain)(e),r=Object.create(null),a=t.createStore(Object.create(null)),o=t.createEvent("add"),s=t.createEvent("delete");return a.on(o,((e,{key:t,data:r})=>(e[t]=r,e))).on(s,((e,t)=>(delete e[t],e))),{$cache:a,add:o,delete:s,get:e=>a.getState()[e]||null,isWaited:e=>void 0!==r[e],getWaited:e=>r[e],setWaited:(e,t)=>{r[e]=t},deleteWaited:e=>{delete r[e]}}}},634167:(e,t,r)=>{r.d(t,{createOwnerService:()=>a.createOwnerService,createUserService:()=>i.createUserService});var i=r(300917),a=r(171158)},171158:(e,t,r)=>{r.d(t,{createOwnerService:()=>_});var i=r(434788),a=r(798116),o=r(599809),s=r(931917),n=r(22892),c=r(778748),l=r(654198);const d=(0,n.createCacheService)(),_=e=>{const t=e.fields||[],r=(0,c.getEffectorServiceDomain)(e),n=r.createStore({id:0}),_=r.createEvent("initialize"),p=r.createEvent("reload"),u=r.createEffect({name:"initializeFx"}),f=u.pending,v=u.doneData;return u.use((({ownerId:e,useCache:r})=>{if(r){const r=d.get(e);if(r){if(t.every((e=>r.hasOwnProperty(e))))return Promise.resolve(r)}}if(d.isWaited(e)){const r=d.getWaited(e).find((e=>t.every((t=>Boolean(e.fields[t])))));if(r)return r.promise.finally((()=>{d.deleteWaited(e)})),r.promise}let i=s.Ranges.isGroupId(e)?(0,o.apiWithPrefetch)("groups.getById",{group_ids:String(e),fields:t.join(",")}).then((t=>{var r;return(null==(r=t.groups)?void 0:r[0])||{id:e}})):(0,o.apiWithPrefetch)("users.get",{user_ids:String(e),fields:t.join(",")}).then((e=>e[0]));const a={fields:t.reduce(((e,t)=>(e[t]=!0,e)),{}),promise:i},n=d.isWaited(e)?[...d.getWaited(e),a]:[a];return d.setWaited(e,n),i})),(0,a.sample)({clock:_,source:n,filter:(e,t)=>e.id!==t,fn:(t,r)=>{var i;return{ownerId:r,useCache:Boolean(null==(i=e)?void 0:i.useCache)}},target:u}),(0,a.sample)({clock:p,source:n,fn:e=>({ownerId:e.id}),target:u}),(0,a.sample)({clock:u.doneData,target:n}),(0,a.sample)({clock:u.doneData,filter:()=>{var t;return Boolean(null==(t=e)?void 0:t.useCache)},fn:e=>{const t=d.get(e.id);if(t){if((0,l.isOwnerUser)(t)&&(0,l.isOwnerUser)(e))return{key:e.id,data:(0,i._)({},t,e)};if((0,l.isOwnerGroup)(t)&&(0,l.isOwnerGroup)(e))return{key:e.id,data:(0,i._)({},t,e)}}return{key:e.id,data:e}},target:d.add}),{$isInitializing:f,$owner:n,initialize:_,onInitialized:v,reload:p}}},300917:(e,t,r)=>{r.d(t,{createUserService:()=>n});var i=r(11010),a=r(434788),o=r(798116),s=r(599809);const n=({domain:e})=>{const t=(e,t)=>!(!e||e.id!==t.userId),r=e.createStore(null),n=e.createEffect((({params:e})=>(0,s.apiWithPrefetch)("users.get",e))),c=e.createEffect((0,i._)((function*(e){return{userId:e.params.owner_id,response:yield(0,s.api)("wall.subscribe",e.params)}}))),l=e.createEffect((0,i._)((function*(e){return{userId:e.params.owner_id,response:yield(0,s.api)("wall.unsubscribe",e.params)}}))),d=e.createEffect((0,i._)((function*(e){return{userId:e.params.owner_id,response:yield(0,s.api)("video.liveSubscribe",e.params)}}))),_=e.createEffect((0,i._)((function*(e){return{userId:e.params.owner_id,response:yield(0,s.api)("video.liveUnsubscribe",e.params)}}))),p=e.createEffect((0,i._)((function*(e){return{userId:e.params.user_id,response:yield(0,s.api)("fave.addUser",e.params)}}))),u=e.createEffect((0,i._)((function*(e){return{userId:e.params.user_id,response:yield(0,s.api)("fave.removeUser",e.params)}}))),f=e.createEffect((0,i._)((function*(e){return{userId:e.params.owner_id,response:yield(0,s.api)("account.ban",e.params)}}))),v=e.createEffect((0,i._)((function*(e){return{userId:e.params.owner_id,response:yield(0,s.api)("account.unban",e.params)}}))),S=e.createEffect((0,i._)((function*(e){return{userId:e.params.user_id,response:yield(0,s.api)("bestFriends.add",e.params)}}))),E=e.createEffect((0,i._)((function*(e){return{userId:e.params.user_id,response:yield(0,s.api)("bestFriends.delete",e.params)}})));return(0,o.sample)({clock:n.doneData,fn:e=>e[0]||null,target:r}),(0,o.sample)({clock:c.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{is_subscribed:1}),target:r}),(0,o.sample)({clock:l.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{is_subscribed:0}),target:r}),(0,o.sample)({clock:d.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{video_live:e.video_live?(0,a._)({},e.video_live,{is_notifications_blocked:0}):void 0}),target:r}),(0,o.sample)({clock:_.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{video_live:e.video_live?(0,a._)({},e.video_live,{is_notifications_blocked:1}):void 0}),target:r}),(0,o.sample)({clock:p.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{is_favorite:1}),target:r}),(0,o.sample)({clock:u.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{is_favorite:0}),target:r}),(0,o.sample)({clock:f.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{blacklisted_by_me:1}),target:r}),(0,o.sample)({clock:v.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{blacklisted_by_me:0}),target:r}),(0,o.sample)({clock:S.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{is_best_friend:!0}),target:r}),(0,o.sample)({clock:E.doneData,source:r,filter:t,fn:e=>(0,a._)({},e,{is_best_friend:!1}),target:r}),{fetchUserFx:n,subscribeToPostsFx:c,unsubscribeFromPostsFx:l,subscribeToVideoLiveFx:d,unsubscribeFromVideoLiveFx:_,faveAddUserFx:p,faveRemoveUserFx:u,accountBanFx:f,accountUnbanFx:v,bestFriendAddFx:S,bestFriendDeleteFx:E,$user:r,domain:e}}},172721:(e,t,r)=>{r.d(t,{apiFaveAddNarrative:()=>a,apiFaveRemoveNarrative:()=>o});var i=r(599809);function a(e){return(0,i.api)("fave.addNarrative",e)}function o(e){return(0,i.api)("fave.removeNarrative",e)}},65856:(e,t,r)=>{r.d(t,{createFaveService:()=>i.createFaveService});r(172721);var i=r(34570)},34570:(e,t,r)=>{r.d(t,{createFaveService:()=>o});var i=r(798116),a=r(172721);const o=({domain:e})=>{const t=e.createEvent("fire/faveAddNarrative"),r=e.createEvent("fire/faveRemoveNarrative"),o=e.createEffect("fx/faveAddNarrative"),s=e.createEffect("fx/faveRemoveNarrative");return o.use(a.apiFaveAddNarrative),s.use(a.apiFaveRemoveNarrative),(0,i.sample)({clock:t,target:o}),(0,i.sample)({clock:r,target:s}),{fireAddNarrative:t,fireRemoveNarrative:r,addNarrativeFx:o,removeNarrativeFx:s}}},346805:(e,t,r)=>{r.d(t,{sendUploadRequest:()=>i});const i=(e,t,r)=>new Promise(((i,a)=>{const o=new XMLHttpRequest;o.open("POST",e,!0),r&&(o.upload.onloadstart=e=>{r(e)},o.upload.onprogress=e=>{r(e)}),o.onerror=()=>{a("Unknown error")},o.onreadystatechange=()=>{o.readyState===XMLHttpRequest.DONE&&(200===o.status?i(o.responseText):a())},o.send(t)}))},296195:(e,t,r)=>{r.d(t,{MAX_STORY_VIDEO_DURATION:()=>_,getStoryUploadUrl:()=>S,getStoryUploadUrlApi:()=>v,saveStoryOnServer:()=>g,uploadStoryBlobToServer:()=>E});var i=r(434788),a=r(664988),o=r(404145),s=r(839470),n=r(332268),c=r(517366),l=r(659397),d=r(346805);const _=16,p=(0,o.isMvk)()?(0,s.partConfigEnabled)("mvk_stories-publisher_move-to-api-and-go-upload"):(0,s.partConfigEnabled)("web_stories-publisher_move-to-api-and-go-upload"),u=(e,t)=>{const{id:r,entry_point:i,ref:a,clickable_stickers:o,question_id:s,mini_app_id:n,live_cover:c,add_to_news:l=1,analytics:d,attachment:_,situational_suggest_id:p,live_cover_position:u,is_authors_ads:f,ord_external_id:v,ord_erid:S}=e,E={group_id:r,add_to_news:l,entry_point:i,ref:a,clickable_stickers:o,question_id:s,mini_app_id:n,live_cover:c,analytics:d,situational_suggest_id:p,is_authors_ads:f?1:0,ord_external_id:v,ord_erid:S};if(_){var g,m,h,I,T;const e=JSON.parse(_);e.type&&!["url","playlist"].includes(e.type)&&(E.attach_type=e.type),(null==(g=e)?void 0:g.url)&&(E.link_url=e.url),(null==(m=e)?void 0:m.text)&&(E.link_text=e.text),(null==(h=e)?void 0:h.owner_id)&&(E.attach_owner_id=e.owner_id),(null==(I=e)?void 0:I.id)&&(E.attach_id=e.id),(null==(T=e)?void 0:T.access_key)&&(E.attach_access_key=e.access_key)}return E.attach_type||(E.attach_type=t),c&&u&&(E.live_cover_position=u),E};function f(e){var t,r,i;if(!e)return"";return(null==(i=null==(r=(0,l.isString)(e)?JSON.parse(e):e||[])||null==(t=r.stickers)?void 0:t.map((e=>{var t;return null==(t=e)?void 0:t.id})))?void 0:i.join(","))||""}function v(e,t){return t===c.StoryType.PHOTO?n.storiesService.getPhotoUploadServerFx((0,i._)({},e,{sticker_ids:f(e.analytics),upload_v2:1})).then((({upload_url:e})=>e)):n.storiesService.getVideoUploadServerFx(e).then((({upload_url:e})=>e))}function S(e,t){if(p){return v(u(e,t),t)}return new Promise(((t,r)=>{window.ajax.post((0,o.isMvk)()?"stories.php":"al_stories.php",(0,i._)({act:"get_upload_url"},e),{onDone:t,onError:r,onFail:r})}))}function E(e,t,r){const i=new FormData,o=encodeURIComponent(`edited_${(0,a.irand)(0,99999)}.jpg`);return i.append(p?"file":"file0",e,o),(0,d.sendUploadRequest)(t,i,r)}function g(e,t,r){if(p){var i,a;const r=t===c.StoryType.PHOTO?e:null==(a=JSON.parse(e))||null==(i=a.response)?void 0:i.upload_result;return n.storiesService.saveFx({upload_results_json:JSON.stringify([{upload_result:r}])}).then((({items:e})=>({story:e[0]})))}return new Promise(((t,i)=>{var a,s;window.ajax.post((0,o.isMvk)()?"stories.php":"al_stories.php",{act:"save",upload_result:null==(s=JSON.parse(e))||null==(a=s.response)?void 0:a.upload_result,hash:r},{onDone:t,onError:i,onFail:i})}))}},517366:(e,t,r)=>{var i,a,o,s,n,c,l,d;r.d(t,{StickerTypes:()=>c,StoryBlockType:()=>s,StoryEntryPoint:()=>a,StoryListName:()=>n,StoryPollBackgroundType:()=>d,StorySource:()=>o,StoryStickerSubtype:()=>l,StoryType:()=>i}),function(e){e.PHOTO="photo",e.VIDEO="video",e.LIVE="live"}(i||(i={})),function(e){e.SWIPE="swipe",e.NAVIGATION_BUTTON="navigation_button",e.SIT_POSTING="sit_posting",e.LINK="link",e.STORY_REPLY="story_reply",e.STORY_REPOST="story_repost",e.CATALOG_ADD="catalog_add",e.DIALOG="dialog",e.STORY_LIVE_FINISHED="story_live_finished",e.DIALOG_VKME="dialog_vkme",e.STORY_VIEWER_FINISHED="story_viewer_finished",e.PUSH_TRY_MASK="push_try_mask",e.STORY_VIEWER_TRY_MASK="story_viewer_try_mask",e.LINK_MASK="link_mask",e.POSTING="posting",e.NEW_STORY_AVATAR="new_story_avatar",e.STORY_REPLIES_LIST="story_replies_list",e.STORIES_FEED="stories_feed",e.STORIES_SEARCH_NEWS="stories_search_news",e.QUESTION_STICKER="question_sticker",e.LIST_MIDDLE="list_middle",e.ARCHIVE_EMPTY_BUTTON="archive_empty_button",e.ARCHIVE_MENU_BUTTON="archive_menu_button",e.IM="im",e.PROFILE_BUTTON="profile_button",e.SHARE="share",e.MINI_APP="mini_app",e.SYSTEM_SHARING="system_sharing",e.SHORTCUT="shortcut",e.ARCHIVE_SHARING="archive_sharing",e.STORY_VIEWER_CAMERA_BUTTON="story_viewer_camera_button",e.STORY_VIEWER_MUSIC="story_viewer_music",e.STORY_VIEWER_MUSIC_SHEET="story_viewer_music_sheet",e.REPOST_TO_STORY_ACTIVITY="repost_to_story_activity",e.CHANGE_AVATAR="change_avatar"}(a||(a={})),function(e){e.FEED="feed",e.FEED_MIDDLE="feed_middle",e.LINK="link",e.PROFILE="profile",e.IM_DIALOGS="im_dialogs",e.IM_DIALOG_HEADER="im_dialog_header",e.SNIPPET="snippet",e.REPLY="reply",e.REPLIES_LIST="replies_list",e.REPLY_STORY="reply_story",e.DISCOVER="discover",e.STORIES_MANAGE="stories_manage",e.USER_PERSONAL_CARD="user_personal_card",e.GROUP_PERSONAL_CARD="group_personal_card",e.NARRATIVE_SNIPPET="narrative_snippet",e.NARRATIVE_STORY="narrative_story",e.NARRATIVE_LINK="narrative_link",e.NARRATIVE_RECOMMENDATIONS="narrative_recommendations",e.NARRATIVE_SECTION="narrative_section",e.FAVE="fave",e.SPAMFEED="sf",e.ADS_PREVIEW="ads_preview",e.LIST_MIDDLE="list_middle",e.PLACE_STORY_LIST="place_story_list",e.SEARCH_STORY_LIST="search_story_list",e.STORY_ARCHIVE="story_archive",e.IM_MSG_LIST="im_msg_list",e.NOSPAM="nospam",e.PROFILE_SNACKBAR="profile_snackbar",e.MY_QUESTIONS="question_story"}(o||(o={})),function(e){e.stories="stories",e.appGroupedStories="app_grouped_stories",e.discover="discover"}(s||(s={})),function(e){e.feed="feed",e.apps="apps",e.discover="discover"}(n||(n={})),function(e){e[e.hashtag=1]="hashtag",e[e.mention=2]="mention",e[e.question=3]="question",e[e.place=4]="place",e[e.music=5]="music",e[e.storyReply=6]="storyReply",e[e.owner=7]="owner",e[e.link=8]="link",e[e.marketItem=9]="marketItem",e[e.post=10]="post",e[e.poll=11]="poll",e[e.sticker=12]="sticker",e[e.app=13]="app",e[e.situationalTheme=14]="situationalTheme",e[e.playlist=15]="playlist",e[e.videoButton=16]="videoButton"}(c||(c={})),function(e){e.aliexpress="aliexpress_product",e.market="market_item"}(l||(l={})),function(e){e.photo="photo",e.gradient="gradient",e.default="default"}(d||(d={}))},389920:(e,t,r)=>{r.d(t,{apiLikesAdd:()=>a,apiLikesDelete:()=>o});var i=r(599809);function a(e){return(0,i.api)("likes.add",e)}function o(e){return(0,i.api)("likes.delete",e)}},274857:(e,t,r)=>{var i;!function(e){e.Story="story"}(i||(i={}))},655555:(e,t,r)=>{r.d(t,{createLikesService:()=>i.createLikesService});var i=r(202269);r(389920),r(274857)},202269:(e,t,r)=>{r.d(t,{createLikesService:()=>o});var i=r(798116),a=r(389920);const o=({domain:e})=>{const t=e.createEvent("fire/likesAdd"),r=e.createEvent("fire/likesDelete"),o=e.createEffect("fx/likesAdd"),s=e.createEffect("fx/likesDelete");return o.use(a.apiLikesAdd),s.use(a.apiLikesDelete),(0,i.sample)({clock:t,target:o}),(0,i.sample)({clock:r,target:s}),{fireAdd:t,fireDelete:r,addFx:o,deleteFx:s}}},543384:(e,t,r)=>{r.d(t,{apiMessagesSend:()=>a});var i=r(599809);function a(e){return(0,i.api)("messages.send",e)}},105338:(e,t,r)=>{r.d(t,{apiMessagesSend:()=>i.apiMessagesSend,createMessagesService:()=>a.createMessagesService});var i=r(543384),a=r(429128)},429128:(e,t,r)=>{r.d(t,{createMessagesService:()=>o});var i=r(798116),a=r(543384);const o=({domain:e})=>{const t=e.createEvent("fire/messageSend"),r=e.createEffect("fx/messageSend");return r.use(a.apiMessagesSend),(0,i.sample)({clock:t,target:r}),{fireMessagesSend:t,sendFx:r}}},494810:(e,t,r)=>{r.d(t,{apiNarrativesBatchEdit:()=>s,apiNarrativesCreate:()=>a,apiNarrativesDelete:()=>n,apiNarrativesEdit:()=>o,apiNarrativesGetById:()=>c,apiNarrativesGetFeedBlock:()=>l,apiNarrativesGetFromOwner:()=>d,apiNarrativesReorder:()=>p,apiNarrativesSaveCustomCover:()=>_});var i=r(599809);function a(e){return(0,i.api)("narratives.create",e)}function o(e){return(0,i.api)("narratives.edit",e)}function s(e){return(0,i.api)("narratives.batchEdit",e)}function n(e){return(0,i.api)("narratives.delete",e)}function c(e){return(0,i.api)("narratives.getById",e)}function l(e={}){return(0,i.api)("narratives.getFeedBlock",e)}function d(e){return(0,i.api)("narratives.getFromOwner",e)}function _(e){return(0,i.api)("narratives.saveCustomCover",e)}function p(e){return(0,i.api)("narratives.reorder",e)}},683313:(e,t,r)=>{r.d(t,{apiNarrativesGetById:()=>a.apiNarrativesGetById,apiNarrativesGetFeedBlock:()=>a.apiNarrativesGetFeedBlock,apiNarrativesGetFromOwner:()=>a.apiNarrativesGetFromOwner,createNarrativesService:()=>i.createNarrativesService});var i=r(382983),a=r(494810)},382983:(e,t,r)=>{r.d(t,{createNarrativesService:()=>o});var i=r(798116),a=r(494810);const o=({domain:e})=>{const t=e.createEvent("fire/narrativesGetById"),r=e.createEvent("fire/narrativesGetFromOwner"),o=e.createEvent("fire/narrativesGetFeedBlock"),s=e.createEvent("fire/narrativesCreate"),n=e.createEvent("fire/narrativesEdit"),c=e.createEvent("fire/narrativesBatchEdit"),l=e.createEvent("fire/narrativesDelete"),d=e.createEvent("fire/narrativesSaveCustomCover"),_=e.createEvent("fire/narrativesReorder"),p=e.createEffect("fx/narrativesGetById"),u=e.createEffect("fx/narrativesGetFromOwner"),f=e.createEffect("fx/narrativesGetFeedBlock"),v=e.createEffect("fx/narrativesCreate"),S=e.createEffect("fx/narrativesEdit"),E=e.createEffect("fx/narrativesBatchEdit"),g=e.createEffect("fx/narrativesDelete"),m=e.createEffect("fx/narrativesSaveCustomCover"),h=e.createEffect("fx/narrativesReorder");return p.use(a.apiNarrativesGetById),u.use(a.apiNarrativesGetFromOwner),f.use(a.apiNarrativesGetFeedBlock),v.use(a.apiNarrativesCreate),S.use(a.apiNarrativesEdit),E.use(a.apiNarrativesBatchEdit),g.use(a.apiNarrativesDelete),m.use(a.apiNarrativesSaveCustomCover),h.use(a.apiNarrativesReorder),(0,i.sample)({clock:t,target:p}),(0,i.sample)({clock:r,target:u}),(0,i.sample)({clock:o,target:f}),(0,i.sample)({clock:s,target:v}),(0,i.sample)({clock:n,target:S}),(0,i.sample)({clock:c,target:E}),(0,i.sample)({clock:l,target:g}),(0,i.sample)({clock:d,target:m}),(0,i.sample)({clock:_,target:h}),{fireGetById:t,fireGetFromOwner:r,fireGetFeedBlock:o,fireCreate:s,fireEdit:n,fireBatchEdit:c,fireDelete:l,fireSaveCustomCover:d,fireReorder:_,getByIdFx:p,getFromOwnerFx:u,getFeedBlockFx:f,createFx:v,editFx:S,batchEditFx:E,deleteFx:g,saveCustomCoverFx:m,reorderFx:h}}},630330:(e,t,r)=>{r.d(t,{apiPollsCreate:()=>o,apiPollsGetById:()=>a});var i=r(599809);function a(e){return(0,i.api)("polls.getById",e)}function o(e){return(0,i.api)("polls.create",e)}},527487:(e,t,r)=>{r.d(t,{createPollsService:()=>i.createPollsService});r(630330);var i=r(892883)},892883:(e,t,r)=>{r.d(t,{createPollsService:()=>o});var i=r(798116),a=r(630330);const o=({domain:e})=>{const t=e.createEvent("fire/pollsGetById"),r=e.createEvent("fire/pollsCreate"),o=e.createEffect("fx/pollsGetById"),s=e.createEffect("fx/pollsCreate");return o.use(a.apiPollsGetById),s.use(a.apiPollsCreate),(0,i.sample)({clock:t,target:o}),(0,i.sample)({clock:r,target:s}),{fireGetById:t,fireCreate:r,getByIdFx:o,createFx:s}}},852063:(e,t,r)=>{r.d(t,{apiStatsTrackEvents:()=>a});var i=r(599809);function a(e){return(0,i.api)("stats.trackEvents",e)}},168298:(e,t,r)=>{r.d(t,{STATS_EVENT_TYPE_STORIES_VIEWER_NAVIGATION:()=>i,STATS_EVENT_TYPE_STORIES_VIEWING_START_TIME:()=>a,STATS_EVENT_TYPE_STORY_LINK_VIEW:()=>o,STATS_EVENT_TYPE_VIDEO_ONBOARDING:()=>s});const i="stories_viewer_navigation",a="stories_viewing_start_time",o="story_link_view",s="video_onboarding"},697227:(e,t,r)=>{r.d(t,{STATS_EVENT_TYPE_STORY_LINK_VIEW:()=>i.STATS_EVENT_TYPE_STORY_LINK_VIEW,STATS_EVENT_TYPE_VIDEO_ONBOARDING:()=>i.STATS_EVENT_TYPE_VIDEO_ONBOARDING,apiStatsTrackEvents:()=>a.apiStatsTrackEvents,createStatsService:()=>o.createStatsService});var i=r(168298),a=r(852063),o=r(513234)},513234:(e,t,r)=>{r.d(t,{createStatsService:()=>o});var i=r(798116),a=r(852063);const o=({domain:e})=>{const t=e.createEvent("fire/statsTrackEvents"),r=e.createEffect("fx/statsTrackEvents");return r.use(a.apiStatsTrackEvents),(0,i.sample)({clock:t,target:r}),{fireTrackEvents:t,trackEventsFx:r}}},911622:(e,t,r)=>{r.d(t,{apiStoriesAskQuestion:()=>m,apiStoriesBanOwner:()=>b,apiStoriesBanQuestionAuthor:()=>I,apiStoriesDelete:()=>g,apiStoriesDeleteQuestion:()=>h,apiStoriesGet:()=>a,apiStoriesGetArchive:()=>n,apiStoriesGetById:()=>o,apiStoriesGetDetailedStats:()=>p,apiStoriesGetDiscover:()=>s,apiStoriesGetPhotoUploadServer:()=>A,apiStoriesGetQuestions:()=>d,apiStoriesGetReplies:()=>l,apiStoriesGetStats:()=>_,apiStoriesGetVideoUploadServer:()=>O,apiStoriesGetViewers:()=>c,apiStoriesHideAllReplies:()=>C,apiStoriesHidePrivacyBlock:()=>E,apiStoriesHideReply:()=>x,apiStoriesMarkAppNotificationsSeen:()=>k,apiStoriesMarkNotInterested:()=>f,apiStoriesMarkSeen:()=>S,apiStoriesMarkSkipped:()=>u,apiStoriesSave:()=>y,apiStoriesSearch:()=>v,apiStoriesSetDiscoverVisible:()=>R,apiStoriesSubscribeUserToApp:()=>N,apiStoriesUnbanOwner:()=>w,apiStoriesUnbanQuestionAuthor:()=>T});var i=r(599809);function a(e){return(0,i.api)("stories.get",e)}function o(e){return(0,i.api)("stories.getById",e)}function s(e){return(0,i.api)("stories.getDiscover",e)}function n(e){return(0,i.api)("stories.getArchive",e)}function c(e){return(0,i.api)("stories.getViewers",e)}function l(e){return(0,i.api)("stories.getReplies",e)}function d(e){return(0,i.api)("stories.getQuestions",e)}function _(e){return(0,i.api)("stories.getStats",e)}function p(e){return(0,i.api)("stories.getDetailedStats",e)}function u(e){return(0,i.api)("stories.markSkipped",e)}function f(e){return(0,i.api)("stories.markNotInterested",e)}function v(e){return(0,i.api)("stories.search",e)}function S(e){return(0,i.api)("stories.markSeen",e)}function E(e){return(0,i.api)("stories.hidePrivacyBlock",e)}function g(e){return(0,i.api)("stories.delete",e)}function m(e){return(0,i.api)("stories.askQuestion",e)}function h(e){return(0,i.api)("stories.deleteQuestion",e)}function I(e){return(0,i.api)("stories.banQuestionAuthor",e)}function T(e){return(0,i.api)("stories.unbanQuestionAuthor",e)}function k(e){return(0,i.api)("stories.markAppNotificationsSeen",e)}function N(e){return(0,i.api)("stories.subscribeUserToApp",e)}function A(e){return(0,i.api)("stories.getPhotoUploadServer",e)}function O(e){return(0,i.api)("stories.getVideoUploadServer",e)}function y(e){return(0,i.api)("stories.save",e)}function b(e){return(0,i.api)("stories.banOwner",e)}function w(e){return(0,i.api)("stories.unbanOwner",e)}function R(e){return(0,i.api)("stories.setDiscoverVisible",e)}function x(e){return(0,i.api)("stories.hideReply",e)}function C(e){return(0,i.api)("stories.hideAllReplies",e)}},446731:(e,t,r)=>{r.d(t,{STORIES_ARCHIVE_START_TIME:()=>a,STORIES_MAX_COUNT_REPLIES:()=>i});const i=250,a=1559032200},713574:(e,t,r)=>{r.d(t,{StoryFeedbackLoadMethods:()=>i,fetchFeedbackFx:()=>n,getStoryFeedbackLoadParams:()=>s});var i,a=r(735369),o=r(677662);!function(e){e[e.getViewers=0]="getViewers",e[e.getReplies=1]="getReplies",e[e.getQuestions=2]="getQuestions",e[e.getDetailedStats=3]="getDetailedStats",e[e.getStats=4]="getStats"}(i||(i={}));const s=(e,t)=>({0:{owner_id:e,story_id:t,extended:1,count:100,fields:(0,o.makeOwnerFields)(["is_nft","photo_100","photo_50"])},1:{owner_id:e,story_id:t,extended:1,fields:(0,o.getStoryOwnerFields)()},2:{owner_id:e,story_id:t,extended:1,fields:(0,o.makeOwnerFields)(["domain","first_name_dat","first_name_ins","last_name_ins","last_name_dat","first_name_gen","last_name_gen"]),count:30},3:{owner_id:e,story_id:t},4:{owner_id:e,story_id:t}}),n=a.storiesDomain.createEffect({name:"fire/storiesGetFeedback",handler:({ownerId:e,storyId:t,pollId:r})=>{const i=s(e,t);return Promise.allSettled([a.storiesService.getViewersFx(i[0]),a.storiesService.getRepliesFx(i[1]),a.storiesService.getQuestionsFx(i[2]),r?a.pollsService.getByIdFx({owner_id:e,poll_id:r}):Promise.resolve(null),a.storiesService.getDetailedStatsFx(i[3]),a.storiesService.getStatsFx(i[4])]).then((e=>e.map((e=>{var t;return"fulfilled"===e.status?null==(t=e)?void 0:t.value:null}))))}})},332268:(e,t,r)=>{r.d(t,{STORIES_ARCHIVE_START_TIME:()=>n.STORIES_ARCHIVE_START_TIME,STORIES_MAX_COUNT_REPLIES:()=>n.STORIES_MAX_COUNT_REPLIES,StoryFeedbackLoadMethods:()=>l.StoryFeedbackLoadMethods,apiStoriesGet:()=>s.apiStoriesGet,apiStoriesGetArchive:()=>s.apiStoriesGetArchive,apiStoriesGetById:()=>s.apiStoriesGetById,apiStoriesGetDiscover:()=>s.apiStoriesGetDiscover,apiStoriesGetReplies:()=>s.apiStoriesGetReplies,apiStoriesSearch:()=>s.apiStoriesSearch,clearStoriesLoadingStats:()=>o.clearStoriesLoadingStats,clearStoriesNavigationStats:()=>o.clearStoriesNavigationStats,createStoriesService:()=>i.createStoriesService,decodeBase64:()=>a.decodeBase64,faveService:()=>c.faveService,fetchFeedbackFx:()=>l.fetchFeedbackFx,getConnectionType:()=>o.getConnectionType,getStoriesLoadingStats:()=>o.getStoriesLoadingStats,getStoriesNavigationStats:()=>o.getStoriesNavigationStats,getStoryFeedbackLoadParams:()=>l.getStoryFeedbackLoadParams,narrativesService:()=>c.narrativesService,saveNavigationStatEvent:()=>o.saveNavigationStatEvent,saveViewerStartTime:()=>o.saveViewerStartTime,serializeLoadingStats:()=>o.serializeLoadingStats,serializeNavigationStats:()=>o.serializeNavigationStats,splitStoryRawId:()=>a.splitStoryRawId,statsService:()=>c.statsService,storiesService:()=>c.storiesService,userService:()=>c.userService});var i=r(558231),a=r(477932),o=r(386694),s=r(911622),n=r(446731),c=r(735369),l=r(713574)},677662:(e,t,r)=>{function i(){return a(["first_name","last_name","first_name_gen","last_name_gen","first_name_ins","last_name_ins","screen_name","name","is_member","is_closed","is_nft","is_nft_photo","photo_50","photo_100","friend_status","verified","sex"])}function a(e){return e.join(",")}r.d(t,{getStoryOwnerFields:()=>i,makeOwnerFields:()=>a})},558231:(e,t,r)=>{r.d(t,{createStoriesService:()=>n});var i=r(798116),a=r(911622),o=r(771611),s=r(924292);const n=({domain:e})=>{const t=e.createEvent("fire/storiesGet"),r=e.createEvent("fire/storiesGetById"),n=e.createEvent("fire/storiesGetArchive"),c=e.createEvent("fire/storiesGetViewers"),l=e.createEvent("fire/storiesGetReplies"),d=e.createEvent("fire/storiesGetQuestions"),_=e.createEvent("fire/storiesGetStats"),p=e.createEvent("fire/storiesGetDetailedStats"),u=e.createEvent("fire/storiesMarkSkipped"),f=e.createEvent("fire/storiesMarkNotInterested"),v=e.createEvent("fire/storiesMarkSeen"),S=e.createEvent("fire/storiesHidePrivacyBlock"),E=e.createEvent("fire/storiesDelete"),g=e.createEvent("fire/storiesAskQuestion"),m=e.createEvent("fire/storiesDeleteQuestion"),h=e.createEvent("fire/storiesBanQuestionAuthor"),I=e.createEvent("fire/storiesUnbanQuestionAuthor"),T=e.createEvent("fire/storiesMarkAppNotificationsSeen"),k=e.createEvent("fire/storiesSubscribeUserToApp"),N=e.createEvent("fire/storiesGetPhotoUploadServer"),A=e.createEvent("fire/storiesGetVideoUploadServer"),O=e.createEvent("fire/storiesSave"),y=e.createEvent("fire/storiesSearch"),b=e.createEvent("fire/storiesUnbanOwner"),w=e.createEvent("fire/storiesBanOwner"),R=e.createEvent("fire/storiesSetDiscoverVisible"),x=e.createEvent("fire/storiesHideReply"),C=e.createEvent("fire/storieHideAllReplies"),F=e.createEffect("fx/storiesGet"),P=e.createEffect("fx/storiesGetById"),D=e.createEffect("fx/storiesGetArchive"),G=e.createEffect("fx/storiesGetViewers"),M=e.createEffect("fx/storiesGetReplies"),L=e.createEffect("fx/storiesGetQuestions"),B=e.createEffect("fx/storiesGetStats"),U=e.createEffect("fx/storiesGetDetailedStats"),H=e.createEffect("fx/storiesMarkSkipped"),V=e.createEffect("fx/storiesMarkNotInterested"),j=e.createEffect("fx/storiesMarkSeen"),Y=e.createEffect("fx/storiesHidePrivacyBlock"),W=e.createEffect("fx/storiesDelete"),Q=e.createEffect("fx/storiesAskQuestion"),K=e.createEffect("fx/storiesDeleteQuestion"),z=e.createEffect("fx/storiesBanQuestionAuthor"),q=e.createEffect("fx/storiesUnbanQuestionAuthor"),Z=e.createEffect("fx/storiesMarkAppNotificationsSeen"),J=e.createEffect("fx/storiesSubscribeUserToApp"),$=e.createEffect("fx/storiesGetPhotoUploadServer"),X=e.createEffect("fx/storiesGetVideoUploadServer"),ee=e.createEffect("fx/storiesSave"),te=e.createEffect("fx/storiesSearch"),re=e.createEffect("fx/storiesUnbanOwner"),ie=e.createEffect("fx/storiesBanOwner"),ae=e.createEffect("fx/storiesSetDiscoverVisible"),oe=e.createEffect("fx/storiesHideReply"),se=e.createEffect("fx/storiesHideAllReplies"),ne=(0,o.createFriendsAddFx)({domain:e}),ce=(0,o.createFriendsDeleteFx)({domain:e}),le=(0,s.createGroupsJoinFx)({domain:e}),de=(0,s.createGroupsLeaveFx)({domain:e});return F.use(a.apiStoriesGet),P.use(a.apiStoriesGetById),D.use(a.apiStoriesGetArchive),G.use(a.apiStoriesGetViewers),M.use(a.apiStoriesGetReplies),L.use(a.apiStoriesGetQuestions),B.use(a.apiStoriesGetStats),U.use(a.apiStoriesGetDetailedStats),H.use(a.apiStoriesMarkSkipped),V.use(a.apiStoriesMarkNotInterested),j.use(a.apiStoriesMarkSeen),Y.use(a.apiStoriesHidePrivacyBlock),W.use(a.apiStoriesDelete),Q.use(a.apiStoriesAskQuestion),K.use(a.apiStoriesDeleteQuestion),z.use(a.apiStoriesBanQuestionAuthor),q.use(a.apiStoriesUnbanQuestionAuthor),Z.use(a.apiStoriesMarkAppNotificationsSeen),J.use(a.apiStoriesSubscribeUserToApp),$.use(a.apiStoriesGetPhotoUploadServer),X.use(a.apiStoriesGetVideoUploadServer),ee.use(a.apiStoriesSave),te.use(a.apiStoriesSearch),ie.use(a.apiStoriesBanOwner),re.use(a.apiStoriesUnbanOwner),ae.use(a.apiStoriesSetDiscoverVisible),oe.use(a.apiStoriesHideReply),se.use(a.apiStoriesHideAllReplies),(0,i.sample)({clock:t,target:F}),(0,i.sample)({clock:r,target:P}),(0,i.sample)({clock:n,target:D}),(0,i.sample)({clock:c,target:G}),(0,i.sample)({clock:l,target:M}),(0,i.sample)({clock:d,target:L}),(0,i.sample)({clock:_,target:B}),(0,i.sample)({clock:p,target:U}),(0,i.sample)({clock:u,target:H}),(0,i.sample)({clock:f,target:V}),(0,i.sample)({clock:v,target:j}),(0,i.sample)({clock:S,target:Y}),(0,i.sample)({clock:E,target:W}),(0,i.sample)({clock:g,target:Q}),(0,i.sample)({clock:m,target:K}),(0,i.sample)({clock:h,target:z}),(0,i.sample)({clock:I,target:q}),(0,i.sample)({clock:T,target:Z}),(0,i.sample)({clock:k,target:J}),(0,i.sample)({clock:N,target:$}),(0,i.sample)({clock:A,target:X}),(0,i.sample)({clock:O,target:ee}),(0,i.sample)({clock:y,target:te}),(0,i.sample)({clock:b,target:re}),(0,i.sample)({clock:w,target:ie}),(0,i.sample)({clock:R,target:ae}),(0,i.sample)({clock:x,target:oe}),(0,i.sample)({clock:C,target:se}),{fireGet:t,fireGetById:r,fireGetArchive:n,fireGetViewers:c,fireGetReplies:l,fireGetQuestions:d,fireGetStats:_,fireGetDetailedStats:p,fireMarkSkipped:u,fireMarkNotInterested:f,fireMarkSeen:v,fireHidePrivacyBlock:S,fireDelete:E,fireAskQuestion:g,fireDeleteQuestion:m,fireBanQuestionAuthor:h,fireUnbanQuestionAuthor:I,fireMarkAppNotificationsSeen:T,fireSubscribeUserToApp:k,fireGetPhotoUploadServer:N,fireGetVideoUploadServer:A,fireSave:O,fireSearch:y,fireUnbanOwner:b,fireBanOwner:w,fireSetDiscoverVisible:R,fireHideReply:x,fireHideAllReplies:C,getFx:F,getByIdFx:P,getArchiveFx:D,getViewersFx:G,getRepliesFx:M,getQuestionsFx:L,getStatsFx:B,getDetailedStatsFx:U,markSkippedFx:H,markNotInterestedFx:V,markSeenFx:j,hidePrivacyBlockFx:Y,deleteFx:W,askQuestionFx:Q,deleteQuestionFx:K,banQuestionAuthorFx:z,unbanQuestionAuthorFx:q,markAppNotificationsSeenFx:Z,subscribeUserToAppFx:J,getPhotoUploadServerFx:$,getVideoUploadServerFx:X,saveFx:ee,searchFx:te,unbanOwnerFx:re,banOwnerFx:ie,setDiscoverVisibleFx:ae,hideReplyFx:oe,hideAllRepliesFx:se,friendsAddFx:ne,friendsDeleteFx:ce,groupsJoinFx:le,groupsLeaveFx:de}}},735369:(e,t,r)=>{r.d(t,{faveService:()=>S,narrativesService:()=>v,pollsService:()=>E,statsService:()=>f,storiesDomain:()=>p,storiesService:()=>u,userService:()=>g});var i=r(798116),a=r(332268),o=r(697227),s=r(683313),n=r(655555),c=r(105338),l=r(65856),d=r(527487),_=r(634167);const p=(0,i.createDomain)("stories"),u=(0,a.createStoriesService)({domain:p}),f=(0,o.createStatsService)({domain:p}),v=(0,s.createNarrativesService)({domain:p}),S=((0,n.createLikesService)({domain:p}),(0,c.createMessagesService)({domain:p}),(0,l.createFaveService)({domain:p})),E=(0,d.createPollsService)({domain:p}),g=(0,_.createUserService)({domain:p})},477932:(e,t,r)=>{function i(e){var t,r;return(null!=(r=null==(t=e)?void 0:t.split("_"))?r:[]).map(Number)}function a(e,t="windows-1251"){return new TextDecoder(t).decode(function(e){const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)||0))}(e))}r.d(t,{decodeBase64:()=>a,splitStoryRawId:()=>i})},844469:(e,t,r)=>{r.d(t,{Publisher:()=>T});var i=r(785893),a=r(667294),o=r(514986),s=r(584356),n=r(240567),c=r(29271),l=r(517366),d=r(296195),_=r(970978),p=r(404145),u=r(839470),f=r(540394),v=r(856505),S=r(227340),E=r(869048),g=r(86894),m=r(659397),h=r(769824),I=r(502205);class T extends a.Component{componentWillUnmount(){this.ordData=null}render(){const e=Math.min(900,window.innerHeight-100),t=e/1.78,r=(0,v.getPhotoEditorLangMap)();return window.cur.photoEditorEntryPoint="history",(0,i.jsx)(E.AppRootProvider,{mode:"embedded",platform:g.Platform.VKCOM,viewWidth:g.ViewWidth.DESKTOP,children:(0,i.jsx)(n.BaseModal,{disableBodyScroll:!0,onClose:()=>this.onClose(),className:(0,m.classNames)("PhotoEditorTheme PhotoEditorTheme--old Publisher",{"Publisher--zIndexLow":this.props.entrypoint===l.StoryEntryPoint.STORIES_FEED||this.props.entrypoint===l.StoryEntryPoint.STORY_REPOST}),children:(0,i.jsx)(h.PhotoEditor,{context:"story",photoUrl:this.props.photoUrl,backgroundId:this.props.backgroundId,artboardWidth:t,artboardHeight:e,save:this.save,close:()=>this.onClose(),attachment:this.props.attachment,stickers:this.props.stickers,serviceInfo:this.props.serviceInfo,showStatusActions:!0,statusPanelLeftSideNode:this.props.entrypoint!==l.StoryEntryPoint.MINI_APP&&(0,u.partConfigEnabled)("web_ord_story")&&(0,i.jsx)(I.ActionsMenu,{setOrdData:this.setOrdData}),helpers:{showErrorBox:(e,t)=>(0,o.showFastBox)({title:e},t),logError:e=>(0,_.logError)(e,{environment:"photoEditor"}),getHostName:p.getHostName,prepareStat:f.prepareStat,sendStat:f.sendStat,showStickerShop:S.showStickerShop,fetchStickers:S.fetchStickers,getPhotoEditorData:S.getPhotoEditorData,renderTime:e=>(0,S.logPhotoEditorRenderingTime)(e,"render_publisher_content")},langMap:r,locked:this.props.locked,storeInit:e=>{window.cur.photoEditorStore=e,(0,f.sendStat)("open_editor")},onDestroy:()=>{delete window.cur.photoEditorStore,delete window.cur.storyPublishContext,delete window.cur.photoEditorEntryPoint}})})})}saveStory(e,t,r){return(0,d.getStoryUploadUrl)(t,l.StoryType.PHOTO).then((t=>(0,d.uploadStoryBlobToServer)(e,t))).then((e=>(0,d.saveStoryOnServer)(e,l.StoryType.PHOTO,r)))}constructor(...e){super(...e),this.setOrdData=e=>{this.ordData=e},this.errorHandler=(e,t)=>{const r=e||c.getLang("global_error");(0,o.showFastBox)({title:c.getLang("global_error")},r,c.getLang("global_close"),(()=>{var e;t(),null==(e=(0,s.curBox)())||e.hide()}))},this.save=(e,t,r={})=>{var i,a,o,s;this.props.onClickSave(),this.saveStory(e,{attachment:JSON.stringify(this.props.attachment),clickable_stickers:r.clickableStickers,mini_app_id:this.props.miniAppId,question_id:this.props.questionId,situational_suggest_id:null==(i=this.props.serviceInfo)?void 0:i.situational_suggest_id,analytics:r.analytics,hash:r.storyUploadUrlHash,entry_point:this.props.entrypoint,ref:window.cur.module,is_authors_ads:null==(a=this.ordData)?void 0:a.is_ad,ord_external_id:null==(o=this.ordData)?void 0:o.ord_pred_id,ord_erid:null==(s=this.ordData)?void 0:s.erid},r.storySaveHash).then((e=>{this.onClose(!0,!1,e),t()})).catch((e=>(this.errorHandler(e,t),!0))),(0,f.sendStat)("save")},this.onClose=(e,t,r)=>{if(t)this.props.onClose(!1);else if(e)window.Stories&&window.Stories.updateFeedStories&&window.Stories.updateFeedStories(),this.props.onClose(!0,r);else{var i,a;(null==(a=window.cur.photoEditorStore)||null==(i=a.getState())?void 0:i.past.length)>1||this.ordData?(0,o.showFastBox)({title:c.getLang("photos_pe_story_editor_close_title"),bodyStyle:"padding: 20px; line-height: 160%;",onShow:()=>{window.cur._noEscHide=!0},onClean:()=>{window.cur._noEscHide=!1}},c.getLang("photos_pe_story_editor_close_text"),c.getLang("box_yes"),(()=>{var e;null==(e=(0,s.curBox)())||e.hide(),this.props.onClose(!1)}),c.getLang("box_no"),(()=>{var e;null==(e=(0,s.curBox)())||e.hide()})):this.props.onClose(!1)}}}}},502205:(e,t,r)=>{r.d(t,{ActionsMenu:()=>v});var i=r(785893),a=r(667294),o=r(86894),s=r(892169),n=r(832550),c=r(384627),l=r(119043),d=r(850343),_=r(815671),p=r(29271),u=r(827502),f=r(540394);const v=e=>{var t,r;const v=(0,l.useHelpHint)(d.AvailableHelpHints.ACCOUNT_HINT_STORIES_EDITOR_ORD_AD),[S,E]=(0,a.useState)(null),g=t=>{E(t),e.setOrdData(t)},m=(0,i.jsx)(n.Button,{mode:"tertiary",appearance:"accent",before:(0,i.jsx)(s.Icon16MoreHorizontal,{}),"aria-label":p.getLang("stories_publish_actions_menu")});return(0,i.jsxs)(i.Fragment,{children:[Boolean(v)&&(0,i.jsx)(o.TooltipContainer,{children:(0,i.jsx)(o.Tooltip,{alignX:"center",alignY:"top",appearance:"accent",text:null==(t=v)?void 0:t.title,onClose:()=>{(0,_.ensureAccountHelpHintsService)().hideHelpHint(d.AvailableHelpHints.ACCOUNT_HINT_STORIES_EDITOR_ORD_AD)},children:m})}),!v&&(0,i.jsx)(c.DropdownActionSheet,{action:"hover",placement:"top-start",content:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.DropdownActionSheet.Item,{onClick:e=>{var t;e.stopPropagation(),(null==(t=S)?void 0:t.is_ad)?(0,f.sendStat)(f.EVENTS.EDIT_ADVERTISER_MARK):(0,f.sendStat)(f.EVENTS.MARK_ADVERTISER),(0,u.handleOrdMiniappOpen)(S,g,{isSnackbar:!0,edit:!1})},children:(null==(r=S)?void 0:r.is_ad)?p.getLang("global_ads_wall_post_ord_mark_as_ads_activated"):p.getLang("global_ads_wall_post_ord_mark_as_ads")})}),children:m})]})}},213344:(e,t,r)=>{r.d(t,{StoryPublisher:()=>_});var i=r(785893),a=r(973935),o=r(844469),s=r(584356),n=r(29271),c=r(514986),l=r(540394),d=r(856505);const _={init(e,t,r){this.onClickSave=t||(()=>{}),this.cb=r,Promise.all([this.loadStatic(),(0,d.loadPhotoEditorLangs)()]).then((()=>{this.render(e)})).catch((()=>{(0,c.showFastBox)({title:n.getLang("global_error")},n.getLang("global_error"),n.getLang("global_close"),(()=>{var e;null==(e=(0,s.curBox)())||e.hide()}))}))},loadStatic:()=>window.stManager.add([window.jsc("web/story_publisher.js")]),render(e){var t,r,s,n,c,d,_,p,u;const f=(null==(t=e)?void 0:t.entrypoint)||"",v=(null==(r=e)?void 0:r.miniAppId)||0;window.cur.storyPublishContext=!0,"story_repost"===f?(0,l.sendStat)(l.EVENTS.ADD_STORY_FROM_SHARING):(0,l.sendStat)(l.EVENTS.ADD_STORY);let S=document.querySelector(".StoryPublisher");S||(S=document.createElement("div"),S.classList.add("StoryPublisher"),document.body.appendChild(S)),a.render((0,i.jsx)(o.Publisher,{entrypoint:f,miniAppId:v,onClose:this.destroy.bind(this),onClickSave:this.onClickSave.bind(this),photoUrl:null==(s=e)?void 0:s.photoUrl,attachment:null==(n=e)?void 0:n.attachment,stickers:null==(c=e)?void 0:c.stickers,serviceInfo:null==(d=e)?void 0:d.serviceInfo,questionId:null==(_=e)?void 0:_.questionId,backgroundId:null==(p=e)?void 0:p.backgroundId,locked:null==(u=e)?void 0:u.locked}),S)},destroy(e,t){const r=document.querySelector(".StoryPublisher");r&&a.unmountComponentAtNode(r),this.cb&&this.cb(e,t),delete window.cur.photoEditorStore,delete window.cur.renderImageFromState,e&&(0,s.showDoneBox)(n.getLang("photos_pe_story_published"))}}},645858:(e,t,r)=>{var i,a,o,s=r(213344);(null==(a=window.vk)||null==(i=a.pe)?void 0:i.static_manager_dynamic_imports)&&(null==(o=window.vk)?void 0:o.stDomain)&&(r.p=window.vk.stDomain+"/dist/"),window.StoryPublisher=s.StoryPublisher;try{window.stManager.done(window.jsc("web/story_publisher.js"))}catch(e){}},390433:(e,t,r)=>{r.d(t,{hideSnackbar:()=>m,showSnackbar:()=>E});var i=r(11010),a=r(785893),o=r(667294),s=r(973935),n=r(800325),c=r(228042),l=r(417873),d=r(773693),_=r(667465),p=r(584356),u=r(786858);const f={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},v={ok:(0,n.getIcon24CheckCircleOutline)().icon,warning:(0,c.getIcon24WarningTriangleOutline)().icon,error:(0,l.getIcon24ErrorCircleOutline)().icon,ok28:(0,d.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,_.getIcon28LoudspeakerSlashOutline)().icon},S={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker"};function E(e){return g.apply(this,arguments)}function g(){return(g=(0,i._)((function*({id:e,type:t,text:r,subtitle:i,action:o,before:s,after:n,link:c,timeout:l,align:d,onClick:_,onClose:E}){var g,m,k;let N;yield Promise.resolve();const A={id:e,link:I(c),timeout:l,onClick:_?()=>((0,u.assertNotNull)(N),_(N)):void 0,onHide:E},O={author_link:I(null==(m=s)||null==(g=m.avatar)?void 0:g.link),add_photo:I(null==(k=n)?void 0:k.url),tooltipHandler:e=>{var r,i,a,c,l,_,p,E,g,m;e.classList.add("notifier_snackbar"),t&&v[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(S[t])):(null==(i=s)||null==(r=i.avatar)?void 0:r.url)||(null==(c=s)||null==(a=c.avatar)?void 0:a.content)?s.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!(null==(_=s)||null==(l=_.avatar)?void 0:l.content)&&(null==(p=s)?void 0:p.content)&&e.classList.add("notifier_snackbar_with_custom_before"),(null==(m=null==(E=n)?void 0:E.rounded)||m)&&e.classList.add("notifier_snackbar_with_rounded_after");const h=d?f[d]:void 0;if(h&&e.classList.add(h),null==(g=o)?void 0:g.onClick){var I;null==(I=e.querySelector(".notifier_snackbar_action"))||I.addEventListener("click",(e=>{var t,r;(0,u.assertNotNull)(N),null==(t=(r=o).onClick)||t.call(r,e,N)}))}}};if(t&&v[t])O.avatar_custom_content=v[t];else if(s){var y,b,w,R;(null==(y=s.avatar)?void 0:y.url)?O.author_photo=I(s.avatar.url):(null==(b=s.avatar)?void 0:b.content)?O.avatar_custom_content=h(s.avatar.content):s.content&&(O.avatar_custom_content=h(s.content)),(null==(w=s.icon)?void 0:w.type)?O.icon_type=s.icon.type:(null==(R=s.icon)?void 0:R.url)&&(O.icon_custom={image_url:T(s.icon.url)})}const x=h((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"notifier_snackbar_text",children:r}),i&&(0,a.jsx)("div",{className:"notifier_snackbar_subtitle",children:i}),o&&(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"notifier_snackbar_action",href:o.href,children:o.label})})]}));return N=yield(0,p.showDoneBoxAsync)(x,A,O),N}))).apply(this,arguments)}function m(e){var t;null==(t=window.Notifier)||t.hideEvent(e)}function h(e){const t=document.createElement("div");return(0,s.flushSync)((()=>{(0,s.render)((0,o.createElement)(o.Fragment,null,e),t)})),t.innerHTML}function I(e){return e&&T(e)}function T(e){return encodeURI(e).replace(/'/g,"%27")}},827502:(e,t,r)=>{r.d(t,{handleOrdMiniappOpen:()=>c});var i=r(96824),a=r(120718),o=r(29271),s=r(904443),n=r(390433);const c=(e,t,r)=>{var c,l,d,_,p;const u=e?(0,i.objectToQuerystring)(e,"#"):"";null==(_=(p=window).showWiki)||_.call(p,{w:`app${a.ORD_APP_ID}${u}`},null==(c=r)?void 0:c.edit,null==(l=r)?void 0:l.ev,null==(d=r)?void 0:d.options);const f=(0,s.getStore)().onOrdData.watch((i=>{var a,s,c,l,d,_;(null==(a=r)?void 0:a.isSnackbar)&&((null==(c=i)?void 0:c.is_ad)&&!(null==(l=e)?void 0:l.is_ad)?(0,n.showSnackbar)({text:o.getLang("global_ads_wall_post_ord_mark_as_ads_added"),timeout:3e3,type:"ok28"}):!(null==(d=i)?void 0:d.is_ad)&&(null==(_=e)?void 0:_.is_ad)&&(0,n.showSnackbar)({text:o.getLang("global_ads_wall_post_ord_mark_as_ads_removed"),timeout:3e3,type:"loudspeaker28"}));t(i,null==(s=r)?void 0:s.ref),f()}))}},800325:(e,t,r)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}r.d(t,{getIcon24CheckCircleOutline:()=>i})},417873:(e,t,r)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}r.d(t,{getIcon24ErrorCircleOutline:()=>i})},228042:(e,t,r)=>{function i(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}r.d(t,{getIcon24WarningTriangleOutline:()=>i})},773693:(e,t,r)=>{function i(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}r.d(t,{getIcon28CheckCircleOutline:()=>i})},667465:(e,t,r)=>{function i(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}r.d(t,{getIcon28LoudspeakerSlashOutline:()=>i})},386694:(e,t,r)=>{r.d(t,{clearStoriesLoadingStats:()=>v,clearStoriesNavigationStats:()=>d,getConnectionType:()=>s,getStoriesLoadingStats:()=>f,getStoriesNavigationStats:()=>l,saveNavigationStatEvent:()=>c,saveViewerStartTime:()=>u,serializeLoadingStats:()=>S,serializeNavigationStats:()=>_});var i=r(659397),a=r(168298),o=r(477932);function s(){const{connection:e}=navigator;if(!e)return"";const{effectiveType:t,downlink:r}=e;switch(t){case"slow-2g":return"GPRS";case"2g":return"EDGE";case"3g":return"3G";case"4g":return r>8?"wi-fi":"LTE"}return""}let n=[];function c({storyRawId:e,source:t,action:r}){let i=0,s=0;e&&([i,s]=(0,o.splitStoryRawId)(e)),"reply"===t&&(t="replies_list");const c={e:a.STATS_EVENT_TYPE_STORIES_VIEWER_NAVIGATION,owner_id:i,story_id:s,source:t,action:r};n.push(c)}function l(){return(0,i.isArray)(n)?n:[]}function d(){n=[]}function _(){const e=n.map((({owner_id:e,story_id:t,source:r,action:i})=>[e,t,r,i].join(","))).join(";");return n=[],e}let p=[];function u({storyRawId:e,source:t,time:r}){const[i,n]=(0,o.splitStoryRawId)(e),c={e:a.STATS_EVENT_TYPE_STORIES_VIEWING_START_TIME,owner_id:i,story_id:n,source:t,time:r,internet_type:s()};p.push(c)}function f(){return(0,i.isArray)(p)?p:[]}function v(){p=[]}function S(){const e=p.map((({owner_id:e,story_id:t,source:r,time:i})=>[e,t,r,i].join(","))).join(";");return p=[],e}},535727:(e,t,r)=>{r.d(t,{usePatchChildrenRef:()=>s});var i=r(667294),a=r(488543);const o=e=>"string"==typeof e.type,s=e=>{var t;const r=(0,i.isValidElement)(e)&&(o(e)?e.ref:e.props.getRootRef),s=(0,a.useExternRef)(r);return(0,i.useEffect)((()=>{s.current||console.error("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента")}),[null==(t=e)?void 0:t.type,s]),[s,(0,i.isValidElement)(e)?(0,i.cloneElement)(e,{[o(e)?"ref":"getRootRef"]:s}):e]}},771611:(e,t,r)=>{r.d(t,{createFriendsAddFx:()=>c,createFriendsAddListFx:()=>u,createFriendsDeleteBulkFx:()=>d,createFriendsDeleteFx:()=>l,createFriendsDeleteListFx:()=>f,createFriendsDeleteSubscriberFx:()=>E,createFriendsEditListFx:()=>v,createFriendsGetFollowersFx:()=>g,createFriendsGetFriendsDeletionSuggestionsFx:()=>s,createFriendsGetFx:()=>o,createFriendsGetListsFx:()=>a,createFriendsGetOnlineFx:()=>p,createFriendsGetRecommendationsFx:()=>n,createFriendsGetRequestsFx:()=>_,createFriendsRequestsToSubscribersFx:()=>m,createFriendsSearchFx:()=>S});var i=r(972051);const a=e=>(0,i.createApiEffect)("friends.getLists",e),o=e=>(0,i.createApiEffect)("friends.get",e),s=e=>(0,i.createApiEffect)("friends.getFriendsDeletionSuggestions",e),n=e=>(0,i.createApiEffect)("friends.getRecommendations",e),c=e=>(0,i.createApiEffect)("friends.add",e),l=e=>(0,i.createApiEffect)("friends.delete",e),d=e=>(0,i.createApiEffect)("friends.deleteBulk",e),_=e=>(0,i.createApiEffect)("friends.getRequests",e),p=e=>(0,i.createApiEffect)("friends.getOnline",e),u=e=>(0,i.createApiEffect)("friends.addList",e),f=e=>(0,i.createApiEffect)("friends.deleteList",e),v=e=>(0,i.createApiEffect)("friends.editList",e),S=e=>(0,i.createApiEffect)("friends.search",e),E=e=>(0,i.createApiEffect)("friends.deleteSubscriber",e),g=e=>(0,i.createApiEffect)("friends.getFollowers",e),m=e=>(0,i.createApiEffect)("friends.requestsToSubscribers",e)},119043:(e,t,r)=>{r.d(t,{useHelpHint:()=>o});var i=r(815671),a=r(352755);const o=e=>(0,a.useEntitiesStore)((0,i.ensureAccountHelpHintsService)().$helpHints,e)},352755:(e,t,r)=>{r.d(t,{useEntitiesStore:()=>a,useNotNullEntitiesStore:()=>o});var i=r(504190);const a=(e,t)=>(0,i.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>e[t],defaultValue:null}),o=(e,t)=>(0,i.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>{const r=e[t];if(null==r)throw new Error("Empty value entity store");return r}})},850343:(e,t,r)=>{var i;r.d(t,{AvailableHelpHints:()=>i}),function(e){e.ACCOUNT_HINT_NARRATIVES_ADD_TOOLTIP="narratives:add_tooltip",e.ACCOUNT_HINT_MVK_STORIES_ARCHIVE_ACTIONS_HINT="mvk:stories_archive:actions_hint",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE="mini_apps:button_mvk_profile",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_APP_MENU="mini_apps:button_mvk_app_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU="mini_apps:counter_toggle_in_action_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO="mini_apps:counter_toggle_in_action_menu_intro",e.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES="mini_apps:open_catalog_with_badges",e.ACCOUNT_HINT_MINI_APPS_CATALOG_SECTION_WITH_BADGES="mini_apps:catalog_section_with_badges",e.ACCOUNT_HINT_SUPERAPP_RECOMMEND_ACTION_IN_MENU="superapp:recommend_action_in_menu",e.ACCOUNT_HINT_SUPERAPP_SHOW_RECOMMEND_ACTION="superapp:show_recommend_action",e.ACCOUNT_HINT_MINI_APPS_NAV_BUTTONS_THIRD_PARTY_BUTTONS="mini_apps:nav_buttons_third_party_buttons",e.ACCOUNT_HINT_POSTING_EDITOR_ORD_AD="posting:editor_ord_ad",e.ACCOUNT_HINT_PROFILE_REDESIGN_ONBOARDING_BANNER="profile:redesign_onboarding_banner",e.ACCOUNT_HINT_PROFILE_REDESIGN_ONBOARDING_BOTTOMSHEET="profile:redesign_onboarding_bottomsheet",e.ACCOUNT_HINT_PROFILE_SERVICES_MENU_BANNER="profile:services_menu_banner",e.ACCOUNT_HINT_PROFILE_SERVICES_ONBOARDING="profile:services_onboarding",e.ACCOUNT_HINT_MVK_PWA_TABBAR="mvk:pwa_tabbar",e.ACCOUNT_HINT_STORIES_EDITOR_ORD_AD="stories:editor_ord_ad",e.ACCOUNT_HINT_SUPERAPP_MVK_SHOWCASE="superapp:mvk_showcase",e.IM_INTEGRATION_APPS_TOOLTIP_ON_PICKER="superapp:im_integration_apps_tooltip_on_picker",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_APPS_BANNER="superapp:im_integration_picker_apps_banner",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_GAMES_BANNER="superapp:im_integration_picker_games_banner",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_FORCIBLY_ENABLED_ONBOARDING="friends:followers_mode_forcibly_enabled_onboarding",e.ACCOUNT_HINT_FOLLOWERS_MODE_CAN_BE_ENABLED_ONBOARDING="friends:followers_mode_can_be_enabled_onboarding",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_ABOUT_MODAL_IMAGES="friends:followers_mode_about_modal_images",e.ACCOUNT_HINT_IM_INTEGRATION_CATALOG_ONBOARDING="superapp:im_integration_catalog_onboarding",e.ACCOUNT_HINT_ONEPASS_ONBOARDING="profile:passkey_onboarding_web",e.ACCOUNT_HINT_MVK_TABBAR_LIKE_NATIVE_ONBOARDING="mvk:tabbar_like_native_onboarding",e.ACCOUNT_HINT_VIDEO_INTERACTIVE_VIDEO_ONBOARDING="video:interactive_video_onboarding",e.AUTHOR_LIKE_ONBOARDING_HINT="feed:author_like_onboarding",e.GROUP_LIKE_ONBOARDING_HINT="feed:group_like_onboarding",e.ACCOUNT_HINT_COMMUNITY_REVIEW_TOOLTIP_MVK="community:review:tooltip_mvk"}(i||(i={}))}},n={};function c(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return s[e].call(r.exports,r,r.exports,c),r.loaded=!0,r.exports}c.m=s,e=[],c.O=(t,r,i,a)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,i,a]=e[d],s=!0,n=0;n<r.length;n++)(!1&a||o>=a)&&Object.keys(c.O).every((e=>c.O[e](r[n])))?r.splice(n--,1):(s=!1,a<o&&(o=a));if(s){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,i,a]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var a=Object.create(null);c.r(a);var o={};t=t||[null,r({}),r([]),r(r)];for(var s=2&i&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,c.d(a,o),a},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,r)=>(c.f[r](e,t),t)),[])),c.u=e=>25394===e?"AudioLongtapModal.7e0dfcf5bfaeea74634a.js":24817===e?"hls.7bfefe299fa92971b99a.js":75980===e?"menu_settings.ef06223020efb2b6ec6b.js":79852===e?"37d152adcd0dd111ce505d394803d701.async.f06867e3cb1f30e8925c.js":96816===e?"web-audio-lyrics-modal.1a211e52d789ac7fac77.js":9375===e?"voice_message_player.f0c31b4a3dc08de145c9.js":28762===e?"speech.be0c329a1eff7c81577d.js":57468===e?"SilentModeForms.3d45c322ccf50af43298.js":28872===e?"feed-client-nav-skeleton.93951c516f1e3f2a55ad.js":35953===e?"feed-client-nav-async-right-block.98e503ddcd7a638e1b63.js":9202===e?"9202.be55f73a991e4eb41a2e.js":79118===e?e+".87b62f94f0e27cef52c4.js":void 0,c.miniCssF=e=>e+"."+{25394:"5e3e105ffae6ba5c38a9",57468:"a2979e7d82457c1ea9fc",75980:"5bbee2c9f3e189193a73"}[e]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},c.l=(e,t,r,a)=>{if(i[e])i[e].push(t);else{var o,s;if(void 0!==r)for(var n=document.getElementsByTagName("script"),l=0;l<n.length;l++){var d=n[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+r){o=d;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack","vk:"+r),o.src=e),i[e]=[t];var _=(t,r)=>{o.onerror=o.onload=null,clearTimeout(p);var a=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(_.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=_.bind(null,o.onerror),o.onload=_.bind(null,o.onload),s&&document.head.appendChild(o)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",a=e=>new Promise(((t,r)=>{var i=c.miniCssF(e),a=c.p+i;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var a=(s=r[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===e||a===t))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var s;if((a=(s=o[i]).getAttribute("data-href"))===e||a===t)return s}})(i,a))return t();((e,t,r,i)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=o=>{if(a.onerror=a.onload=null,"load"===o.type)r();else{var s=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=n,a.parentNode.removeChild(a),i(c)}},a.href=t,document.head.appendChild(a)})(e,a,t,r)})),o={55198:0},c.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{25394:1,57468:1,75980:1}[e]&&t.push(o[e]=a(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={55198:0};c.f.j=(t,r)=>{var i=c.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((r,a)=>i=e[t]=[r,a]));r.push(i[2]=a);var o=c.p+c.u(t),s=new Error;c.l(o,(r=>{if(c.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[o,s,n]=r,l=0;if(o.some((t=>0!==e[t]))){for(i in s)c.o(s,i)&&(c.m[i]=s[i]);if(n)var d=n(c)}for(t&&t(r);l<o.length;l++)a=o[l],c.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return c.O(d)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=c.O(void 0,[75514,98066,56990,76400,24509,40885,76429,68592,58484,78844,45659,25901],(()=>c(645858)));l=c.O(l)})();