(()=>{"use strict";var e,t,r,i,a,o,n={387190:(e,t,r)=>{r.d(t,{Icon16CrownCheckFillPurple:()=>i});var i=(0,r(28178).makeIcon)("Icon16CrownCheckFillPurple","crown_check_fill_purple_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="crown_check_fill_purple_16"><path fill="#735CE6" fill-rule="evenodd" d="M14.28 10.216a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 0 1-1.06 0l-1.5-1.5a.75.75 0 0 1 1.06-1.06l.97.97 2.47-2.47a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" /><path fill="#A393F5" fill-rule="evenodd" d="M12.717 9.1a.5.5 0 0 0 .127-.217l.37-1.298.043.001a1.2 1.2 0 0 0 .621-.167 1.28 1.28 0 0 0 .453-.448 1.19 1.19 0 0 0 .169-.625c0-.227-.056-.433-.167-.62a1.257 1.257 0 0 0-.45-.449 1.211 1.211 0 0 0-.626-.167c-.226 0-.432.056-.617.167a1.264 1.264 0 0 0-.444.451c-.111.19-.167.395-.167.618 0 .183.036.354.107.51l.019.038-1.47 1.064c-.144.102-.263.084-.354-.053L8.602 5.32l.02-.01a1.264 1.264 0 0 0 .447-.449c.11-.187.166-.396.166-.626 0-.222-.055-.428-.166-.617a1.257 1.257 0 0 0-.447-.451A1.188 1.188 0 0 0 8.002 3c-.229 0-.437.056-.624.167a1.264 1.264 0 0 0-.447.448 1.193 1.193 0 0 0-.166.62c0 .23.056.439.169.626.113.187.263.337.45.448l.017.01-1.732 2.596a.25.25 0 0 1-.14.109c-.051.012-.117-.01-.198-.066L3.85 6.884l.014-.028a1.22 1.22 0 0 0 .107-.51c0-.223-.056-.429-.167-.618a1.257 1.257 0 0 0-.447-.45 1.188 1.188 0 0 0-.619-.168c-.23 0-.437.056-.624.167a1.264 1.264 0 0 0-.447.448 1.194 1.194 0 0 0-.167.62c0 .23.056.439.17.626a1.294 1.294 0 0 0 .446.448c.186.112.393.167.622.167l.054-.002L3.484 10h8.125a.5.5 0 0 0 .354-.146l.754-.755ZM7.577 11c.086 0 .134.102.085.172a2.038 2.038 0 0 0-.28 1.693c.018.067-.03.135-.1.135H5.3c-.423 0-.751-.102-.984-.307-.233-.205-.399-.51-.498-.912L3.664 11h3.913Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},562788:(e,t,r)=>{r.d(t,{Icon28VmojiOutline:()=>i});var i=(0,r(28178).makeIcon)("Icon28VmojiOutline","vmoji_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="vmoji_outline_28"><g fill="currentColor"><path d="M12 3a1 1 0 0 1-1 1 7 7 0 0 0-7 7 1 1 0 1 1-2 0 9 9 0 0 1 9-9 1 1 0 0 1 1 1zM12 25a1 1 0 0 0-1-1 7 7 0 0 1-7-7 1 1 0 1 0-2 0 9 9 0 0 0 9 9 1 1 0 0 0 1-1zM9.75 11a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5zm7.145.878c1.033-.556 2.224-.556 3.274.385.41.368.444.998.074 1.407s-1.001.442-1.412.074l-.1-.082c-.298-.22-.565-.203-.885-.03-.097.051-.162.1-.177.112l-.099.078a1.003 1.003 0 0 1-1.313-.152.994.994 0 0 1 .074-1.407c.124-.111.314-.25.564-.385zM16 16.5c.552 0 1 .45.921.996-.037.26-.087.501-.15.652a3 3 0 0 1-5.543 0 3.007 3.007 0 0 1-.15-.652c-.077-.546.37-.996.922-.996zM16 3a1 1 0 0 0 1 1 7 7 0 0 1 7 7 1 1 0 1 0 2 0 9 9 0 0 0-9-9 1 1 0 0 0-1 1zM16 25a1 1 0 0 1 1-1 7 7 0 0 0 7-7 1 1 0 1 1 2 0 9 9 0 0 1-9 9 1 1 0 0 1-1-1z" /></g></symbol>',28,28,!1,void 0)},948507:(e,t,r)=>{r.d(t,{Icon16Crown:()=>i});var i=(0,r(28178).makeIcon)("Icon16Crown","crown_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="crown_16"><path fill="currentColor" d="M8.786 4.778a1.5 1.5 0 1 0-1.572 0L5.259 7.7a.5.5 0 0 1-.708.127L2.87 6.612A1.495 1.495 0 0 0 3 6a1.5 1.5 0 1 0-1.41 1.497L2.327 10h11.372l.734-2.501.068.001a1.5 1.5 0 1 0-1.364-.875l-1.68 1.214a.5.5 0 0 1-.708-.127L8.786 4.778Zm4.565 6.722H2.646l.255 1.15A1.723 1.723 0 0 0 4.583 14h6.832a1.723 1.723 0 0 0 1.683-1.352l.252-1.148Z" /></symbol>',16,16,!1,void 0)},519276:(e,t,r)=>{r.d(t,{Icon16Lock:()=>i});var i=(0,r(28178).makeIcon)("Icon16Lock","lock_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="lock_16"><path fill="currentColor" fill-rule="evenodd" d="M14 10v1c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093C12.1 15 11.4 15 10 15H6c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.092-1.093C2 13.1 2 12.4 2 11v-1c0-1.4 0-2.1.273-2.635a2.5 2.5 0 0 1 1.092-1.093c.185-.094.389-.155.635-.196V5a4 4 0 0 1 8 0v1.077c.246.04.45.102.635.196a2.5 2.5 0 0 1 1.093 1.092C14 7.9 14 8.6 14 10m-4-5v1H6V5a2 2 0 1 1 4 0" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},576292:(e,t,r)=>{r.d(t,{Icon16LockOpen:()=>i});var i=(0,r(28178).makeIcon)("Icon16LockOpen","lock_open_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="lock_open_16"><path fill="currentColor" d="M6 6h4c1.4 0 2.1 0 2.635.273a2.5 2.5 0 0 1 1.093 1.092C14 7.9 14 8.6 14 10v1c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093C12.1 15 11.4 15 10 15H6c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.092-1.093C2 13.1 2 12.4 2 11v-1c0-1.4 0-2.1.273-2.635a2.5 2.5 0 0 1 1.092-1.093c.185-.094.389-.155.635-.196V5a4 4 0 0 1 6.981-2.667 1 1 0 0 1-1.49 1.334A2 2 0 0 0 6 5z" /></symbol>',16,16,!1,void 0)},563952:(e,t,r)=>{r.d(t,{Icon24BrushOutline:()=>i});var i=(0,r(28178).makeIcon)("Icon24BrushOutline","brush_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="brush_outline_24"><path d="M20.377 3.467a1.857 1.857 0 0 0-2.558.09l-6.93 6.866a.911.911 0 0 0-.007 1.285.904.904 0 0 0 1.281.008l6.935-6.87c.044-.045.117-.018.07.04l-6.154 7.74a.911.911 0 0 0 .143 1.278.904.904 0 0 0 1.273-.143l6.15-7.735a1.85 1.85 0 0 0-.203-2.56Z" /><path fill-rule="evenodd" d="M8.488 12.624c-2.003 0-3.476 1.63-3.56 3.533-.043.938-.454 1.416-.83 1.732-.382.321-.894.553-1.052 1.065-.13.418.033.863.373 1.128.763.593 2.355 1.343 4.654.622 2.399-.752 3.977-2.509 3.977-4.506a3.568 3.568 0 0 0-3.562-3.574m-1.75 3.614c.046-1.037.82-1.796 1.75-1.796.967 0 1.75.786 1.75 1.756 0 .947-.789 2.17-2.705 2.77-.866.272-1.549.249-2.057.123.59-.56 1.198-1.442 1.261-2.853Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},59234:(e,t,r)=>{r.d(t,{Icon24HangerOutline:()=>i});var i=(0,r(28178).makeIcon)("Icon24HangerOutline","hanger_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="hanger_outline_24"><path stroke="#3f8ae0" stroke-width="1.8" d="M19.239 18.1H4.761a1.762 1.762 0 0 1-.747-3.357L12 11.01l7.985 3.734a1.761 1.761 0 0 1-.747 3.358z" /><path fill="#3f8ae0" d="M9.1 6.904a.9.9 0 1 0 1.8 0zm2 4.096v.9h1.8V11zm-.2-4.096a1.1 1.1 0 0 1 1.1-1.1v-1.8a2.9 2.9 0 0 0-2.9 2.9zm1.1-1.1a1.1 1.1 0 0 1 1.1 1.1h1.8a2.9 2.9 0 0 0-2.9-2.9zm1.1 1.1c0 .664-.303 1.097-.783 1.658C11.9 9.05 11.1 9.845 11.1 11h1.8c0-.345.2-.586.784-1.267.519-.606 1.216-1.471 1.216-2.829z" /><path fill="currentColor" fill-rule="evenodd" d="M10.9 6.904a1.1 1.1 0 0 1 2.2 0c0 .664-.303 1.097-.784 1.658l-.122.14c-.346.395-.838.955-1.021 1.7l-7.539 3.526A2.661 2.661 0 0 0 4.762 19h14.476a2.662 2.662 0 0 0 1.128-5.072l-7.305-3.416c.122-.192.321-.427.623-.779.519-.606 1.216-1.471 1.216-2.829a2.9 2.9 0 0 0-5.8 0 .9.9 0 1 0 1.8 0zM4.397 15.56 12 12.003l7.603 3.556a.861.861 0 0 1-.365 1.642H4.762a.862.862 0 0 1-.365-1.642z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},432483:(e,t,r)=>{r.d(t,{Icon24MoreHorizontal:()=>i});var i=(0,r(28178).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path fill="currentColor" d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2" /></g></symbol>',24,24,!1,void 0)},197684:(e,t,r)=>{r.d(t,{Icon28MoreHorizontal:()=>i});var i=(0,r(28178).makeIcon)("Icon28MoreHorizontal","more_horizontal_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="more_horizontal_28"><path d="M8.5 14a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0m8 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0m5.5 2.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5" /></symbol>',28,28,!1,void 0)},712407:(e,t,r)=>{r.d(t,{Icon28ShareOutline:()=>i});var i=(0,r(28178).makeIcon)("Icon28ShareOutline","share_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="share_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M13.476 6.513c0-.442.485-.651.797-.406l9.532 7.483a.52.52 0 0 1 0 .812l-9.532 7.484a.495.495 0 0 1-.797-.406v-4.485a1 1 0 0 0-1-1c-3.565 0-6.252 1.449-8.26 3.267.362-2.161 1.153-3.807 2.225-5.046 1.497-1.73 3.637-2.78 6.22-3.264a1 1 0 0 0 .815-.983zm2.032-1.979c-1.654-1.298-4.032-.093-4.032 1.979V9.16c-2.565.61-4.854 1.79-6.548 3.749C3.051 15.079 2 18.093 2 22.05a1 1 0 0 0 1.788.616c1.741-2.226 4.175-4.292 7.688-4.625v3.438c0 2.072 2.378 3.277 4.032 1.978l9.532-7.483a2.518 2.518 0 0 0 0-3.957z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},58255:(e,t,r)=>{r.d(t,{default:()=>a});var i=r(111132);function a(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},111132:(e,t,r)=>{function i(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}r.d(t,{default:()=>i})},374277:(e,t,r)=>{function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function a(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=i(e.className,t):e.setAttribute("class",i(e.className&&e.className.baseVal||"",t))}r.d(t,{default:()=>a})},429697:(e,t,r)=>{r.d(t,{default:()=>m});var i=r(487462),a=r(263366),o=r(894578),n=r(58255),s=r(374277),c=r(667294),l=r(696630),d=r(559391),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))},h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var i=t.resolveArguments(e,r),a=i[0],o=i[1];t.removeClasses(a,"exit"),t.addClass(a,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var i=t.resolveArguments(e,r),a=i[0],o=i[1]?"appear":"enter";t.addClass(a,o,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var i=t.resolveArguments(e,r),a=i[0],o=i[1]?"appear":"enter";t.removeClasses(a,o),t.addClass(a,o,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,i="string"==typeof r,a=i?""+(i&&r?r+"-":"")+e:r[e];return{baseClassName:a,activeClassName:i?a+"-active":r[e+"Active"],doneClassName:i?a+"-done":r[e+"Done"]}},t}(0,o.default)(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var i=this.getClassNames(t)[r+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&a&&(i+=" "+a),"active"===r&&e&&(0,d.forceReflow)(e),i&&(this.appliedClasses[t][r]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))}(e,i))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],i=r.base,a=r.active,o=r.done;this.appliedClasses[t]={},i&&u(e,i),a&&u(e,a),o&&u(e,o)},r.render=function(){var e=this.props,t=(e.classNames,(0,a.default)(e,["classNames"]));return c.createElement(l.default,(0,i.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);h.defaultProps={classNames:""},h.propTypes={};const m=h},696630:(e,t,r)=>{r.d(t,{default:()=>_});var i=r(263366),a=r(894578),o=r(667294),n=r(973935),s=r(806035),c=r(500220),l=r(559391),d="unmounted",u="exited",h="entering",m="entered",v="exiting",p=function(e){function t(t,r){var i;i=e.call(this,t,r)||this;var a,o=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(a=u,i.appearStatus=h):a=m:a=t.unmountOnExit||t.mountOnEnter?d:u,i.state={status:a},i.nextCallback=null,i}(0,a.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==h&&r!==m&&(t=h):r!==h&&r!==m||(t=v)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,i=this.props.timeout;return e=t=r=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,r=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:n.findDOMNode(this);r&&(0,l.forceReflow)(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},r.performEnter=function(e){var t=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[n.findDOMNode(this),i],o=a[0],c=a[1],l=this.getTimeouts(),d=i?l.appear:l.enter;!e&&!r||s.default.disabled?this.safeSetState({status:m},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,c),this.safeSetState({status:h},(function(){t.props.onEntering(o,c),t.onTransitionEnd(d,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(o,c)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:n.findDOMNode(this);t&&!s.default.disabled?(this.props.onExit(i),this.safeSetState({status:v},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(i)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:n.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,r=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(c.default.Provider,{value:null},"function"==typeof r?r(e,a):o.cloneElement(o.Children.only(r),a))},t}(o.Component);function g(){}p.contextType=c.default,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},p.UNMOUNTED=d,p.EXITED=u,p.ENTERING=h,p.ENTERED=m,p.EXITING=v;const _=p},500220:(e,t,r)=>{r.d(t,{default:()=>i});const i=r(667294).createContext(null)},806035:(e,t,r)=>{r.d(t,{default:()=>i});const i={disabled:!1}},559391:(e,t,r)=>{r.d(t,{forceReflow:()=>i});var i=function(e){return e.scrollTop}},85538:(e,t,r)=>{var i,a,o,n=r(203712),s=r(946331),c=r(283452),l=r(854099);(null==(a=window.vk)||null==(i=a.pe)?void 0:i.static_manager_dynamic_imports)&&(null==(o=window.vk)?void 0:o.stDomain)&&(r.p=window.vk.stDomain+"/dist/");const d={showAvatar:n.showVmojiAvatarBox,createAvatar(e){(0,n.showVmojiConstructor)(e,{create:""})},editAvatar(e,t){(0,n.showVmojiConstructor)(t,{character_id:e})},showAddedToStickerSnackbar:n.showAddedToStickerSnackbar};if(window.Vmoji=d,!window.vk.widget)try{!function(){(0,c.tq)().setInteractiveHandler("Vmoji/showAvatarBox",(e=>{const{dataAttrs:t}=e.payload;if(!t)return;let r,i,a;void 0!==t.vmojiAvatarOwnerId&&(r=Number(t.vmojiAvatarOwnerId)),void 0!==t.vmojiAvatarCharacterId&&(i=String(t.vmojiAvatarCharacterId)),void 0===t.vmojiPackId&&(a=Number(t.vmojiPackId)),void 0!==r&&void 0!==i&&d.showAvatar(r,i,a)})),(0,c.tq)().setInteractiveHandler("Vmoji/createAvatar",(e=>{d.createAvatar(e.payload.event)})),(0,c.tq)().setInteractiveHandler("Vmoji/editAvatar",(e=>{var t;const{dataAttrs:r}=e.payload;(null==(t=r)?void 0:t.vmojiAvatarCharacterId)&&d.editAvatar(String(r.vmojiAvatarCharacterId),e.payload.event)}));const e=({selector:e,payload:t})=>{var r;const{dataAttrs:i,target:a}=t;if(!(null==(r=i)?void 0:r.vmojiAvatarId))return;const o=String(i.vmojiAvatarId),n="Vmoji/activateAvatar"===e,c=a&&l.FlatButton.isFlatButton(a)?a:null;c&&l.FlatButton.lock(c),(0,s.vmojiSetAvatarState)(o,n).then((()=>{var e;c&&l.FlatButton.unlock(c);const t=null==(e=a)?void 0:e.closest(".VmojiAvatarsListItem");t&&t.classList.toggle("VmojiAvatarsListItem--inactive",!n)})).catch((()=>{}))};(0,c.tq)().setInteractiveHandler("Vmoji/activateAvatar",e),(0,c.tq)().setInteractiveHandler("Vmoji/deactivateAvatar",e)}()}catch(e){}try{window.stManager.done(window.jsc("web/vmoji.js"))}catch(e){}},15080:(e,t,r)=>{r.d(t,{createModule:()=>n,createMutations:()=>o,destroyModule:()=>s});var i=r(850989),a=r(953908);function o(e){return{callMutations(){if("function"==typeof e)throw console.trace(),new Error("Mutations are not initialized");return e},bindMutations(...t){if("function"!=typeof e)throw console.trace(),new Error("Mutations are already initialized");return e=e(...t)}}}function n(e){const t={_registeredHandlers:[]};return e.handlers(((...e)=>function(e,t,r,i){(0,a.addEvent)(t,r,i),e._registeredHandlers.push({handlerType:"bind",elem:t,types:r,handler:i})}(t,...e)),((...e)=>function(e,t,r,a,o,n){(0,i.addDelegateEvent)(t,r,a,o,n),e._registeredHandlers.push({handlerType:"delegate",elem:t,types:r,selector:a,handler:o})}(t,...e))),t}function s(e){e._registeredHandlers.forEach((e=>{const{handlerType:t,elem:r,types:o,handler:n}=e;"delegate"===t?(0,i.removeDelegateEvent)(r,o,e.selector,n):(0,a.removeEvent)(r,o,n)})),e._registeredHandlers=[]}},390433:(e,t,r)=>{r.d(t,{hideSnackbar:()=>j,showSnackbar:()=>_});var i=r(11010),a=r(785893),o=r(667294),n=r(973935),s=r(800325),c=r(228042),l=r(417873),d=r(773693),u=r(667465),h=r(584356),m=r(786858);const v={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},p={ok:(0,s.getIcon24CheckCircleOutline)().icon,warning:(0,c.getIcon24WarningTriangleOutline)().icon,error:(0,l.getIcon24ErrorCircleOutline)().icon,ok28:(0,d.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,u.getIcon28LoudspeakerSlashOutline)().icon},g={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker"};function _(e){return k.apply(this,arguments)}function k(){return(k=(0,i._)((function*({id:e,type:t,text:r,subtitle:i,action:o,before:n,after:s,link:c,timeout:l,align:d,onClick:u,onClose:_}){var k,j,S;let b;yield Promise.resolve();const P={id:e,link:w(c),timeout:l,onClick:u?()=>((0,m.assertNotNull)(b),u(b)):void 0,onHide:_},y={author_link:w(null==(j=n)||null==(k=j.avatar)?void 0:k.link),add_photo:w(null==(S=s)?void 0:S.url),tooltipHandler:e=>{var r,i,a,c,l,u,h,_,k,j;e.classList.add("notifier_snackbar"),t&&p[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(g[t])):(null==(i=n)||null==(r=i.avatar)?void 0:r.url)||(null==(c=n)||null==(a=c.avatar)?void 0:a.content)?n.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!(null==(u=n)||null==(l=u.avatar)?void 0:l.content)&&(null==(h=n)?void 0:h.content)&&e.classList.add("notifier_snackbar_with_custom_before"),(null==(j=null==(_=s)?void 0:_.rounded)||j)&&e.classList.add("notifier_snackbar_with_rounded_after");const f=d?v[d]:void 0;if(f&&e.classList.add(f),null==(k=o)?void 0:k.onClick){var w;null==(w=e.querySelector(".notifier_snackbar_action"))||w.addEventListener("click",(e=>{var t,r;(0,m.assertNotNull)(b),null==(t=(r=o).onClick)||t.call(r,e,b)}))}}};if(t&&p[t])y.avatar_custom_content=p[t];else if(n){var C,E,V,N;(null==(C=n.avatar)?void 0:C.url)?y.author_photo=w(n.avatar.url):(null==(E=n.avatar)?void 0:E.content)?y.avatar_custom_content=f(n.avatar.content):n.content&&(y.avatar_custom_content=f(n.content)),(null==(V=n.icon)?void 0:V.type)?y.icon_type=n.icon.type:(null==(N=n.icon)?void 0:N.url)&&(y.icon_custom={image_url:x(n.icon.url)})}const I=f((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"notifier_snackbar_text",children:r}),i&&(0,a.jsx)("div",{className:"notifier_snackbar_subtitle",children:i}),o&&(0,a.jsx)("div",{children:(0,a.jsx)("a",{className:"notifier_snackbar_action",href:o.href,children:o.label})})]}));return b=yield(0,h.showDoneBoxAsync)(I,P,y),b}))).apply(this,arguments)}function j(e){var t;null==(t=window.Notifier)||t.hideEvent(e)}function f(e){const t=document.createElement("div");return(0,n.flushSync)((()=>{(0,n.render)((0,o.createElement)(o.Fragment,null,e),t)})),t.innerHTML}function w(e){return e&&x(e)}function x(e){return encodeURI(e).replace(/'/g,"%27")}},364517:(e,t,r)=>{r.d(t,{Scroll:()=>c});var i=r(434788),a=r(820224),o=r(785893),n=r(286049),s=r(2914);const c=e=>{var{children:t}=e,r=(0,a._)(e,["children"]);return(0,o.jsx)(n.ScrollContext.Provider,{value:{createScroll:s.createScroll},children:(0,o.jsx)(n.Scroll,(0,i._)({},r,{children:t}))})};c.defaultProps={isNative:!1,isShadows:!1,neverHide:!1}},105268:(e,t,r)=>{r.d(t,{VmojiAvatarModal:()=>B});var i=r(434788),a=r(820224),o=r(785893),n=r(667294),s=r(946331),c=r(885944),l=r(685163),d=r(203712),u=r(442717),h=r(758021),m=r(273192),v=r(557940),p=r(441432),g=r(331583),_=r(143434),k=r(989300),j=r(399022),f=r(722954),w=r(705319),x=r(404276),S=r(903886),b=r(890881),P=r(188778),y=r(712407),C=r(197684),E=r(68003),V=r(839470),N=r(29271),I=r(659397),A=r(514986),L=r(254667),M=r(359639);class B extends n.Component{componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,{capture:!0}),(0,s.vmojiSubscribeToQueue)().then((({key:e,ts:t})=>{(0,c.subscribeToQueue)(e,t,(e=>{this.updateStickerRenders(e)}))})).catch((e=>{console.error(e)}))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,{capture:!0})}render(){return(0,o.jsxs)("div",{className:"VmojiAvatarModal",onClick:this.handleModalClick,children:[(0,o.jsx)(M.MessageBoxDismissButton,{onClick:this.props.close}),(0,o.jsxs)("div",{className:"VmojiAvatarModal__container",children:[this.renderHeader(),(0,o.jsxs)(u.Modal.Body,{hasScroll:!1,children:[this.renderContent(),this.renderGrid(),this.renderSnackbar()]}),this.renderFitting()]})]})}renderContent(){return this.props.canEdit?this.renderOwnCharacter():this.renderCharacter()}renderOwnCharacter(){const{nextFrom:e}=this.state.stickerPacks;return(0,o.jsxs)(h.default,{className:"VmojiAvatarModal__scroll",hasMore:!!e,loadMore:()=>this.fetchStickerPacks(),children:[this.renderAvatar(),this.renderRecommendations(),this.renderStickerPacks()]})}renderCharacter(){return(0,o.jsxs)("div",{className:"VmojiAvatarModal__scroll",children:[this.renderAvatar(),this.renderProducts(),this.renderStickerPacks(),this.renderRecommendations()]})}renderAvatar(){const{isOwn:e,canEdit:t,hasOwnAvatar:r,avatar:n,restore:s}=this.props,{isAvatarActive:c}=this.state,l=(0,I.classNames)("VmojiAvatarModal__preview",{"VmojiAvatarModal__preview--border":r});return(0,o.jsxs)(v.VmojiModalSection,{className:l,children:[(0,o.jsx)("div",{className:"VmojiAvatarModal__actions",children:this.renderActions()}),(0,o.jsx)(g.VmojiCharacterPreview,{url:this.getCharacterPreviewUrl(),color:this.getCharacterPreviewColor(),disabled:!c||e&&!t}),(0,o.jsx)("span",{className:"VmojiAvatarModal__avatarTitle",children:n.name}),t&&(0,o.jsxs)(o.Fragment,{children:[!c&&(0,o.jsx)("span",{className:"VmojiAvatarModal__avatarDescription",children:N.getLang("vmoji_layer_hidden_character")}),(0,o.jsx)(_.VmojiCharacterEditLink,{className:"VmojiAvatarModal__editLink",avatar:n,onClick:({nativeEvent:e},t)=>(0,d.showVmojiConstructor)(e,(0,i._)({character_id:n.character_id},t),s),children:N.getLang("vmoji_layer_edit_link")})]}),e&&!t&&(0,o.jsx)(_.VmojiCharacterEditLink,{className:"VmojiAvatarModal__editLink",onClick:e=>{var{nativeEvent:t}=e,r=(0,a._)(e,["nativeEvent"]);return(0,d.showVmojiConstructor)(t,(0,i._)({character_id:n.character_id},r),s)},children:N.getLang("vmoji_layer_open_link")}),!r&&(0,o.jsx)(k.VmojiCharacterCreationSuggest,{className:"VmojiAvatarModal__creationSuggest",onClick:({nativeEvent:e})=>(0,d.showVmojiConstructor)(e,{create:""},s)})]})}renderProducts(){const{products:e}=this.props;if(!e.length)return null;let t;return e.length>5&&(t={title:N.getLang("vmoji_layer_show_all"),onclick:()=>this.setActiveGrid("products")}),(0,o.jsxs)(v.VmojiModalSection,{children:[(0,o.jsx)(p.VmojiModalSectionHeader,{title:N.getLang("vmoji_layer_products_title"),link:t}),(0,o.jsx)("div",{className:"VmojiAvatarModal__products",children:(this.getCurrentCharacter().product_ids||[]).slice(0,5).map((e=>{const t=this.getProductById(e);return(0,o.jsx)(j.VmojiProductItem,{product:t,small:!0,isActive:this.state.selectedProductId===t.id,onClick:e=>this.handleProductClick(e,t)},t.id)}))})]})}renderStickerPacks(){const{canEdit:e,packId:t,avatar:{character_id:r}}=this.props,{activeStickerPacks:i,hiddenStickerPacks:a}=this.state.stickerPacks,n=e?i:[...i,...a].slice(0,1),s=!e&&!t;return(0,o.jsxs)(o.Fragment,{children:[n.length>0&&(0,o.jsxs)(v.VmojiModalSection,{children:[(0,o.jsx)(p.VmojiModalSectionHeader,{title:e?N.getLang("vmoji_layer_my_packs_title"):N.getLang("vmoji_layer_packs_title")}),n.map((t=>(0,o.jsx)(f.VmojiStickerPackExtended,{className:"VmojiAvatarModal__stickerPacks",characterId:r,isActive:s||t.is_active,stickersPack:t,canManage:e,toggleStickerPack:e=>this.toggleStickerPack(e)},t.id)))]}),e&&a.length>0&&(0,o.jsxs)(v.VmojiModalSection,{children:[(0,o.jsx)(p.VmojiModalSectionHeader,{title:N.getLang("vmoji_layer_hidden_packs_title")}),a.map((t=>(0,o.jsx)(f.VmojiStickerPackExtended,{className:"VmojiAvatarModal__stickerPacks",characterId:r,isActive:t.is_active,stickersPack:t,canManage:e,toggleStickerPack:e=>this.toggleStickerPack(e)},t.id)))]})]})}renderRecommendations(){const{blocks:e}=this.props.recommendations;return e.map((e=>(0,o.jsxs)(v.VmojiModalSection,{children:[(0,o.jsx)(p.VmojiModalSectionHeader,{title:e.title,link:e.pack_ids.length>5?{title:N.getLang("vmoji_layer_show_all"),onclick:()=>this.setActiveGrid("stickers",e.id)}:void 0}),(0,o.jsx)("div",{className:"VmojiAvatarModal__blocks",children:e.pack_ids.slice(0,5).map((e=>(0,o.jsx)(w.VmojiStickerPack,{stickerPack:this.getRecommendationsPackById(e)},e)))})]},e.id)))}renderActions(){const{canEdit:e}=this.props,t=(0,V.partConfigEnabled)("vmoji_web2_show_share_box");return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)("span",{className:"VmojiAvatarModal__action",onClick:()=>this.shareBox(),children:(0,o.jsx)(y.Icon28ShareOutline,{})}),e&&(0,o.jsx)(m.default,{position:"b",align:"right",trigger:"hover",appearance:"fancy",data:this.getActions(),children:(0,o.jsx)("span",{className:"VmojiAvatarModal__action","aria-hidden":!0,children:(0,o.jsx)(C.Icon28MoreHorizontal,{})})})]})}renderFitting(){const{showProductFitting:e,stickerRenders:t}=this.state,r=this.getCurrentProduct();return e&&r?(0,o.jsx)(b.VmojiProductPreview,{className:"VmojiAvatarModal__fitting",product:r,close:()=>this.setIsProductPreview(!1),stickerRenders:t,updateStickerRenders:this.updateStickerRenders}):null}renderSnackbar(){const{showProductSnackbar:e}=this.state,t=this.getCurrentProduct();return(0,o.jsx)(x.VmojiSnackbar,{isShown:e,onExited:()=>this.setActiveProduct(null),children:(0,o.jsx)("div",{className:"VmojiAvatarModal__selectedProduct",children:t&&(0,o.jsx)(S.VmojiSelectedProduct,{product:t,buyProduct:()=>(0,P.sendProduct)(t.id),tryProduct:()=>this.setIsProductPreview(!0)})})})}renderGrid(){const{showGrid:e}=this.state;return"products"===e?this.renderProductsGrid():"stickers"===e?this.renderStickersGrid():void 0}renderProductsGrid(){var e;const t=this.getCurrentCharacter();return(0,o.jsx)("div",{className:"VmojiAvatarModal__grid",children:null==(e=t.product_ids)?void 0:e.map((e=>{const t=this.getProductById(e);return(0,o.jsx)(j.VmojiProductItem,{product:t,small:!1,isActive:this.state.selectedProductId===t.id,onClick:e=>this.handleProductClick(e,t)},t.id)}))})}renderStickersGrid(){const{showGridBlockId:e}=this.state;if(!e)return null;const t=this.getBlockById(e);return(0,o.jsx)("div",{className:"VmojiAvatarModal__grid",children:t.pack_ids.map((e=>(0,o.jsx)(w.VmojiStickerPack,{stickerPack:this.getRecommendationsPackById(e),size:"large"},e)))})}renderHeader(){const{showGrid:e,showGridBlockId:t}=this.state;if("none"===e)return null;let r="";if("products"===e)r=N.getLang("vmoji_layer_products_title");else if("stickers"===e&&t){r=this.getBlockById(t).title}return(0,o.jsx)(u.Modal.Header,{title:r,backText:N.getLang("vmoji_layer_back"),onBack:()=>this.setActiveGrid("none"),onClose:()=>{}})}stickerRendersToDictionary(e){return e.reduce(((e,t)=>t.id?(0,i._)({},e,{[t.id]:t}):e),{})}filterStickersPackPreview(e){const t=[],r=[];return e.forEach((e=>e.is_active?t.push(e):r.push(e))),{activeStickerPacks:t,hiddenStickerPacks:r}}getCharacterById(e){return this.props.characters.find((t=>t.id===e))}getCurrentCharacter(){return this.getCharacterById(this.props.avatar.character_id)}getCharacterPreviewUrl(){var e;const{stickerRenders:t}=this.props,{preview:r}=this.getCurrentCharacter();if(!r||!r.body)return"/images/svg_icons/vmoji/vmoji_stub_body.svg";const i=null==(e=t)?void 0:e.find((e=>e.id===r.body));return i&&!i.is_stub&&i.images?(0,l.getImageSize)(i.images,180,"light"):"/images/svg_icons/vmoji/vmoji_stub_body.svg"}getCharacterPreviewColor(){const{preview:e}=this.getCurrentCharacter();if(!e)return"";const{background_color:t}=e;return t?(0,l.argb2rgba)(E.colorScheme.isDarkScheme()?t.dark:t.light):""}getActions(){const{restore:e}=this.props,{isAvatarActive:t}=this.state;return[{text:N.getLang("vmoji_layer_recreate_character"),onClick:({nativeEvent:t})=>(0,d.showVmojiConstructor)(t,{create:""},e)},{text:t?N.getLang("vmoji_layer_deactivate_character"):N.getLang("vmoji_layer_activate_character"),negative:t,onClick:()=>this.toggleCharacter()}]}getProductById(e){return this.props.products.find((t=>t.id===e))}getStickerPackById(e){const{stickerPacks:t}=this.state;return[...t.activeStickerPacks,...t.hiddenStickerPacks].find((t=>t.id===e))}getRecommendationsPackById(e){var t;return null==(t=this.props.recommendations.packs)?void 0:t.find((t=>t.id===e))}getCurrentProduct(){const{selectedProductId:e}=this.state;return e?this.getProductById(e):null}getBlockById(e){const{blocks:t}=this.props.recommendations;return t.find((t=>t.id===e))}fetchStickerPacks(){const{nextFrom:e,activeStickerPacks:t,hiddenStickerPacks:r}=this.state.stickerPacks;return e?new Promise(((i,a)=>{(0,s.vmojiGetStickerPacks)({start_from:e}).then((({next_from:e,previews:a})=>{const{activeStickerPacks:o,hiddenStickerPacks:n}=this.filterStickersPackPreview(a);return this.setState({stickerPacks:{nextFrom:e,activeStickerPacks:[...t,...o],hiddenStickerPacks:[...r,...n]}}),i(!0)})).catch((()=>a()))})):Promise.resolve()}shareBox(){const{avatar:e,packId:t}=this.props;(0,A.showBox)("like.php",{act:"publish_box",object:`vmoji${e.id}${t?`_${t}`:""}`})}toggleCharacter(){const{userId:e,avatar:t}=this.props,{isAvatarActive:r}=this.state;(0,s.vmojiSetAvatarState)(`${e}_${t.character_id}`,!r).then((()=>{this.setState({isAvatarActive:!r})})).catch((e=>{var t,r;(0,L.topError)((null==(r=e)||null==(t=r.error)?void 0:t.error_msg)||N.getLang("global_unknown_error"))}))}setActiveGrid(e,t=null){this.setState({showGrid:e,showGridBlockId:t})}setActiveProduct(e){this.setState({selectedProductId:e})}toggleStickerPack(e){const t=this.getStickerPackById(e);t&&(t.is_active?s.storeDeactivateProduct:s.storeActivateProduct)(e).then((()=>{const{activeStickerPacks:t,hiddenStickerPacks:r,nextFrom:i}=this.state.stickerPacks,a=JSON.parse(JSON.stringify([...t,...r])),o=a.find((t=>t.id===e));o.is_active=!o.is_active;const{activeStickerPacks:n,hiddenStickerPacks:s}=this.filterStickersPackPreview(a);this.setState({stickerPacks:{activeStickerPacks:n,hiddenStickerPacks:s,nextFrom:i}})})).catch((e=>{var t,r;(0,L.topError)((null==(r=e)||null==(t=r.error)?void 0:t.error_msg)||N.getLang("global_unknown_error"))}))}setIsProductPreview(e){this.setState({showProductFitting:e})}fetchRecommendationBlockById(e){return new Promise(((t,r)=>{(0,s.vmojiGetStickerPacksRecommendationBlock)(e).then((({block:e,packs:r})=>(console.log(e,r),t(!0)))).catch((()=>r()))}))}constructor(e){super(e),this.updateStickerRenders=e=>{this.setState({stickerRenders:(0,i._)({},this.state.stickerRenders,this.stickerRendersToDictionary(e))})},this.handleProductClick=(e,t)=>{e.stopPropagation(),t.is_purchased||this.state.selectedProductId===t.id||(this.setActiveProduct(t.id),this.setState({showProductSnackbar:!0}))},this.handleModalClick=e=>{const{selectedProductId:t}=this.state,{target:r}=e;t&&r&&(r.closest(".VmojiAvatarModal__selectedProduct")||r.closest(".VmojiProductPreview")||this.setState({showProductSnackbar:!1}))},this.handleKeyDown=e=>{const{showGrid:t,showProductFitting:r,showProductSnackbar:i}=this.state,a="none"!==t||r||i;"Escape"==e.key&&a&&(e.preventDefault(),e.stopPropagation(),r?this.setIsProductPreview(!1):"none"!==t?this.setActiveGrid("none"):i&&this.setState({showProductSnackbar:!1}))},this.state={stickerRenders:this.stickerRendersToDictionary(e.stickerRenders),stickerPacks:(0,i._)({},this.filterStickersPackPreview(e.stickerPacks.previews),{nextFrom:e.stickerPacks.next_from}),isAvatarActive:!e.canEdit||!!e.avatar.is_active,showProductFitting:!1,showProductSnackbar:!1,selectedProductId:null,showGrid:"none",showGridBlockId:null}}}},55770:(e,t,r)=>{r.d(t,{VmojiBadge:()=>a});var i=r(785893);const a=({className:e="",text:t,type:r})=>(0,i.jsx)("div",{className:`VmojiBadge VmojiBadge--${r} ${e}`,children:t})},989300:(e,t,r)=>{r.d(t,{VmojiCharacterCreationSuggest:()=>s});var i=r(785893),a=r(29271),o=r(562788),n=r(506281);const s=({className:e="",onClick:t})=>(0,i.jsxs)("div",{className:`VmojiCharacterCreationSuggest ${e}`,onClick:t,children:[(0,i.jsxs)("div",{className:"VmojiCharacterCreationSuggest__content",children:[(0,i.jsx)(o.Icon28VmojiOutline,{className:"VmojiCharacterCreationSuggest__icon"}),(0,i.jsx)("span",{className:"VmojiCharacterCreationSuggest__text",children:a.getLang("vmoji_layer_new_character")})]}),(0,i.jsx)(n.Icon24Chevron,{className:"VmojiCharacterCreationSuggest__arrow"})]})},143434:(e,t,r)=>{r.d(t,{VmojiCharacterEditLink:()=>u});var i=r(434788),a=r(820224),o=r(785893),n=r(659397),s=r(563952),c=r(832550),l=r(86894);const d={red:"prominent",blue:"contrast",gray:"secondary"};function u(e){var t,r,u,h,m,v,{avatar:p,children:g,className:_,onClick:k}=e,j=(0,a._)(e,["avatar","children","className","onClick"]);const f=null==(r=p)||null==(t=r.constructor_new_items)?void 0:t.open_params,w=(null==(h=p)||null==(u=h.constructor_new_items)?void 0:u.counter_color)||"blue",x=null==(v=p)||null==(m=v.constructor_new_items)?void 0:m.counter_value,S=Boolean(x);return(0,o.jsx)(c.Button,(0,i._)({className:(0,n.classNames)("VmojiCharacterEditLink__button",{"VmojiCharacterEditLink__button--animated":S},_),size:"s",mode:"tertiary",after:S&&(0,o.jsx)(l.Counter,{size:"s",mode:d[w],children:x}),appearance:"accent-invariable",before:(0,o.jsx)(s.Icon24BrushOutline,{}),onClick:e=>{var t;null==(t=k)||t(e,f)}},j,{children:(0,o.jsx)(l.Text,{weight:"2",children:g})}))}},331583:(e,t,r)=>{r.d(t,{VmojiCharacterPreview:()=>o});var i=r(785893),a=r(659397);const o=({color:e,url:t,size:r=180,disabled:o=!1})=>{const n=(0,a.classNames)("VmojiCharacterPreview",`VmojiCharacterPreview--${r}`,{"VmojiCharacterPreview--disable":o});return(0,i.jsx)("div",{className:n,style:{backgroundImage:`url('${t}')`,backgroundColor:e}})}},557940:(e,t,r)=>{r.d(t,{VmojiModalSection:()=>o});var i=r(785893),a=r(659397);const o=({className:e="",children:t})=>(0,i.jsx)("div",{className:(0,a.classNames)("VmojiModalSection",e),children:t})},441432:(e,t,r)=>{r.d(t,{VmojiModalSectionHeader:()=>o});var i=r(785893),a=r(840842);const o=({title:e,link:t})=>(0,i.jsxs)("div",{className:"VmojiModalSectionHeader",children:[(0,i.jsx)("span",{className:"VmojiModalSectionHeader__title",children:e}),t&&(0,i.jsx)(a.default,{className:"VmojiModalSectionHeader__link",onClick:t.onclick,children:t.title})]})},399022:(e,t,r)=>{r.d(t,{VmojiProductItem:()=>m});var i=r(785893),a=r(55770),o=r(685163),n=r(29271),s=r(659397),c=r(576292),l=r(519276),d=r(948507),u=r(387190),h=r(68003);const m=({product:e,onClick:t,isActive:r=!1,small:m})=>{const{title:v,price:p,images:g}=e,_=h.colorScheme.isDarkScheme()?"dark":"light",k=(0,o.getImageSize)(g||[],m?72:98,_),j="VmojiProductItem__icon";let f="",w=null;const{is_locked:x,is_unlocked:S,is_purchased:b}=e;x?S||b?(w=(0,i.jsx)(c.Icon16LockOpen,{className:`${j} ${j}--green`}),f=n.getLang("vmoji_layer_item_available")):(w=(0,i.jsx)(l.Icon16Lock,{className:`${j} ${j}--gray`}),f=n.getLang("vmoji_layer_item_locked")):b?(w=(0,i.jsx)(u.Icon16CrownCheckFillPurple,{className:`${j} ${j}--purple`}),f=n.getLang("vmoji_layer_item_already_purchased")):(w=(0,i.jsx)(d.Icon16Crown,{className:`${j} ${j}--purple`}),f=n.getLang("vmoji_layer_item_price",e.price.current));const P=(0,s.classNames)("VmojiProductItem",{"VmojiProductItem--active":r,"VmojiProductItem--small":m,"VmojiProductItem--purchased":e.is_purchased});return(0,i.jsxs)("div",{className:P,onClick:t,children:[(0,i.jsxs)("div",{className:"VmojiProductItem__inner",style:{backgroundImage:`url(${k})`},children:[(()=>{const{badge:t}=e;return t?(0,i.jsx)(a.VmojiBadge,{className:"VmojiProductItem__badge",type:t.type,text:t.text||t.type}):null})(),w]}),!m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"VmojiProductItem__title",children:v}),!e.is_purchased&&!e.is_locked&&p.regular&&(0,i.jsx)("span",{className:"VmojiProductItem__oldPrice",children:n.getLang("vmoji_layer_item_price",p.regular)}),(0,i.jsx)("span",{className:"VmojiProductItem__price",children:f})]})]})}},890881:(e,t,r)=>{r.d(t,{VmojiProductPreview:()=>_});var i=r(785893),a=r(86894),o=r(315954),n=r(659397),s=r(667294),c=r(589897),l=r(562329),d=r(946331),u=r(331583),h=r(188778),m=r(221780),v=r(29271),p=r(685163),g=r(68003);const _=({className:e,product:t,close:r,stickerRenders:_,updateStickerRenders:k})=>{var j,f,w,x,S,b,P,y;const[C,E]=(0,s.useState)();(0,s.useEffect)((()=>{var e;(0,d.vmojiGetCharacterById)((null==(e=t.preview)?void 0:e.character_id)||"",!0).then((({character:e,sticker_renders:t})=>{k(t||[]),E(e)})).catch((e=>{console.log(e)}))}),[]);const V=e=>_[e];let N="";if(null==(j=C)?void 0:j.preview){const{background_color:e}=C.preview;e&&(N=(0,p.argb2rgba)(g.colorScheme.isDarkScheme()?e.dark:e.light))}const I=V((null==(w=C)||null==(f=w.preview)?void 0:f.body)||"");let A="/images/svg_icons/vmoji/vmoji_stub_body.svg";!I||I.is_stub||I.is_rendering||(A=(0,p.getImageSize)(I.images||[],164));const L=t.price.current,M=0===L,B=null==(x=t.preview)?void 0:x.caption,O=(null==(S=t)?void 0:S.is_locked)&&!(null==(b=t)?void 0:b.is_unlocked),H=(0,n.classNames)("VmojiProductPreview",e);return(0,i.jsxs)("div",{className:H,children:[(0,i.jsx)("div",{className:"VmojiProductPreview__overlay",onClick:r}),(0,i.jsxs)("div",{className:"VmojiProductPreview__inner",children:[(0,i.jsx)(o.Icon24Cancel,{className:"VmojiProductPreview__close",onClick:r}),C&&_&&I?(0,i.jsxs)(i.Fragment,{children:[B&&(0,i.jsx)(a.Footnote,{className:"VmojiProductPreview__title",children:B}),(0,i.jsx)(u.VmojiCharacterPreview,{url:A,color:N,size:164}),(0,i.jsx)("div",{className:"VmojiProductPreview__previews",children:null==(y=C.preview)||null==(P=y.stickers)?void 0:P.slice(0,3).map((e=>{const t=V(e);let r="/images/svg_icons/vmoji/vmoji_stub_sticker.svg";if(t){const e=(0,p.getImageSize)(t.images,96);e&&(r=e)}return(0,i.jsx)("img",{alt:"",src:r,className:"VmojiProductPreview__preview"},e)}))}),O?(0,i.jsx)("span",{className:"VmojiProductPreview__itemLocked",children:v.getLang("vmoji_layer_item_locked")}):(0,i.jsx)(c.default,{size:"m",mode:M?"primary":"positive",onClick:()=>(0,h.sendProduct)(t.id),children:M?v.getLang("vmoji_layer_item_free"):(0,m.langStr)(v.getLang("vmoji_layer_buy_at_price"),"price",v.getLang("vmoji_layer_item_price",L))})]}):(0,i.jsx)(l.default,{})]})]})}},800667:(e,t,r)=>{r.d(t,{VmojiPurchaseBox:()=>p});var i=r(785893),a=r(667294),o=r(29271),n=r(514986),s=r(946331),c=r(816511),l=r(385174),d=r(215200),u=r(685371),h=r(126116),m=r(832550),v=r(685163);function p({product:e,balance:t,onDone:r,onClose:p}){const{title:g,images:_,price:{current:k}}=e,j=0===k,[f,w]=(0,a.useState)(!1),x=(0,v.getImageSize)(_||[],64);return(0,i.jsxs)(c.ModalBox,{children:[(0,i.jsx)(l.ModalHeaderCard,{before:(0,i.jsx)(d.Image,{src:x,size:64}),title:g,subtitle:j?`${o.getLang("vmoji_price_label")} ${o.getLang("vmoji_price_free")}`:`${o.getLang("vmoji_price_label")} ${o.getLang("vmoji_price",k)}`,extraSubtitle:!j&&o.getLang("vmoji_balance",t),onClose:p,closeAriaLabel:o.getLang("global_close")}),(0,i.jsx)(u.ModalBody,{insetLevel:2,children:j?o.getLang("vmoji_confirmation_message_free"):o.getLang("vmoji_confirmation_message_sum",k)}),(0,i.jsx)(h.ModalFooter,{actionButtons:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Button,{mode:"secondary",size:"m",onClick:p,children:o.getLang("global_cancel")}),(0,i.jsx)(m.Button,{mode:"primary",size:"m",loading:f,onClick:()=>{w(!0),(0,s.vmojiPurchaseProduct)(e.id,!0).then((e=>{r(e),p()})).catch((()=>{(0,n.showFastBox)(o.getLang("global_error"),o.getLang("global_error")),p()})).finally((()=>{w(!1)}))},children:j?o.getLang("vmoji_get"):o.getLang("vmoji_pay")})]})})]})}},188778:(e,t,r)=>{r.d(t,{sendProduct:()=>c});var i=r(434788),a=r(785893),o=r(800667),n=r(946331),s=r(359639);const c=e=>new Promise(((t,r)=>{const c=e=>{t(e)},l=()=>{t(!1)};Promise.all([(0,n.vmojiPurchaseProduct)(e),(0,n.vmojiGetLangs)(n.VmojiLangSection.PURCHASE)]).then((([{confirmation:e}])=>{if(!e)throw new Error("Confirmation is undefined");const{product:t,balance:r}=e;(0,s.showMessageBoxModal)((e=>(0,a.jsx)(o.VmojiPurchaseBox,(0,i._)({},e,{product:t,balance:r,onDone:c}))),{width:520,onDestroy:l})})).catch((i=>{var a,o;504!==(null==(o=i)||null==(a=o.error)?void 0:a.error_code)?r(i):(e=>new Promise(((t,r)=>{window.ajax.post("al_payments.php",{act:"getvotes_box",product_id:e},{onDone:()=>{t(!0)},onFail:e=>(r(e),!0)})})))(e).then((()=>{(0,n.vmojiPurchaseProduct)(e,!0).then(t).catch(r)})).catch(r)}))}))},903886:(e,t,r)=>{r.d(t,{VmojiSelectedProduct:()=>c});var i=r(785893),a=r(589897),o=r(59234),n=r(29271),s=r(685163);const c=({product:e,buyProduct:t,tryProduct:r})=>{const{unlock_info:c}=e;return(0,i.jsxs)("div",{className:"VmojiSelectedProduct",children:[(0,i.jsxs)("div",{className:"VmojiSelectedProduct__inner",children:[(0,i.jsx)("div",{className:"VmojiSelectedProduct__preview",style:{backgroundImage:`url(${(0,s.getImageSize)(e.images||[],72)})`}}),(0,i.jsxs)("div",{className:"VmojiSelectedProduct__content",children:[(0,i.jsx)("span",{className:"VmojiSelectedProduct__name",children:c?c.title:e.title}),(0,i.jsx)("span",{className:"VmojiSelectedProduct__description",children:c?c.text:e.description})]})]}),(0,i.jsxs)("div",{className:"VmojiSelectedProduct__actions",children:[e.is_locked&&!e.is_unlocked?(()=>{const{unlock_info:t}=e;if(!t)return null;const{button:r}=t;return r&&r.action?(0,i.jsx)(a.default,{size:"m",mode:"primary",onClick:()=>{var e;return window.open(null==(e=r.action)?void 0:e.url,"_blank")},children:r.title}):null})():(()=>{const r=e.price.current,o=0===r;return(0,i.jsx)(a.default,{size:"m",mode:o?"primary":"positive",onClick:()=>t(e.id),children:n.getLang(o?"vmoji_layer_item_free":"vmoji_layer_item_price",r)})})(),e.preview&&(0,i.jsx)(a.default,{size:"m",className:"VmojiSelectedProduct__tryButton",mode:"secondary",onClick:()=>r(),children:(0,i.jsx)(o.Icon24HangerOutline,{className:"VmojiSelectedProduct__tryButtonIcon"})})]})]})}},404276:(e,t,r)=>{r.d(t,{VmojiSnackbar:()=>o});var i=r(785893),a=r(429697);const o=({isShown:e,onExited:t,children:r})=>(0,i.jsx)(a.default,{in:e,classNames:{enter:"VmojiSnackbar--enter",enterActive:"VmojiSnackbar--enterActive",exitActive:"VmojiSnackbar--exitActive",exit:"VmojiSnackbar--exit"},onExited:t,addEndListener:(e,t)=>{e.addEventListener("transitionend",(e=>{e.target===e.currentTarget&&t()}),!1)},unmountOnExit:!0,children:r})},705319:(e,t,r)=>{r.d(t,{VmojiStickerPack:()=>l});var i=r(785893),a=r(55770),o=r(685163),n=r(659397),s=r(29271),c=r(82161);const l=({className:e="",stickerPack:t,size:r="regular"})=>{var l,d;const u=(0,n.classNames)("VmojiStickerPack",{"VmojiStickerPack--large":"large"===r},e);return(0,i.jsxs)("div",{className:u,onClick:()=>window.Emoji.previewSticker(t.id),title:t.title,style:{width:r},children:[(0,i.jsx)("div",{className:"VmojiStickerPack__preview",style:{backgroundImage:`url(${(()=>{const{icon:e}=t;return e?(0,o.getStickerIconUrl)(e,(0,c.isRetina)()?"square_2x.png":"square.png"):""})()})`,height:r},children:(()=>{const{badge:e}=t;if(!e)return null;const{subtype:r,text:o}=e;return r?(0,i.jsx)(a.VmojiBadge,{className:"VmojiStickerPack__badge",type:r,text:o||r}):null})()}),(0,i.jsx)("div",{className:"VmojiStickerPack__name",children:t.title}),!t.is_purchased&&(null==(l=t.price)?void 0:l.discount)&&(null==(d=t.price)?void 0:d.regular)&&(0,i.jsx)("div",{className:"VmojiStickerPack__discount",children:s.getLang("vmoji_layer_item_price",t.price.regular)}),(0,i.jsx)("div",{className:"VmojiStickerPack__price",children:t.is_purchased?s.getLang("vmoji_layer_item_already_purchased"):t.price&&0!==t.price.current?s.getLang("vmoji_layer_item_price",t.price.current):s.getLang("vmoji_layer_item_free")})]})}},722954:(e,t,r)=>{r.d(t,{VmojiStickerPackExtended:()=>h});var i=r(785893),a=r(589897),o=r(273192),n=r(659397),s=r(29271),c=r(685163),l=r(82161),d=r(68003),u=r(432483);const h=({className:e="",characterId:t,stickersPack:r,isActive:h,canManage:m,toggleStickerPack:v})=>{var p;const g=(0,n.classNames)("VmojiStickerPackExtended",e,{"VmojiStickerPackExtended--disabled":!h});return(0,i.jsxs)("div",{className:g,onClick:()=>h?window.Emoji.previewSticker(r.id,!1,{characterId:t}):null,children:[(0,i.jsxs)("div",{className:"VmojiStickerPackExtended__header",children:[(0,i.jsxs)("div",{className:"VmojiStickerPackExtended__left",children:[!h&&(0,i.jsx)("img",{src:(()=>{const{icon:e}=r;return e?(0,c.getStickerIconUrl)(e,(0,l.isRetina)()?"square_2x.png":"square.png"):""})(),className:"VmojiStickerPackExtended__preview"}),(0,i.jsxs)("div",{className:"VmojiStickerPackExtended__content",children:[(0,i.jsx)("span",{className:"VmojiStickerPackExtended__name",children:r.title}),(0,i.jsx)("span",{className:"VmojiStickerPackExtended__description",children:r.description})]})]}),(0,i.jsx)("div",{className:"VmojiStickerPackExtended__right",children:m&&r.is_purchased?(()=>{const e=[{text:r.is_active?s.getLang("vmoji_layer_hide"):s.getLang("vmoji_layer_show_again"),negative:r.is_active,onClick:e=>{e.preventDefault(),e.stopPropagation(),v(r.id)}}];return(0,i.jsx)(o.default,{position:"b",align:"right",trigger:"hover",appearance:"fancy",data:e,children:(0,i.jsx)("div",{className:"VmojiStickerPackExtended__more","aria-hidden":!0,children:(0,i.jsx)(u.Icon24MoreHorizontal,{})})})})():(0,i.jsx)(a.default,{size:"m",mode:"secondary",children:s.getLang("vmoji_layer_show_sticker_pack")})})]}),h&&(0,i.jsx)("div",{className:"VmojiStickerPackExtended__items",children:null==(p=r.stickers)?void 0:p.map((e=>(0,i.jsx)("img",{src:(0,c.getImageSize)((d.colorScheme.isDarkScheme()?e.images_with_background:e.images)||[],88),className:"VmojiStickerPackExtended__item"},e.sticker_id)))})]})}},946331:(e,t,r)=>{r.d(t,{VmojiLangSection:()=>v,storeActivateProduct:()=>h,storeDeactivateProduct:()=>m,vmojiGetAvatar:()=>n,vmojiGetCharacterById:()=>d,vmojiGetLangs:()=>p,vmojiGetStickerPacks:()=>l,vmojiGetStickerPacksRecommendationBlock:()=>c,vmojiGetStickerPacksRecommendationBlocks:()=>s,vmojiPurchaseProduct:()=>o,vmojiSetAvatarState:()=>u,vmojiSubscribeToQueue:()=>a});var i=r(599809);const a=()=>(0,i.api)("vmoji.subscribeToQueue",{}),o=(e,t=!1)=>(0,i.api)("vmoji.purchaseProduct",{product_id:e,confirm:t?1:0}),n=e=>{const t={};return e&&Object.assign(t,{avatar_id:e}),(0,i.api)("vmoji.getAvatar",t)},s=e=>(0,i.api)("vmoji.getStickerPacksRecommendationBlocks",e),c=(e,t)=>{const r={block_id:e};return t&&Object.assign(r,{count:t}),(0,i.api)("vmoji.getStickerPacksRecommendationBlock",r)},l=e=>(0,i.api)("vmoji.getStickerPacks",e),d=(e,t)=>(0,i.api)("vmoji.getCharacterById",{character_id:e,with_stickers:t?1:0}),u=(e,t)=>(0,i.api)("vmoji.setAvatarState",{avatar_id:e,is_active:t?1:0}),h=e=>(0,i.api)("store.activateProduct",{type:"stickers",product_id:e}),m=e=>(0,i.api)("store.deactivateProduct",{type:"stickers",product_id:e});var v;!function(e){e.LAYER="layer",e.PURCHASE="purchase"}(v||(v={}));const p=e=>new Promise(((t,r)=>{window.ajax.post("al_vmoji.php",{act:"lang_keys",section:e},{onDone:()=>{t()},onFail:()=>(r(),!1)})}))},685163:(e,t,r)=>{r.d(t,{argb2rgba:()=>s,getImageSize:()=>o,getStickerIconUrl:()=>n});var i=r(82161),a=r(68003);function o(e,t,r){let o;e.sort(((e,t)=>e.width-t.width)),(0,i.isRetina)()&&(t*=2),void 0===r&&(r=a.colorScheme.isDarkScheme()?"dark":"light");for(const i of e)if(i.url){if(i.width>=t&&(!r||i.theme===r))return i.url;o=i}return o?o.url:""}function n(e,t){var r;return`${null==(r=e)?void 0:r.base_url}/${t}${e.version?`?${e.version}`:""}`}function s(e=""){return e.replace(/#(..)(......)/,"#$2$1")}},203712:(e,t,r)=>{r.d(t,{showAddedToStickerSnackbar:()=>_,showVmojiAvatarBox:()=>p,showVmojiConstructor:()=>g});var i=r(434788),a=r(785893),o=r(254667),n=r(95432),s=r(105268),c=r(584356),l=r(946331),d=r(359639),u=r(404145),h=r(390433),m=r(29271);const v=7929683;function p(e,t,r){const n=`${e}_${t}`,u=(0,c.showBoxLoader)();return Promise.all([(0,l.vmojiGetAvatar)(),(0,l.vmojiGetAvatar)(n)]).then((([n,h])=>{var m,v;if((0,c.isBoxLoadingCancelled)(u))return;const{avatar:g,characters:_,products:k,sticker_renders:j}=h;if(!g)return(0,o.topError)("Avatar is undefined"),void(0,c.hideBoxLoader)();if(!(null==(m=_)?void 0:m.length))return(0,o.topError)("Character is undefined"),void(0,c.hideBoxLoader)();const{avatar:f}=n,w=e===window.vk.id,x=void 0!==f&&(null==(v=f)?void 0:v.id)===g.id,S={character_id:g.character_id};w||(S.ref_user_id=e);const b={character_id:g.character_id};x||(void 0!==r?b.pack_ids=String(r):b.filter="default"),Promise.all([(0,l.vmojiGetStickerPacksRecommendationBlocks)(S),(0,l.vmojiGetStickerPacks)(b),(0,l.vmojiGetLangs)(l.VmojiLangSection.LAYER)]).then((([o,n])=>{(0,c.isBoxLoadingCancelled)(u)||((0,c.hideBoxLoader)(),(0,d.showMessageBoxModal)((({onClose:c})=>(0,a.jsx)(s.VmojiAvatarModal,{close:c,isOwn:w,canEdit:x,userId:window.vk.id,hasOwnAvatar:void 0!==f,packId:r,avatar:g,characters:_||[],products:k||[],stickerRenders:j||[],recommendations:(0,i._)({},o),stickerPacks:(0,i._)({},n),restore:()=>{p(e,t,r)}})),{width:630}))})).catch((e=>{(0,o.topError)(e)}))})).catch((e=>{(0,o.topError)(e)})),!1}function g(e,t,r){const a={layer:!0,onHide:()=>{var e;null==(e=r)||e()}};t=(0,i._)({},t,{disableshare:""}),a.urlHash=new URLSearchParams(Object.entries(t)).toString().replace(/=(?=&|$)/gm,""),(0,n.showApp)(e,v,!1,null,null,a)}function _(){(0,u.isMvk)()||(0,h.showSnackbar)({text:m.getLang("stickers_picker_vmoji_added_to_stickers"),type:"ok"})}},885944:(e,t,r)=>{r.d(t,{subscribeToQueue:()=>a});var i=r(321850);const a=(e,t,r)=>{if(!window.Notifier)return;const a=setInterval((()=>{window.Notifier.addKey({key:e,ts:t},((e,t)=>{((e,t)=>{e&&e.events&&e.events.length&&e.events.forEach((({entity_type:e,data:r})=>{"vmoji"===e&&r&&"stickers"===r.type&&t(r.sticker_renders||[])}))})(t,r)}))}),1e4);(0,i.pushNavDestroy)((()=>clearInterval(a)))}},800325:(e,t,r)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}r.d(t,{getIcon24CheckCircleOutline:()=>i})},417873:(e,t,r)=>{function i(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}r.d(t,{getIcon24ErrorCircleOutline:()=>i})},228042:(e,t,r)=>{function i(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}r.d(t,{getIcon24WarningTriangleOutline:()=>i})},773693:(e,t,r)=>{function i(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}r.d(t,{getIcon28CheckCircleOutline:()=>i})},667465:(e,t,r)=>{function i(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}r.d(t,{getIcon28LoudspeakerSlashOutline:()=>i})},850989:(e,t,r)=>{r.d(t,{addDelegateEvent:()=>s,removeDelegateEvent:()=>c});var i=r(795558),a=r(953908);let o=new window.Map;function n(e){let t=o.get(e.currentTarget);if(!t)return;let r,a=t[e.type];if(a)for(let t=0;t<a.length;t++){let o,[n,s]=a[t];if((0,i.hasClass)(e.target,n)?o=s(e,e.target):(r=(0,i.gpeByClass)(n,e.target,e.currentTarget))&&(o=s(e,r)),!1===o)break}}function s(e,t,r,i,s){let c=o.get(e);c||(o.set(e,{}),c=o.get(e));let l=t.split(" ");for(let t=0;t<l.length;t++){let o=l[t];c[o]||(c[o]=[],s?(0,a.addEvent)(e,o,n,!1,!1,s):(0,a.addEvent)(e,o,n)),c[o].push([r,i])}}function c(e,t,r,i){let s=o.get(e);if(!s)return;t.split(" ").forEach((t=>{s[t]&&(s[t]=s[t].filter((e=>e[0]!==r||e[1]!==i)),0===s[t].length&&(0,a.removeEvent)(e,t,n))}));0===Object.keys(s).map((e=>s[e].length)).reduce(((e,t)=>e+t))&&o.delete(e)}},2914:(e,t,r)=>{r.d(t,{createScroll:()=>l,getNativeOption:()=>o});var i=r(15080),a=r(438221);function o(e,t){return document.body[e]||document.documentElement[e]}class n{update(){}resize(){this.innerHeight=window.innerHeight}scrollTop(e){if(void 0===e)return o("scrollTop",this.el);!function(e,t,r){"scrollTop"===e&&window.scrollTo(0,t)}("scrollTop",e,this.el)}contHeight(){return o("scrollHeight")}smoothScroll(e){(0,a.scrollToY)(e+this.scrollTop(),300)}getContainer(){return this.el}getScroller(){return null}scrollBottom(e){if(void 0===e)return this.contHeight()-this.scrollTop()-this.getScrollHeight();let t=this.contHeight()-e-this.getScrollHeight();this.scrollTop(t)}scrollBottomFixSave(e){let t=Date.now();const r=()=>{Date.now()-t<500&&this.scrollBottom(e),window.removeEventListener("scroll",r)};window.addEventListener("scroll",r),this.scrollBottom(e)}onScroll(e){let t=this.scrollTop(),r=t-this.prevScroll,i=this.contHeight();this.opts.onScroll&&this.opts.onScroll(-r,this),this.opts.scrollChange&&this.opts.scrollChange(t),this.opts.more&&i-t<2*this.innerHeight&&this.opts.more(this),this.prevScroll=t}getScrollHeight(){return this.innerHeight}destroy(){(0,i.destroyModule)(this.module)}constructor(e,t){this.el=e,this.opts=t,this.module=(0,i.createModule)({handlers:(e,t)=>{e(window,"scroll",this.onScroll.bind(this)),e(window,"resize",this.resize.bind(this))}}),this.innerHeight=window.innerHeight,this.prevScroll=this.scrollTop()}}class s{update(){this.scroll.update("sync")}scrollTop(e){return void 0!==e?this.scroll.scrollTop(e):this.scroll.data.scrollTop}getContainer(){return this.scroll.content}getScroller(){return this.scroll.scroller}contHeight(){return this.scroll.data.scrollHeight}smoothScroll(e){this.scroll.scrollTop(this.scrollTop()+e,300)}scrollBottom(e){return void 0!==e?this.scroll.scrollBottom(e):this.scroll.data.scrollBottom}scrollBottomFixSave(e){let t=Date.now();this.scroll.emitter.addOnceListener("resize",(()=>{Date.now()-t<500&&this.scroll&&this.scrollBottom(e)})),this.scrollBottom(e)}getScrollHeight(){return this.scroll.data.viewportHeight}destroy(){this.scroll.destroy()}constructor(e,t){this.prevTop=0,this.scroll=new uiScroll(e,{hidden:void 0===t.hidden||t.hidden,shadows:t.shadows,stopScrollPropagation:!1,theme:t.scrollTheme,onmore:()=>t.more&&t.more(this),onscroll:e=>{const r=this.scrollTop(),i=this.prevTop-r;this.prevTop=r,t.scrollChange&&t.scrollChange(r),t.onScroll&&t.onScroll(i,this)}})}}class c{update(){}getContainer(){return this.el}getScroller(){return null}scrollTop(e){return 0}contHeight(){return 0}smoothScroll(e){}scrollBottom(e){return 0}scrollBottomFixSave(e){}getScrollHeight(){return 0}destroy(){}constructor(e,t){this.el=e}}function l(e,t){return t.noScroll?new c(e):t.nativeScroll?new n(e,t):new s(e,t)}}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return n[e].call(r.exports,r,r.exports,c),r.exports}c.m=n,e=[],c.O=(t,r,i,a)=>{if(!r){var o=1/0;for(d=0;d<e.length;d++){for(var[r,i,a]=e[d],n=!0,s=0;s<r.length;s++)(!1&a||o>=a)&&Object.keys(c.O).every((e=>c.O[e](r[s])))?r.splice(s--,1):(n=!1,a<o&&(o=a));if(n){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,i,a]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var a=Object.create(null);c.r(a);var o={};t=t||[null,r({}),r([]),r(r)];for(var n=2&i&&e;"object"==typeof n&&!~t.indexOf(n);n=r(n))Object.getOwnPropertyNames(n).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,c.d(a,o),a},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,r)=>(c.f[r](e,t),t)),[])),c.u=e=>25394===e?"AudioLongtapModal.7e0dfcf5bfaeea74634a.js":24817===e?"hls.7bfefe299fa92971b99a.js":75980===e?"menu_settings.ef06223020efb2b6ec6b.js":79852===e?"37d152adcd0dd111ce505d394803d701.async.f06867e3cb1f30e8925c.js":96816===e?"web-audio-lyrics-modal.1a211e52d789ac7fac77.js":9375===e?"voice_message_player.f0c31b4a3dc08de145c9.js":28762===e?"speech.be0c329a1eff7c81577d.js":57468===e?"SilentModeForms.3d45c322ccf50af43298.js":28872===e?"feed-client-nav-skeleton.93951c516f1e3f2a55ad.js":35953===e?"feed-client-nav-async-right-block.98e503ddcd7a638e1b63.js":9202===e?"9202.be55f73a991e4eb41a2e.js":79118===e?e+".87b62f94f0e27cef52c4.js":void 0,c.miniCssF=e=>e+"."+{25394:"5e3e105ffae6ba5c38a9",57468:"a2979e7d82457c1ea9fc",75980:"5bbee2c9f3e189193a73"}[e]+".css",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},c.l=(e,t,r,a)=>{if(i[e])i[e].push(t);else{var o,n;if(void 0!==r)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var d=s[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")=="vk:"+r){o=d;break}}o||(n=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack","vk:"+r),o.src=e),i[e]=[t];var u=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var a=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(r))),t)return t(r)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),n&&document.head.appendChild(o)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",a=e=>new Promise(((t,r)=>{var i=c.miniCssF(e),a=c.p+i;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var a=(n=r[i]).getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(a===e||a===t))return n}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var n;if((a=(n=o[i]).getAttribute("data-href"))===e||a===t)return n}})(i,a))return t();((e,t,r,i)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=o=>{if(a.onerror=a.onload=null,"load"===o.type)r();else{var n=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=s,a.parentNode.removeChild(a),i(c)}},a.href=t,document.head.appendChild(a)})(e,a,t,r)})),o={65152:0},c.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{25394:1,57468:1,75980:1}[e]&&t.push(o[e]=a(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{c.b=document.baseURI||self.location.href;var e={65152:0};c.f.j=(t,r)=>{var i=c.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((r,a)=>i=e[t]=[r,a]));r.push(i[2]=a);var o=c.p+c.u(t),n=new Error;c.l(o,(r=>{if(c.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",n.name="ChunkLoadError",n.type=a,n.request=o,i[1](n)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[o,n,s]=r,l=0;if(o.some((t=>0!==e[t]))){for(i in n)c.o(n,i)&&(c.m[i]=n[i]);if(s)var d=s(c)}for(t&&t(r);l<o.length;l++)a=o[l],c.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return c.O(d)},r=self.webpackChunkvk=self.webpackChunkvk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=c.O(void 0,[75514,98066,56990,76400,24509,40885,76429,68592],(()=>c(85538)));l=c.O(l)})();