/*! For license information please see c2c69d9beb37d98912643aff437f899c.17d47f6bceeb53263178.js.LICENSE.txt */
(self.webpackChunkvk=self.webpackChunkvk||[]).push([[38004],{480365:(e,t,o)=>{"use strict";o.d(t,{IconLiveText20h:()=>r});var r=(0,o(28178).makeIcon)("IconLiveText20h","live_text_20h","0 0 42 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 42 20" id="live_text_20h"><path d="M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1Zm7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0V6Zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2h-4Zm-8.325 9.31-2.55-7.824a.993.993 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a.993.993 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69Z" /></symbol>',42,20,!1,void 0)},773974:(e,t,o)=>{"use strict";o.d(t,{Icon24VmojiOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24VmojiOutline","vmoji_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="vmoji_outline_24"><path d="M9.998 2.9a.9.9 0 0 1-.9.9A5.306 5.306 0 0 0 3.8 9.107.9.9 0 0 1 2 9.1C2.005 5.185 5.18 2 9.098 2a.9.9 0 0 1 .9.9ZM8.5 9.549a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm5.956.754c.872-.445 1.878-.445 2.764.308a.766.766 0 0 1 .063 1.125.88.88 0 0 1-1.192.06l-.085-.066c-.252-.177-.477-.163-.748-.025a.977.977 0 0 0-.149.09l-.083.063a.881.881 0 0 1-1.11-.122.766.766 0 0 1 .063-1.125c.106-.09.266-.2.477-.309Zm-.1 4.692c.1-.543-.354-.995-.906-.995h-2.9c-.552 0-1.006.451-.906.995.026.138.057.26.093.347a2.442 2.442 0 0 0 1.325 1.322c.298.123.616.188.938.188a2.457 2.457 0 0 0 2.264-1.51 1.84 1.84 0 0 0 .092-.347ZM2 14.901a.9.9 0 0 1 1.8-.008A5.306 5.306 0 0 0 9.098 20.2a.9.9 0 1 1 0 1.8C5.178 22 2.005 18.815 2 14.901ZM14.002 2.9a.9.9 0 0 0 .9.9A5.306 5.306 0 0 1 20.2 9.107a.9.9 0 0 0 .9.892.91.91 0 0 0 .9-.9C21.995 5.185 18.821 2 14.902 2a.9.9 0 0 0-.9.9ZM21.1 14.001a.9.9 0 0 0-.9.892 5.306 5.306 0 0 1-5.298 5.307.9.9 0 1 0 0 1.8c3.92 0 7.093-3.185 7.098-7.099 0-.49-.41-.9-.9-.9Z" /></symbol>',24,24,!1,void 0)},513698:(e,t,o)=>{"use strict";o.d(t,{Icon12Cancel:()=>r});var r=(0,o(28178).makeIcon)("Icon12Cancel","cancel_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="cancel_12"><path fill="currentColor" d="M3.525 2.464a.75.75 0 0 0-1.06 1.061L4.938 6 2.464 8.475a.75.75 0 1 0 1.061 1.06L6 7.062l2.475 2.475a.75.75 0 0 0 1.06-1.061L7.062 6l2.475-2.475a.75.75 0 1 0-1.061-1.06L6 4.938z" /></symbol>',12,12,!1,void 0)},347136:(e,t,o)=>{"use strict";o.d(t,{Icon12CheckCircleFill:()=>r});var r=(0,o(28178).makeIcon)("Icon12CheckCircleFill","check_circle_fill_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="check_circle_fill_12"><path fill="#99a2ad" d="M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12" /><path fill="#fff" fill-rule="evenodd" d="M8.78 3.97a.75.75 0 0 1 0 1.06L5.53 8.28a.75.75 0 0 1-1.06 0L3.22 7.03a.75.75 0 0 1 1.06-1.06l.72.72 2.72-2.72a.75.75 0 0 1 1.06 0z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},963419:(e,t,o)=>{"use strict";o.d(t,{Icon12ClockOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon12ClockOutline","clock_outline_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="clock_outline_12"><g fill="currentColor"><path d="M6.5 3.75a.75.75 0 0 0-1.5 0v3a.75.75 0 0 0 .568.728l2 .5a.75.75 0 0 0 .364-1.456L6.5 6.164z" /><path fill-rule="evenodd" d="M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0m-1.5 0a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0" clip-rule="evenodd" /></g></symbol>',12,12,!1,void 0)},583475:(e,t,o)=>{"use strict";o.d(t,{Icon12ErrorCircleFill:()=>r});var r=(0,o(28178).makeIcon)("Icon12ErrorCircleFill","error_circle_fill_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="error_circle_fill_12"><path fill="#E64646" fill-rule="evenodd" d="M6 12c-3.312 0-6-2.688-6-6s2.688-6 6-6 6 2.688 6 6-2.688 6-6 6" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M6 3a.75.75 0 0 0-.75.75v2.5a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 6 3m0 5a.75.75 0 1 0 0 1.5A.75.75 0 0 0 6 8" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},757342:(e,t,o)=>{"use strict";o.d(t,{Icon12Explicit:()=>r});var r=(0,o(28178).makeIcon)("Icon12Explicit","explicit_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="explicit_12"><path fill="currentColor" d="M8 9H5V4h3v1H6v1h2v1H6v1h2z" /><path fill="currentColor" fill-rule="evenodd" d="M1 3.5A2.5 2.5 0 0 1 3.5 1h6A2.5 2.5 0 0 1 12 3.5v6A2.5 2.5 0 0 1 9.5 12h-6A2.5 2.5 0 0 1 1 9.5zM3.5 2h6A1.5 1.5 0 0 1 11 3.5v6A1.5 1.5 0 0 1 9.5 11h-6A1.5 1.5 0 0 1 2 9.5v-6A1.5 1.5 0 0 1 3.5 2" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},736846:(e,t,o)=>{"use strict";o.d(t,{Icon12StarCircleFillYellow:()=>r});var r=(0,o(28178).makeIcon)("Icon12StarCircleFillYellow","star_circle_fill_yellow_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="star_circle_fill_yellow_12"><linearGradient id="star_circle_fill_yellow_12_a" x1="-6" x2="6" y1="6" y2="18" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffb73d" /><stop offset="1" stop-color="#ffa000" /></linearGradient><g fill-rule="evenodd" clip-rule="evenodd"><path fill="url(#star_circle_fill_yellow_12_a)" d="M6 0a6 6 0 1 1 0 12A6 6 0 0 1 6 0m.11 2.59a.25.25 0 0 0-.334.114l-.952 1.928-2.127.31a.25.25 0 0 0-.138.426l1.539 1.5-.364 2.119a.25.25 0 0 0 .363.263L6 8.25l1.903 1a.25.25 0 0 0 .363-.263l-.364-2.119 1.54-1.5a.25.25 0 0 0-.14-.427l-2.126-.309-.952-1.928a.25.25 0 0 0-.113-.113z" /><path fill="#fff" d="M6.11 2.59a.25.25 0 0 0-.334.114l-.952 1.928-2.127.31a.25.25 0 0 0-.138.426l1.539 1.5-.364 2.119a.25.25 0 0 0 .363.263L6 8.25l1.903 1a.25.25 0 0 0 .363-.263l-.364-2.119 1.54-1.5a.25.25 0 0 0-.14-.427l-2.126-.309-.952-1.928a.25.25 0 0 0-.113-.113z" /></g></symbol>',12,12,!1,void 0)},298161:(e,t,o)=>{"use strict";o.d(t,{Icon16CheckDoubleOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16CheckDoubleOutline","check_double_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="check_double_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M10.782 4.721a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 0 1-1.06 0l-2.502-2.5A.75.75 0 0 1 2.28 8.22l1.971 1.97 5.47-5.469a.75.75 0 0 1 1.06 0zm4.248 0a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06l6-6a.75.75 0 0 1 1.06 0" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},84562:(e,t,o)=>{"use strict";o.d(t,{Icon16CheckOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16CheckOutline","check_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="check_outline_16"><path fill-rule="evenodd" d="M12.782 4.721a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 0 1-1.06 0l-2.502-2.5A.75.75 0 0 1 4.28 8.22l1.971 1.97 5.47-5.469a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},74106:(e,t,o)=>{"use strict";o.d(t,{Icon16ChevronOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16ChevronOutline","chevron_outline_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06z" clip-rule="evenodd" /></symbol>',12,16,!1,void 0)},354819:(e,t,o)=>{"use strict";o.d(t,{Icon16Education:()=>r});var r=(0,o(28178).makeIcon)("Icon16Education","education_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="education_16"><path fill="currentColor" d="M14.495 5.078 8.467 1.625a.936.936 0 0 0-.934 0L1.505 5.078a.995.995 0 0 0-.385.402c-.258.492-.086 1.11.385 1.38l.995.567 5.002 2.874a1 1 0 0 0 .996 0l4.168-2.395 1.167-.668v2.996c0 .337.261.61.583.61a.597.597 0 0 0 .584-.61V5.968c0-.358-.183-.705-.505-.89Z" /><path fill="currentColor" d="M12.666 9.385 8.48 11.666a1 1 0 0 1-.958 0L3.333 9.382v1.055C3.334 12.713 5.448 14.5 8 14.5s4.667-1.787 4.667-4.063V9.385" /></symbol>',16,16,!1,void 0)},622451:(e,t,o)=>{"use strict";o.d(t,{Icon16HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16HelpOutline","help_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="help_outline_16"><path fill="currentColor" d="M7.972 9.598c.376 0 .583-.21.662-.572.07-.454.228-.686.932-1.102.747-.449 1.134-1.005 1.134-1.82 0-1.26-1.012-2.102-2.516-2.102-1.139 0-1.986.46-2.325 1.172-.106.206-.159.41-.159.643 0 .41.26.675.678.675.323 0 .561-.15.694-.497.17-.48.519-.74 1.038-.74.583 0 .985.368.985.897 0 .497-.206.767-.89 1.183-.625.373-.948.794-.948 1.432v.075c0 .443.265.756.715.756ZM8 2.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8m7.9 3.1a.9.9 0 0 1-.9.9.9.9 0 0 1-.9-.9.9.9 0 0 1 .9-.9.9.9 0 0 1 .9.9" /></symbol>',16,16,!1,void 0)},297973:(e,t,o)=>{"use strict";o.d(t,{Icon16InfoOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon16InfoOutline","info_outline_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="info_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m-7 4a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5A.75.75 0 0 1 8 12m-.9-7.1a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0Z" /></symbol>',16,16,!1,void 0)},277937:(e,t,o)=>{"use strict";o.d(t,{Icon16MessageCross:()=>r});var r=(0,o(28178).makeIcon)("Icon16MessageCross","message_cross_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16" id="message_cross_16"><path fill-rule="evenodd" d="M14.5 7.766C14.5 4.582 11.59 2 8 2S1.5 4.582 1.5 7.766c0 1.554.693 2.964 1.82 4-.11.646-.44 1.493-.994 2.54l-.126.235a.313.313 0 0 0 .117.42.294.294 0 0 0 .22.03c1.723-.443 2.954-1.002 3.692-1.675A7.28 7.28 0 0 0 8 13.531c3.59 0 6.5-2.581 6.5-5.766ZM5.721 5.372a.75.75 0 0 1 1.06 0L8 6.59l1.218-1.218a.75.75 0 0 1 1.06 1.06l-1.217 1.22 1.218 1.217a.75.75 0 0 1-1.06 1.061L8 8.712 6.782 9.93a.75.75 0 1 1-1.06-1.06l1.216-1.22-1.217-1.217a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" /></symbol>',16,16,!1,void 0)},780835:(e,t,o)=>{"use strict";o.d(t,{Icon16Replay:()=>r});var r=(0,o(28178).makeIcon)("Icon16Replay","replay_16","0 0 16 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" id="replay_16"><path fill="currentColor" d="M8 2.75v1.195a.245.245 0 0 1-.373.209l-3.01-1.85a.245.245 0 0 1 0-.418l3.01-1.85A.245.245 0 0 1 8 .245V1.25a6.75 6.75 0 1 1-6.688 7.67.75.75 0 0 1 1.486-.203A5.251 5.251 0 1 0 8 2.75" /></symbol>',16,16,!1,void 0)},129041:(e,t,o)=>{"use strict";o.d(t,{Icon20BrushOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20BrushOutline","brush_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="brush_outline_20"><path fill-rule="evenodd" d="M6.667 12.493c-1.006 0-1.77.77-1.814 1.726-.064 1.352-.707 2.16-1.285 2.65.528.155 1.268.213 2.226-.072 1.903-.567 2.687-1.724 2.687-2.613 0-.897-.775-1.69-1.814-1.69ZM3.36 14.148a3.295 3.295 0 0 1 3.308-3.156c1.791 0 3.31 1.392 3.31 3.192 0 1.806-1.499 3.38-3.758 4.052-2.157.642-3.64-.025-4.348-.548a.921.921 0 0 1-.293-.353.839.839 0 0 1-.036-.614c.15-.46.637-.658.987-.938.382-.305.789-.761.83-1.635ZM15.702 2.001a1.608 1.608 0 0 1 2.261-.07 1.69 1.69 0 0 1 .17 2.287l-6.08 7.498a.746.746 0 0 1-1.052.108.753.753 0 0 1-.108-1.056l6.074-7.491a.185.185 0 0 0-.017-.242c-.067-.061-.133-.026-.202.04L9.745 9.783a.746.746 0 0 1-1.057-.025.753.753 0 0 1 .025-1.061L15.702 2Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},29157:(e,t,o)=>{"use strict";o.d(t,{Icon20CheckCircleOff:()=>r});var r=(0,o(28178).makeIcon)("Icon20CheckCircleOff","check_circle_off_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" viewBox="0 0 20 20" id="check_circle_off_20"><defs><path id="check_circle_off_20_a" fill="currentColor" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m0-1a9 9 0 1 0 0-18 9 9 0 0 0 0 18" clip-rule="evenodd" /></defs><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /><use xlink:href="#check_circle_off_20_a" fill-rule="evenodd" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},277659:(e,t,o)=>{"use strict";o.d(t,{Icon20DeleteOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20DeleteOutline","delete_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="delete_outline_20"><path fill-rule="evenodd" d="M6.837 4H2.75a.75.75 0 0 0 0 1.5h.545l.907 9.248c.051.523.094.96.157 1.314.066.37.163.711.353 1.028a2.9 2.9 0 0 0 1.247 1.131c.334.158.682.222 1.058.25.36.029.797.029 1.323.029h3.32c.526 0 .964 0 1.323-.028.376-.03.724-.093 1.058-.25a2.9 2.9 0 0 0 1.247-1.132c.19-.317.287-.657.353-1.028.063-.355.106-.79.157-1.314l.907-9.248h.545a.75.75 0 0 0 0-1.5h-4.087a3.25 3.25 0 0 0-6.326 0Zm1.581 0h3.164a1.751 1.751 0 0 0-3.164 0m6.78 1.5H4.802l.89 9.072c.054.56.091.938.143 1.228.05.281.104.422.162.52a1.4 1.4 0 0 0 .603.546c.102.048.248.088.533.11.294.024.673.024 1.235.024h3.262c.562 0 .941 0 1.235-.023.285-.023.43-.063.533-.111a1.4 1.4 0 0 0 .603-.547c.058-.097.112-.238.162-.52.052-.29.09-.667.144-1.226l.89-9.073Zm-2.886 2.002a.75.75 0 0 1 .685.81l-.5 6.003a.75.75 0 0 1-1.494-.124l.5-6.003a.75.75 0 0 1 .81-.686Zm-4.624 0a.75.75 0 0 1 .81.686l.5 6.002a.75.75 0 0 1-1.495.125l-.5-6.003a.75.75 0 0 1 .685-.81Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},587109:(e,t,o)=>{"use strict";o.d(t,{Icon20Favorite:()=>r});var r=(0,o(28178).makeIcon)("Icon20Favorite","favorite_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="favorite_20"><path fill="currentColor" d="m7.281 4.986-.525 1.212c-.036.085-.055.127-.083.16a.281.281 0 0 1-.09.07.617.617 0 0 1-.176.037l-.75.106c-2.15.305-3.224.457-3.676.96a1.865 1.865 0 0 0-.44 1.611c.133.664.981 1.344 2.676 2.704l.274.22a.627.627 0 0 1 .14.13.282.282 0 0 1 .042.114c.007.046-.003.095-.02.192l-.085.445c-.474 2.503-.71 3.755-.339 4.366a1.855 1.855 0 0 0 1.505.89c.714.031 1.692-.782 3.647-2.408l.337-.28c.102-.086.153-.128.21-.144a.28.28 0 0 1 .154 0c.057.016.108.058.21.143l.337.28c1.955 1.627 2.932 2.44 3.646 2.41a1.855 1.855 0 0 0 1.505-.89c.373-.612.136-1.864-.338-4.366l-.084-.446c-.019-.097-.028-.146-.022-.192a.282.282 0 0 1 .042-.113.625.625 0 0 1 .14-.132l.274-.22c1.696-1.359 2.543-2.038 2.676-2.703a1.865 1.865 0 0 0-.44-1.61c-.45-.504-1.526-.656-3.675-.96l-.75-.107c-.09-.013-.136-.019-.176-.038a.28.28 0 0 1-.09-.07c-.029-.032-.047-.074-.084-.159l-.524-1.212c-.86-1.988-1.29-2.981-1.893-3.284a1.851 1.851 0 0 0-1.663 0c-.602.303-1.032 1.296-1.892 3.284Z" /></symbol>',20,20,!1,void 0)},784118:(e,t,o)=>{"use strict";o.d(t,{Icon20GearOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20GearOutline","gear_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="gear_outline_20"><path fill-rule="evenodd" d="m7.222 3.378.01-.033a4.147 4.147 0 0 1 .17-.476c.358-.821.944-1.285 1.854-1.36l.166-.009h1.208c1.051.033 1.735.608 2.095 1.692l.057.186.044.166c.016.064.037.132.06.203l.05.137.03.015.06-.02.116-.044.135-.059a5.36 5.36 0 0 1 .168-.074l.036-.015a4.23 4.23 0 0 1 .424-.15c.932-.27 1.685-.075 2.32.618l.108.125.714.88c.636.833.617 1.723-.004 2.683l-.109.161-.102.139c-.04.054-.082.113-.123.177l-.062.1-.029.05.004.017.08.052.11.066.133.072c1.209.614 1.707 1.42 1.515 2.541l-.032.162-.213.916c-.137.593-.245.873-.67 1.258a2.135 2.135 0 0 1-1.059.518l-.01.003a3.917 3.917 0 0 1-.438.059l-.191.012-.173.006-.052.001h-.006c-.05.002-.102.006-.156.01l-.158.02.012.123.011.083.029.154c.068.322.101.618.098.89v.012c-.015.84-.38 1.45-1.132 1.87l-.147.076-1.023.494c-.901.403-1.722.234-2.484-.467a3.934 3.934 0 0 1-.144-.14l-.133-.142-.113-.13a2.938 2.938 0 0 0-.147-.161l-.085-.083-.043-.04-.08.076-.091.093-.103.115c-.828.981-1.703 1.334-2.763.923l-.153-.063-.915-.443-.271-.138c-.415-.225-.647-.44-.874-.918a2.153 2.153 0 0 1-.209-1.01v-.016c.006-.19.03-.388.07-.603l.038-.195.001-.004c.014-.064.025-.133.035-.206l.016-.148-.003-.003-.09-.012-.128-.012-.151-.006a4.145 4.145 0 0 1-.862-.098l-.012-.003c-.837-.198-1.363-.69-1.608-1.524l-.043-.16-.254-1.102c-.204-1.026.205-1.818 1.186-2.41l.17-.098.152-.08c.06-.03.123-.065.188-.105l.134-.087.004-.017-.055-.093-.07-.108-.089-.124a5.194 5.194 0 0 1-.286-.423c-.54-.905-.534-1.72.046-2.523l.1-.132.717-.877c.687-.792 1.566-.958 2.64-.554l.18.072.158.07a2.9 2.9 0 0 0 .193.08l.118.042.032-.014.029-.077.04-.12.04-.143c.013-.056.028-.112.044-.166Zm4.24.841.013.038.05.138a1.5 1.5 0 0 0 .743.833l.03.014a1.5 1.5 0 0 0 1.136.082l.06-.02a1.47 1.47 0 0 0 .065-.023l.117-.044.062-.025.135-.059.035-.015a2.698 2.698 0 0 1 .415-.16c.268-.078.407-.06.47-.043.057.015.16.056.314.22l.077.09.682.84c.138.185.15.295.15.359 0 .084-.03.267-.225.573l-.082.122-.08.108a4.406 4.406 0 0 0-.18.26l-.014.022-.062.099-.008.013-.01.018-.03.05a1.5 1.5 0 0 0-.178 1.056l.004.017a1.5 1.5 0 0 0 .648.959l.08.052.05.032.11.066.06.034.133.072.034.018c.456.231.62.421.676.516.036.06.084.162.042.417l-.023.117-.207.892c-.066.285-.095.35-.105.369 0 0 0 .003-.01.013a.974.974 0 0 1-.101.103c-.082.074-.166.124-.354.161a2.357 2.357 0 0 1-.257.035l-.153.01-.138.004-.071.002a4.554 4.554 0 0 0-.28.02l-.158.019a1.5 1.5 0 0 0-1.318 1.628l.011.123.008.07.012.083.01.06.028.154.008.045c.05.236.068.419.066.557-.003.206-.046.301-.073.348-.028.046-.094.131-.276.235l-.105.056-.977.471c-.204.088-.317.082-.382.07-.076-.015-.228-.068-.456-.279a2.382 2.382 0 0 1-.08-.076l-.1-.107-.088-.102a4.389 4.389 0 0 0-.217-.236l-.018-.018-.084-.082a1.433 1.433 0 0 0-.036-.034l-.043-.04a1.5 1.5 0 0 0-2.047.014l-.08.075a1.43 1.43 0 0 0-.042.041l-.09.094a1.534 1.534 0 0 0-.048.05l-.103.116-.025.03c-.315.371-.532.495-.646.535-.073.025-.183.05-.415-.038l-.094-.039-.864-.418-.238-.12a1.186 1.186 0 0 1-.13-.083l-.004-.003-.003-.003a1.077 1.077 0 0 1-.083-.147.666.666 0 0 1-.063-.34c.003-.09.015-.207.043-.365l.035-.174a4.384 4.384 0 0 0 .058-.35l.016-.149a1.5 1.5 0 0 0-.434-1.224l-.004-.003a1.5 1.5 0 0 0-.86-.423l-.09-.012a1.405 1.405 0 0 0-.064-.008l-.128-.01a1.539 1.539 0 0 0-.068-.005l-.15-.007-.04-.001a2.663 2.663 0 0 1-.549-.06c-.215-.05-.305-.115-.346-.154-.04-.038-.109-.12-.17-.319l-.03-.114-.242-1.052c-.042-.224-.006-.329.023-.387.038-.076.146-.23.459-.42l.128-.074.119-.063a4.431 4.431 0 0 0 .316-.179l.134-.087a1.5 1.5 0 0 0 .65-.947l.004-.017a1.5 1.5 0 0 0-.171-1.066l-.055-.093a1.49 1.49 0 0 0-.037-.062l-.07-.108a1.496 1.496 0 0 0-.04-.057l-.088-.124a1.516 1.516 0 0 0-.024-.031c-.307-.406-.369-.647-.378-.754-.006-.067-.004-.18.148-.395l.072-.094.684-.838c.154-.173.262-.211.33-.225.09-.018.28-.027.623.1l.138.055.123.055a4.42 4.42 0 0 0 .316.13l.118.042a1.5 1.5 0 0 0 1.134-.058l.031-.015a1.5 1.5 0 0 0 .764-.823l.03-.077.023-.066.04-.12.02-.065.04-.143.01-.037.03-.119c.037-.128.076-.235.114-.323.1-.23.192-.319.243-.357.044-.033.134-.086.343-.105l.1-.006h1.14c.234.01.333.071.386.114.067.056.192.195.308.538l.043.14.034.129c.026.1.056.2.088.298ZM10 11.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m0 1.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},136161:(e,t,o)=>{"use strict";o.d(t,{Icon20GiftOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20GiftOutline","gift_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="gift_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14.846 2.314c1.026 1.026 1.23 2.875-.257 4.186h.911a3 3 0 0 1 3 3v.49c0 .827-.093 1.16-.267 1.487-.174.326-.43.582-.756.756a1.88 1.88 0 0 1-.477.182v1.618c0 1.56-.162 2.126-.467 2.696a3.18 3.18 0 0 1-1.324 1.324l-.202.101c-.48.224-1.037.349-2.229.364l-5.291.002c-1.56 0-2.126-.162-2.696-.467a3.18 3.18 0 0 1-1.324-1.324l-.101-.202c-.224-.48-.349-1.037-.364-2.229L3 12.415a1.88 1.88 0 0 1-.477-.182 1.817 1.817 0 0 1-.756-.756c-.16-.299-.251-.605-.265-1.29L1.5 9.5a3 3 0 0 1 3-3h.911c-1.487-1.31-1.283-3.16-.257-4.186C6.369 1.099 8.738 1.038 10 3.569c1.262-2.531 3.631-2.47 4.846-1.255M9.25 12.499 4.5 12.5l.001 1.762.009.399c.021.604.083.924.202 1.2l.078.161c.165.309.399.543.708.708l.162.078c.33.143.724.203 1.598.211l1.991-.001zm6.251.001-4.751-.001v4.519l1.993.001.399-.009c.604-.021.924-.083 1.2-.202l.161-.078a1.68 1.68 0 0 0 .708-.708c.186-.348.267-.688.286-1.551l.004-.438zM9.159 7.999 4.5 8A1.5 1.5 0 0 0 3 9.5v.638l.007.232c.012.227.037.315.083.4a.319.319 0 0 0 .14.14c.11.059.223.085.632.09l5.387-.001.002-3L9.16 8zM15.5 8l-4.661-.001h-.09v3h5.39c.408-.004.521-.03.63-.089a.319.319 0 0 0 .141-.14c.065-.122.09-.248.09-.78V9.5A1.5 1.5 0 0 0 15.5 8M9.223 6.159c-.43-3.101-1.96-3.834-3.009-2.785C5.165 4.424 5.898 5.952 9 6.384l.257.032Zm1.554 0-.024.191.007.062.241-.029c3.101-.43 3.834-1.96 2.785-3.009-1.05-1.049-2.578-.316-3.01 2.785" /></g></symbol>',20,20,!1,void 0)},495906:(e,t,o)=>{"use strict";o.d(t,{Icon20HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20HelpOutline","help_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="help_outline_20"><g fill="currentColor"><path d="M10 6.25a1.25 1.25 0 0 0-1.21.937.75.75 0 0 1-1.453-.374 2.75 2.75 0 0 1 5.413.687c0 1.211-.654 1.84-1.144 2.298l-.009.008c-.478.446-.772.72-.855 1.3a.75.75 0 0 1-1.484-.212c.158-1.11.803-1.709 1.256-2.13l.068-.062c.447-.417.668-.663.668-1.202 0-.69-.56-1.25-1.25-1.25zM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2" /><path fill-rule="evenodd" d="M10 1.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17M3 10a7 7 0 1 0 14 0 7 7 0 0 0-14 0" clip-rule="evenodd" /></g></symbol>',20,20,!1,void 0)},29870:(e,t,o)=>{"use strict";o.d(t,{Icon20LogoClipsOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20LogoClipsOutline","logo_clips_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="logo_clips_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M7.194 1.502a.85.85 0 0 1 .904.792l.25 3.8a.85.85 0 0 1-1.697.112l-.25-3.8a.85.85 0 0 1 .793-.904Zm5.893.181a.85.85 0 0 1 .58 1.053l-1.35 4.651a.85.85 0 0 1-1.633-.474l1.35-4.65a.85.85 0 0 1 1.053-.58Zm.589 7.08a.75.75 0 0 1 1.057-.082c1.48 1.268 1.767 2.88 1.767 4.07 0 2.678-2.309 5.75-6.5 5.75-3.118 0-6.504-2.219-6.504-5.75 0-.677.218-1.588.776-2.349C4.854 9.61 5.796 9 7.142 9c.387 0 1.892.13 2.784 1.915a.75.75 0 1 1-1.341.67C8.048 10.513 7.232 10.5 7.143 10.5c-.833 0-1.34.352-1.662.79a2.623 2.623 0 0 0-.485 1.462c0 2.425 2.407 4.25 5.004 4.25 3.36 0 5-2.4 5-4.25 0-.953-.223-2.058-1.243-2.932a.75.75 0 0 1-.081-1.058" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},377250:(e,t,o)=>{"use strict";o.d(t,{Icon20MessageArrowRightOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20MessageArrowRightOutline","message_arrow_right_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="message_arrow_right_outline_20"><path d="M10.25 2.5c-2.938 0-5.576 1.391-7.044 3.572a.749.749 0 1 0 1.244.836c1.171-1.738 3.327-2.91 5.8-2.91 3.775 0 6.75 2.694 6.75 5.995s-2.975 5.995-6.75 5.995c-.91 0-1.788-.156-2.6-.455a.75.75 0 0 0-.822.207c-.609.687-1.64 1.105-3.123 1.22.682-1.347 1.045-2.376 1.084-3.13a.749.749 0 0 0-.15-.49 5.768 5.768 0 0 1-.67-1.137.75.75 0 0 0-1.372.607c.183.412.405.808.665 1.183-.082.457-.338 1.189-.896 2.292l-.24.475a1.2 1.2 0 0 0 1.164 1.736l.532-.041c1.472-.115 2.804-.51 3.768-1.361.85.26 1.745.392 2.66.392 4.435 0 8.25-3.206 8.25-7.493 0-4.287-3.815-7.493-8.25-7.493m-.971 3.97a.75.75 0 0 0-1.06 1.06l1.219 1.22H2.75a.75.75 0 1 0 0 1.5h6.688l-1.22 1.22a.75.75 0 1 0 1.06 1.06l2.5-2.5a.75.75 0 0 0 0-1.06l-2.5-2.5Z" /></symbol>',20,20,!1,void 0)},385228:(e,t,o)=>{"use strict";o.d(t,{Icon20More:()=>r});var r=(0,o(28178).makeIcon)("Icon20More","more_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="more_20"><path fill="currentColor" d="M15 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3" /></symbol>',20,20,!1,void 0)},205461:(e,t,o)=>{"use strict";o.d(t,{Icon20PauseCircle:()=>r});var r=(0,o(28178).makeIcon)("Icon20PauseCircle","pause_circle_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="pause_circle_20"><path fill="currentColor" fill-rule="evenodd" d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0s10 4.477 10 10M6 7.5c0-.466 0-.699.076-.883a1 1 0 0 1 .541-.54C6.801 6 7.034 6 7.5 6s.699 0 .883.076a1 1 0 0 1 .54.541C9 6.801 9 7.034 9 7.5v5c0 .466 0 .699-.076.883a1 1 0 0 1-.541.54C8.199 14 7.966 14 7.5 14s-.699 0-.883-.076a1 1 0 0 1-.54-.541C6 13.199 6 12.966 6 12.5zm5.076-.883C11 6.801 11 7.034 11 7.5v5c0 .466 0 .699.076.883a1 1 0 0 0 .541.54c.184.077.417.077.883.077s.699 0 .883-.076a1 1 0 0 0 .54-.541c.077-.184.077-.417.077-.883v-5c0-.466 0-.699-.076-.883a1 1 0 0 0-.541-.54C13.199 6 12.966 6 12.5 6s-.699 0-.883.076a1 1 0 0 0-.54.541" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},249600:(e,t,o)=>{"use strict";o.d(t,{Icon20PictureOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20PictureOutline","picture_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="picture_outline_20"><path fill="currentColor" fill-rule="evenodd" d="M6.838 16.437c.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.318a3.5 3.5 0 0 0 1.53-1.53c.146-.288.257-.686.318-1.427.016-.194.027-.402.036-.628l-.003-.004-1.303-1.303a12.742 12.742 0 0 0-.666-.64c-.156-.133-.23-.166-.27-.179a.75.75 0 0 0-.463 0c-.04.013-.113.046-.269.179-.162.138-.36.335-.666.64L10.53 13.53a.75.75 0 0 1-1.06 0l-.303-.303a12.75 12.75 0 0 0-.666-.64c-.156-.133-.23-.166-.27-.179a.75.75 0 0 0-.463 0c-.04.013-.113.046-.269.179-.162.138-.36.335-.666.64l-2.277 2.278c.25.245.539.452.855.614.288.146.686.257 1.427.318zm9.39-6.27.272.272V10c0-1.425-.001-2.403-.063-3.162-.06-.74-.172-1.139-.318-1.427a3.5 3.5 0 0 0-1.53-1.53c-.288-.146-.686-.257-1.427-.318C12.403 3.501 11.425 3.5 10 3.5c-1.425 0-2.403.001-3.162.063-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427C3.501 7.597 3.5 8.575 3.5 10c0 1.425.001 2.403.063 3.162.038.463.096.793.17 1.045l2.04-2.04.02-.02c.28-.28.52-.521.736-.704.226-.192.473-.363.776-.462a2.25 2.25 0 0 1 1.39 0c.303.099.55.27.776.462.16.136.335.304.529.497l1.773-1.773.02-.02c.28-.28.52-.521.736-.704.226-.192.473-.363.776-.462a2.25 2.25 0 0 1 1.39 0c.303.099.55.27.776.462.215.183.456.424.736.703zM2.544 4.73C2 5.8 2 7.2 2 10c0 2.8 0 4.2.545 5.27a5 5 0 0 0 2.185 2.185C5.8 18 7.2 18 10 18c2.8 0 4.2 0 5.27-.545a5 5 0 0 0 2.185-2.185C18 14.2 18 12.8 18 10c0-2.8 0-4.2-.545-5.27a5 5 0 0 0-2.185-2.185C14.2 2 12.8 2 10 2c-2.8 0-4.2 0-5.27.545A5 5 0 0 0 2.545 4.73zM7.25 6a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},579643:(e,t,o)=>{"use strict";o.d(t,{Icon20PlayCircle:()=>r});var r=(0,o(28178).makeIcon)("Icon20PlayCircle","play_circle_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="play_circle_20"><path fill="currentColor" fill-rule="evenodd" d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10m4.733-10.446L7.8 5.694a.548.548 0 0 0-.266-.069A.524.524 0 0 0 7 6.14v7.72c0 .09.025.18.071.257.147.247.473.331.728.19l6.934-3.861a.505.505 0 0 0 0-.892z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},17117:(e,t,o)=>{"use strict";o.d(t,{Icon20ReportOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20ReportOutline","report_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="report_outline_20"><path d="M10.001 5.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75m-.9 8.4a.9.9 0 1 1 1.8 0 .9.9 0 0 1-1.8 0" /><path fill-rule="evenodd" d="m17.326 14.814-2.514 2.514c-.432.433-.648.649-.9.803a2.502 2.502 0 0 1-.723.3c-.288.069-.594.069-1.205.069h-3.97c-.612 0-.918 0-1.206-.07a2.502 2.502 0 0 1-.723-.299c-.252-.154-.468-.37-.9-.803L2.67 14.814c-.432-.432-.648-.648-.802-.9a2.5 2.5 0 0 1-.3-.723c-.068-.288-.068-.593-.069-1.204V8.014c0-.611 0-.917.069-1.205a2.5 2.5 0 0 1 .3-.723c.154-.252.37-.468.803-.9L5.186 2.67c.432-.432.649-.648.9-.803a2.5 2.5 0 0 1 .723-.299c.288-.069.594-.069 1.205-.069h3.97c.611 0 .917 0 1.205.07a2.5 2.5 0 0 1 .723.298c.252.155.468.371.9.804l2.514 2.514c.432.432.648.648.803.9.137.224.238.468.3.723.068.288.068.593.068 1.205v3.972c0 .611 0 .917-.069 1.205a2.497 2.497 0 0 1-.299.723c-.155.252-.37.468-.803.9Zm-.474-1.706c-.062.101-.149.188-.321.36l-3.063 3.063c-.173.173-.26.26-.36.322a.998.998 0 0 1-.29.12c-.115.027-.237.027-.482.027H7.662c-.245 0-.367 0-.482-.028a1.001 1.001 0 0 1-.29-.12c-.1-.061-.186-.148-.36-.32l-3.06-3.065c-.173-.172-.26-.259-.321-.36a1 1 0 0 1-.12-.289C3 12.704 3 12.582 3 12.338V7.663c0-.245 0-.367.027-.482a1 1 0 0 1 .12-.29c.062-.1.148-.187.321-.36l3.064-3.063c.173-.172.26-.259.36-.32a1 1 0 0 1 .29-.12C7.295 3 7.418 3 7.662 3h4.673c.245 0 .367 0 .482.028a1 1 0 0 1 .29.12c.1.061.187.148.36.32l3.063 3.063c.172.173.259.26.32.36.056.09.096.188.12.29.028.115.028.237.028.482v4.674c0 .245 0 .367-.027.482a.998.998 0 0 1-.12.29Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},800697:(e,t,o)=>{"use strict";o.d(t,{Icon20SongOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon20SongOutline","song_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="song_outline_20"><path fill-rule="evenodd" d="M15.235 1.678a.75.75 0 0 0-.606-.168 25.527 25.527 0 0 0-1.367.269c-.758.168-1.736.419-2.5.734-1.295.535-1.513 1.898-1.514 2.834l-.001 1.152a3094.12 3094.12 0 0 0-.001 6.026c-1.979.132-3.363.793-4.121 1.743-.87 1.09-.83 2.499.087 3.416.877.876 2.3 1.071 3.474.466 1.22-.629 2.064-2.035 2.064-4.15l-.003-1-.001-.526-.001-1.681c0-1.14 0-2.504.002-3.715l2.559-.676c.99-.262 1.913-1.027 2.067-2.2a16.6 16.6 0 0 0 .127-1.905.787.787 0 0 0-.265-.619Zm-4.487 3.848 2.175-.575c.562-.148.908-.524.963-.943.038-.29.063-.583.08-.846-.119.024-.246.052-.378.081-.742.165-1.615.393-2.253.656-.367.152-.586.587-.587 1.449v.178ZM9.25 14.028c-1.65.128-2.551.672-2.953 1.176-.44.551-.35 1.093-.025 1.419.382.381 1.088.523 1.727.193.591-.304 1.244-1.096 1.25-2.788Z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},77199:(e,t,o)=>{"use strict";o.d(t,{Icon20Stars:()=>r});var r=(0,o(28178).makeIcon)("Icon20Stars","stars_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="stars_20"><path fill-rule="evenodd" d="M12.004 8.13c-.368.835-.857 1.717-1.507 2.367-.65.65-1.532 1.14-2.367 1.507.835.367 1.717.857 2.367 1.507.65.65 1.14 1.532 1.507 2.367.367-.835.857-1.717 1.507-2.367.65-.65 1.532-1.14 2.367-1.507-.835-.368-1.717-.857-2.367-1.507-.65-.65-1.14-1.532-1.507-2.367Zm-.785-2.178c-.421 1.317-1.014 2.716-1.782 3.485-.769.768-2.168 1.36-3.485 1.782a21.073 21.073 0 0 1-1.162.338c-.38.1-.38.793 0 .894a27.146 27.146 0 0 1 .912.26c.083.025.166.05.25.078 1.317.421 2.716 1.014 3.485 1.782.768.768 1.36 2.168 1.782 3.485a20.843 20.843 0 0 1 .27.907l.068.255c.1.38.793.38.894 0a27.487 27.487 0 0 1 .26-.912c.025-.083.05-.166.078-.25.421-1.317 1.014-2.717 1.782-3.485.768-.768 2.168-1.36 3.485-1.782a20.843 20.843 0 0 1 .907-.27l.255-.068c.38-.1.38-.793 0-.894a27.487 27.487 0 0 1-.912-.26 20.843 20.843 0 0 1-.25-.078c-1.317-.421-2.717-1.014-3.485-1.782-.768-.769-1.36-2.168-1.782-3.485a21.13 21.13 0 0 1-.338-1.162c-.1-.38-.793-.38-.894 0a27.146 27.146 0 0 1-.26.912 21.13 21.13 0 0 1-.078.25ZM4.365.763a.385.385 0 0 0-.73 0l-.414 1.24a1.926 1.926 0 0 1-1.218 1.218l-1.24.414a.385.385 0 0 0 0 .73l1.24.414a1.926 1.926 0 0 1 1.218 1.218l.414 1.24a.385.385 0 0 0 .73 0l.414-1.24a1.926 1.926 0 0 1 1.218-1.218l1.24-.414a.385.385 0 0 0 0-.73l-1.24-.414a1.926 1.926 0 0 1-1.218-1.218L4.365.763" /></symbol>',20,20,!1,void 0)},949780:(e,t,o)=>{"use strict";o.d(t,{Icon2418CircleOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon2418CircleOutline","18_circle_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="18_circle_outline_24"><path fill-rule="evenodd" d="M12 2.1c5.467 0 9.9 4.433 9.9 9.9 0 5.467-4.433 9.9-9.9 9.9-5.467 0-9.9-4.433-9.9-9.9 0-5.467 4.433-9.9 9.9-9.9Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9" clip-rule="evenodd" /><path d="M9.137 15.998c.585 0 .977-.382.977-.973V9.101C10.114 8.424 9.701 8 8.992 8c-.387 0-.72.043-1.134.322l-1.466 1c-.28.193-.392.413-.392.698 0 .397.285.682.666.682.188 0 .306-.043.483-.167l.967-.671h.038v5.161c0 .591.397.973.983.973Zm5.11.002c1.921 0 3.253-.908 3.253-2.25 0-1.03-.774-1.753-1.842-1.938v-.036c.92-.206 1.563-.866 1.563-1.695 0-1.21-1.21-2.081-2.974-2.081-1.758 0-2.973.871-2.973 2.075 0 .845.647 1.495 1.573 1.7v.037c-1.068.185-1.847.904-1.847 1.933C11 15.092 12.321 16 14.247 16m0-4.774c-.62 0-1.063-.39-1.063-.95 0-.565.448-.95 1.063-.95.621 0 1.074.385 1.074.95 0 .56-.447.95-1.074.95m0 3.443c-.72 0-1.22-.449-1.22-1.066 0-.608.5-1.046 1.22-1.046.727 0 1.227.438 1.227 1.046 0 .617-.5 1.066-1.227 1.066" /></symbol>',24,24,!1,void 0)},407729:(e,t,o)=>{"use strict";o.d(t,{Icon24Add:()=>r});var r=(0,o(28178).makeIcon)("Icon24Add","add_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="add_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M13 11h6.5a1 1 0 0 1 0 2H13v6.5a1 1 0 0 1-2 0V13H4.5a1 1 0 0 1 0-2H11V4.5a1 1 0 0 1 2 0V11" /></g></symbol>',24,24,!1,void 0)},88493:(e,t,o)=>{"use strict";o.d(t,{Icon24BlockOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24BlockOutline","block_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="block_outline_24"><path fill-rule="evenodd" d="M2.1 12c0-5.468 4.432-9.9 9.9-9.9s9.9 4.432 9.9 9.9-4.432 9.9-9.9 9.9-9.9-4.432-9.9-9.9ZM12 3.9a8.1 8.1 0 0 1 6.329 13.156L6.944 5.67A8.066 8.066 0 0 1 12 3.9ZM3.9 12a8.1 8.1 0 0 0 13.156 6.329L5.67 6.944A8.066 8.066 0 0 0 3.9 12Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},359251:(e,t,o)=>{"use strict";o.d(t,{Icon24BookmarkOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24BookmarkOutline","bookmark_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="bookmark_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M11.083 3h1.834c1.056 0 1.903 0 2.588.056.704.057 1.316.179 1.88.466a4.789 4.789 0 0 1 2.093 2.093c.287.564.408 1.176.466 1.88C20 8.18 20 9.027 20 10.083v7.615c0 .773 0 1.414-.045 1.914-.045.494-.145 1.026-.482 1.454a2.456 2.456 0 0 1-1.896.935c-.544.007-1.027-.238-1.447-.503-.424-.268-.933-.658-1.546-1.128l-1.617-1.24c-.607-.466-.714-.526-.797-.549a.657.657 0 0 0-.34 0c-.083.022-.19.083-.797.549l-1.617 1.24c-.613.47-1.123.86-1.546 1.128-.42.265-.903.51-1.447.503a2.456 2.456 0 0 1-1.896-.936c-.337-.427-.437-.96-.482-1.453C4 19.112 4 18.47 4 17.698v-7.615c0-1.056 0-1.903.056-2.588.057-.704.179-1.316.466-1.88a4.789 4.789 0 0 1 2.093-2.093c.564-.287 1.176-.409 1.88-.466C9.18 3 10.027 3 11.083 3zM8.641 4.85c-.593.048-.941.14-1.209.276a2.989 2.989 0 0 0-1.306 1.306c-.137.268-.228.616-.276 1.21-.05.603-.05 1.376-.05 2.48v7.532c0 .828 0 1.387.038 1.794.038.414.103.503.103.503a.655.655 0 0 0 .506.25s.11-.003.461-.225c.346-.218.79-.558 1.448-1.062l1.582-1.213.1-.077c.44-.338.85-.654 1.327-.782a2.454 2.454 0 0 1 1.27 0c.478.128.888.444 1.326.782l.101.077 1.582 1.213c.658.504 1.102.844 1.448 1.062.351.222.461.225.461.225a.655.655 0 0 0 .506-.25s.065-.089.103-.503c.037-.407.038-.966.038-1.794v-7.532c0-1.104 0-1.877-.05-2.48-.048-.594-.14-.942-.276-1.21a2.989 2.989 0 0 0-1.306-1.306c-.268-.137-.617-.228-1.21-.276-.603-.05-1.376-.05-2.48-.05h-1.756c-1.104 0-1.877 0-2.48.05z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},680237:(e,t,o)=>{"use strict";o.d(t,{Icon24BooksOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24BooksOutline","books_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="books_outline_24"><path fill-rule="evenodd" d="M17.4 3.9H9.8c-.855 0-1.442 0-1.897.038-.445.036-.684.103-.856.19a2.1 2.1 0 0 0-.918.919c-.088.172-.155.411-.191.856C5.9 6.358 5.9 6.945 5.9 7.8v8.516c.34-.14.71-.216 1.1-.216h11.1V4.6c0-.6-.1-.7-.7-.7ZM4.1 7.762c0-.808 0-1.469.044-2.006.045-.556.142-1.058.381-1.527A3.9 3.9 0 0 1 6.23 2.525c.47-.239.971-.336 1.527-.381C8.293 2.1 8.954 2.1 9.762 2.1h7.668c.254 0 .496 0 .7.017.223.018.478.06.733.19a1.9 1.9 0 0 1 .83.83c.13.255.172.51.19.733.017.204.017.446.017.7v11.89c0 .504 0 .756-.098.949a.9.9 0 0 1-.393.393c-.193.098-.445.098-.949.098h-.305c-.076.322-.113.51-.131.699a4.088 4.088 0 0 0 0 .802c.018.188.055.378.131.699H19a.9.9 0 0 1 0 1.8H7A2.9 2.9 0 0 1 4.1 19V7.762ZM16.312 20.1a5.358 5.358 0 0 1-.08-.523 5.89 5.89 0 0 1 0-1.154 5.5 5.5 0 0 1 .08-.523H7a1.1 1.1 0 0 0 0 2.2h9.312Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},531950:(e,t,o)=>{"use strict";o.d(t,{Icon24CancelOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24CancelOutline","cancel_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="cancel_outline_24"><path fill="currentColor" d="M5.264 5.264a.9.9 0 0 1 1.272 0L12 10.727l5.464-5.463a.9.9 0 0 1 1.272 1.272L13.273 12l5.463 5.464a.9.9 0 1 1-1.272 1.272L12 13.273l-5.464 5.463a.9.9 0 1 1-1.272-1.272L10.727 12 5.264 6.536a.9.9 0 0 1 0-1.272" /></symbol>',24,24,!1,void 0)},910301:(e,t,o)=>{"use strict";o.d(t,{Icon24ClockOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24ClockOutline","clock_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="clock_outline_24"><path d="M12.4 8a.9.9 0 1 0-1.8 0v4.5a.9.9 0 0 0 .584.843l4 1.5a.9.9 0 0 0 .632-1.686l-3.416-1.28V8Z" /><path fill-rule="evenodd" d="M12 2.1c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},903421:(e,t,o)=>{"use strict";o.d(t,{Icon24DeleteOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24DeleteOutline","delete_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="delete_outline_24"><path fill-rule="evenodd" d="M14.556 8.102a.9.9 0 0 1 .842.954l-.5 8a.9.9 0 0 1-1.796-.112l.5-8a.9.9 0 0 1 .954-.842Zm-5.112 0a.9.9 0 0 0-.842.954l.5 8a.9.9 0 1 0 1.796-.112l-.5-8a.9.9 0 0 0-.954-.842Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 4.1a.9.9 0 1 0 0 1.8h1.18l1.155 12.316c.045.484.084.898.143 1.237.062.359.157.704.351 1.03a2.9 2.9 0 0 0 1.249 1.137c.342.162.695.225 1.057.253.344.027.76.027 1.246.027h5.238c.486 0 .902 0 1.246-.027.362-.028.715-.09 1.057-.253a2.9 2.9 0 0 0 1.249-1.137c.194-.326.289-.671.35-1.03.06-.34.099-.753.144-1.237L19.82 5.9H21a.9.9 0 1 0 0-1.8h-5.204a3.901 3.901 0 0 0-7.592 0H3Zm4.124 13.915c.05.526.082.869.128 1.13.043.252.087.356.124.417a1.1 1.1 0 0 0 .474.432c.064.03.172.065.426.085.265.02.61.021 1.138.021h5.172c.528 0 .873 0 1.138-.021.254-.02.362-.055.426-.085a1.1 1.1 0 0 0 .474-.432c.037-.06.08-.166.124-.416.046-.262.079-.605.128-1.131L18.012 5.9H5.988zM12 2.9a2.1 2.1 0 0 0-1.898 1.2h3.796A2.1 2.1 0 0 0 12 2.9Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},240928:(e,t,o)=>{"use strict";o.d(t,{Icon24DocumentListOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24DocumentListOutline","document_list_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="document_list_outline_24"><path d="M7.996 13.901a.9.9 0 0 1 .9-.9h1.2a.9.9 0 0 1 0 1.8h-1.2a.9.9 0 0 1-.9-.9m.9 2.297a.9.9 0 1 0 0 1.8h1.2a.9.9 0 0 0 0-1.8zM13 13.901a.9.9 0 0 1 .9-.9h1.2a.9.9 0 0 1 0 1.8h-1.2a.9.9 0 0 1-.9-.9m.9 2.297a.9.9 0 1 0 0 1.8h1.2a.9.9 0 0 0 0-1.8z" /><path fill-rule="evenodd" d="M12.473 2c.3 0 .586 0 .866.066a2.4 2.4 0 0 1 .694.288c.245.15.447.353.659.565l4.389 4.39c.212.21.415.413.565.658a2.4 2.4 0 0 1 .288.694c.067.28.066.566.066.866v6.012c0 .947 0 1.713-.05 2.333-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05h-3.076c-.948 0-1.714 0-2.334-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.922-1.922c-.267-.523-.377-1.087-.43-1.726C4 17.252 4 16.486 4 15.538V8.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 6.402 2.48c.523-.267 1.087-.377 1.726-.43C8.748 2 9.514 2 10.462 2h2.011ZM10.5 3.8H12v2.135c0 .53 0 .981.03 1.352.032.39.102.768.286 1.13a2.9 2.9 0 0 0 1.267 1.267c.362.184.741.254 1.13.286.37.03.822.03 1.351.03H18.2v5.5c0 .995 0 1.687-.045 2.226-.043.527-.123.828-.238 1.054a2.6 2.6 0 0 1-1.137 1.137c-.226.115-.527.195-1.055.238-.538.044-1.23.045-2.225.045h-3c-.995 0-1.687 0-2.226-.045-.527-.043-.828-.123-1.054-.238a2.6 2.6 0 0 1-1.137-1.137c-.115-.226-.195-.527-.238-1.055-.044-.538-.045-1.23-.045-2.225v-7c0-.995 0-1.687.045-2.225.043-.528.123-.829.238-1.055A2.6 2.6 0 0 1 7.22 4.083c.226-.115.527-.195 1.054-.238C8.813 3.8 9.505 3.8 10.5 3.8m3.3.773L17.427 8.2H16.1c-.575 0-.952 0-1.24-.024-.278-.023-.393-.062-.46-.096a1.1 1.1 0 0 1-.48-.48c-.034-.066-.073-.182-.096-.46A17.426 17.426 0 0 1 13.8 5.9z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},824283:(e,t,o)=>{"use strict";o.d(t,{Icon24DocumentOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24DocumentOutline","document_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="document_outline_24"><path fill-rule="evenodd" d="M12.473 2c.3 0 .586 0 .866.066a2.4 2.4 0 0 1 .694.288c.245.15.447.353.659.565l4.389 4.39c.212.21.415.413.565.658a2.4 2.4 0 0 1 .288.694c.067.28.066.566.066.866v6.012c0 .947 0 1.713-.05 2.333-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05h-3.076c-.948 0-1.714 0-2.334-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.922-1.922c-.267-.523-.377-1.087-.43-1.726C4 17.252 4 16.486 4 15.538V8.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 6.402 2.48c.523-.267 1.087-.377 1.726-.43C8.748 2 9.514 2 10.462 2h2.011ZM10.5 3.8H12v2.135c0 .53 0 .981.03 1.352.032.39.102.768.286 1.13a2.9 2.9 0 0 0 1.267 1.267c.362.184.741.254 1.13.286.37.03.822.03 1.352.03H18.2v5.5c0 .995 0 1.687-.045 2.226-.043.527-.123.828-.238 1.054a2.6 2.6 0 0 1-1.137 1.137c-.226.115-.527.195-1.055.238-.538.044-1.23.045-2.225.045h-3c-.995 0-1.687 0-2.226-.045-.527-.043-.828-.123-1.054-.238a2.6 2.6 0 0 1-1.137-1.137c-.115-.226-.195-.527-.238-1.055-.044-.538-.045-1.23-.045-2.225v-7c0-.995 0-1.687.045-2.225.043-.528.123-.829.238-1.055A2.6 2.6 0 0 1 7.22 4.083c.226-.115.527-.195 1.054-.238C8.813 3.8 9.505 3.8 10.5 3.8m3.3.773L17.427 8.2H16.1c-.575 0-.952 0-1.24-.024-.278-.023-.393-.062-.46-.096a1.1 1.1 0 0 1-.48-.48c-.034-.066-.073-.182-.096-.46A17.426 17.426 0 0 1 13.8 5.9z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},152406:(e,t,o)=>{"use strict";o.d(t,{Icon24DocumentTextOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24DocumentTextOutline","document_text_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="document_text_outline_24"><path fill-rule="evenodd" d="M12.473 2c.3 0 .586 0 .866.066a2.4 2.4 0 0 1 .694.288c.245.15.447.353.659.565l4.389 4.39c.212.21.415.413.565.658a2.4 2.4 0 0 1 .288.694c.067.28.066.566.066.866v6.012c0 .947 0 1.713-.05 2.333-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05h-3.076c-.948 0-1.714 0-2.334-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.922-1.922c-.267-.523-.377-1.087-.43-1.726C4 17.252 4 16.486 4 15.538V8.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 6.402 2.48c.523-.267 1.087-.377 1.726-.43C8.748 2 9.514 2 10.462 2h2.011ZM10.5 3.8H12v2.135c0 .53 0 .981.03 1.352.032.39.102.768.286 1.13a2.9 2.9 0 0 0 1.267 1.267c.362.184.741.254 1.13.286.37.03.822.03 1.352.03H18.2v5.5c0 .995 0 1.687-.045 2.226-.043.527-.123.828-.238 1.054a2.6 2.6 0 0 1-1.137 1.137c-.226.115-.527.195-1.055.238-.538.044-1.23.045-2.225.045h-3c-.995 0-1.687 0-2.226-.045-.527-.043-.828-.123-1.054-.238a2.6 2.6 0 0 1-1.137-1.137c-.115-.226-.195-.527-.238-1.055-.044-.538-.045-1.23-.045-2.225v-7c0-.995 0-1.687.045-2.225.043-.528.123-.829.238-1.055A2.6 2.6 0 0 1 7.22 4.083c.226-.115.527-.195 1.054-.238C8.813 3.8 9.505 3.8 10.5 3.8m3.3.773L17.427 8.2H16.1c-.575 0-.952 0-1.24-.024-.278-.023-.393-.062-.46-.096a1.1 1.1 0 0 1-.48-.48c-.034-.066-.073-.182-.096-.46A17.426 17.426 0 0 1 13.8 5.9zM7.997 17.104a.9.9 0 0 1 .9-.9h3.199a.9.9 0 1 1 0 1.8H8.897a.9.9 0 0 1-.9-.9Zm.9-4.106a.9.9 0 1 0 0 1.8h5.197a.9.9 0 0 0 0-1.8z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},641899:(e,t,o)=>{"use strict";o.d(t,{Icon24FavoriteOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24FavoriteOutline","favorite_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="favorite_outline_24"><path fill-rule="evenodd" d="M12.554 4.694a.6.6 0 0 0-1.108 0l-1.614 3.9a.9.9 0 0 1-.774.554l-4.125.266a.6.6 0 0 0-.357 1.05l3.267 2.859a.9.9 0 0 1 .282.888l-.93 3.852a.6.6 0 0 0 .883.66l3.472-2.003a.9.9 0 0 1 .9 0l3.472 2.004a.6.6 0 0 0 .883-.661l-.93-3.852a.9.9 0 0 1 .282-.888l3.267-2.858a.6.6 0 0 0-.357-1.05l-4.125-.267a.9.9 0 0 1-.774-.554l-1.614-3.9Zm-2.772-.689c.818-1.976 3.618-1.976 4.436 0l1.4 3.383 3.565.23c2.136.138 3.037 2.792 1.426 4.201l-2.856 2.5.802 3.322c.494 2.05-1.706 3.696-3.533 2.642L12 18.539l-3.022 1.744C7.15 21.337 4.95 19.69 5.445 17.64l.802-3.322-2.856-2.5c-1.611-1.41-.71-4.063 1.426-4.201l3.566-.23 1.4-3.383Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},894758:(e,t,o)=>{"use strict";o.d(t,{Icon24HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24HelpOutline","help_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="help_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M4.929 4.929A9.97 9.97 0 0 1 12 2a9.972 9.972 0 0 1 7.071 2.929A9.97 9.97 0 0 1 22 12a9.971 9.971 0 0 1-2.929 7.071A9.972 9.972 0 0 1 12 22a9.972 9.972 0 0 1-7.071-2.929A9.972 9.972 0 0 1 2 12a9.971 9.971 0 0 1 2.929-7.071M12 3.8a8.171 8.171 0 0 0-5.798 2.402C4.717 7.687 3.8 9.735 3.8 12s.917 4.313 2.402 5.798A8.171 8.171 0 0 0 12 20.2a8.172 8.172 0 0 0 5.798-2.402C19.283 16.313 20.2 14.265 20.2 12s-.917-4.313-2.402-5.798A8.172 8.172 0 0 0 12 3.8m-.768 4.29c-.254.195-.409.434-.46.634a.9.9 0 0 1-1.744-.448c.17-.663.6-1.224 1.108-1.613C10.646 6.27 11.303 6 12 6c1.602 0 3 1.398 3 3 0 1.37-.75 2.22-1.285 2.807-.599.655-.815.91-.815 1.293a.9.9 0 0 1-1.8 0c0-1.123.71-1.886 1.174-2.386l.111-.12c.515-.565.815-.965.815-1.594 0-.607-.592-1.2-1.2-1.2-.235 0-.516.097-.768.29ZM13.2 16.6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0" /></symbol>',24,24,!1,void 0)},550470:(e,t,o)=>{"use strict";o.d(t,{Icon24Info:()=>r});var r=(0,o(28178).makeIcon)("Icon24Info","info_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 14v-4a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0m-.25-7.75v-.5a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1" /></g></symbol>',24,24,!1,void 0)},771687:(e,t,o)=>{"use strict";o.d(t,{Icon24InfoCircleOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24InfoCircleOutline","info_circle_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="info_circle_outline_24"><path d="M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10m0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632m-.947 2.822c0-.541.424-.98.947-.98.523 0 .947.439.947.98v3.83c0 .54-.424.98-.947.98-.523 0-.947-.44-.947-.98v-3.83Z" /></symbol>',24,24,!1,void 0)},430790:(e,t,o)=>{"use strict";o.d(t,{Icon24MessageArrowRightOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24MessageArrowRightOutline","message_arrow_right_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="message_arrow_right_outline_24"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"><path d="M12.016 4.9c-3.077 0-5.702 1.444-7.065 3.5a.9.9 0 0 1-1.5-.995C5.178 4.799 8.395 3.1 12.016 3.1c5.324 0 9.884 3.729 9.884 8.607 0 4.878-4.56 8.607-9.884 8.607-1.173 0-2.3-.178-3.348-.506C7.42 20.961 5.616 21.513 3.42 21.6c-.927.036-1.598-.927-1.209-1.792.529-1.183 1.197-2.403 1.298-3.72a8.205 8.205 0 0 1-.34-.54.9.9 0 0 1 1.56-.898c.124.216.262.426.413.629a.9.9 0 0 1 .177.537c0 1.38-.54 2.684-1.099 3.92 1.714-.194 2.835-.75 3.513-1.547a.9.9 0 0 1 1.002-.26c1 .376 2.11.586 3.28.586 4.6 0 8.085-3.172 8.085-6.807 0-3.635-3.485-6.807-8.084-6.807z" /><path d="M10.864 8.264a.9.9 0 0 1 1.272 0l2.6 2.6a.9.9 0 0 1 0 1.272l-2.6 2.6a.9.9 0 0 1-1.272-1.272l1.063-1.064H2.9a.9.9 0 1 1 0-1.8h9.027l-1.063-1.064a.9.9 0 0 1 0-1.272z" /></g></symbol>',24,24,!1,void 0)},432483:(e,t,o)=>{"use strict";o.d(t,{Icon24MoreHorizontal:()=>r});var r=(0,o(28178).makeIcon)("Icon24MoreHorizontal","more_horizontal_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="more_horizontal_24"><g fill="none" fill-rule="evenodd"><path d="M24 0H0v24h24z" /><path fill="currentColor" d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2" /></g></symbol>',24,24,!1,void 0)},775130:(e,t,o)=>{"use strict";o.d(t,{Icon24MusicOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24MusicOutline","music_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="music_outline_24"><path fill="currentColor" fill-rule="evenodd" d="M16.716 4.105c.61-.127 1.01-.21 1.317-.246.299-.036.408-.013.457.004a.9.9 0 0 1 .485.395c.026.043.07.146.097.446.027.304.028.705.028 1.314L8.9 8.143v-.54c0-.477 0-.786.018-1.024.017-.228.046-.328.073-.39a1.1 1.1 0 0 1 .374-.46c.055-.039.147-.088.366-.15.23-.067.533-.13 1-.227zM7.1 15.1h-.2c-1.795 0-3.125.452-4.02 1.215-.903.768-1.28 1.782-1.28 2.71A3.375 3.375 0 0 0 4.975 22.4c.928 0 1.942-.377 2.71-1.28.763-.895 1.215-2.225 1.215-4.02V9.982l10.2-2.125V13.1h-.2c-1.795 0-3.125.452-4.021 1.215-.902.768-1.279 1.782-1.279 2.71a3.375 3.375 0 0 0 3.375 3.375c.928 0 1.942-.377 2.71-1.28.763-.895 1.215-2.225 1.215-4.02V6.004c0-.573 0-1.061-.035-1.457-.036-.412-.116-.824-.34-1.204a2.7 2.7 0 0 0-1.457-1.185c-.417-.141-.836-.135-1.247-.087-.395.047-.873.147-1.434.264l-.038.007-5.985 1.247-.03.007c-.429.089-.797.166-1.099.252-.32.092-.624.21-.908.41a2.9 2.9 0 0 0-.987 1.214c-.139.32-.192.642-.217.974-.023.313-.023.689-.023 1.126v.031zm8.946.585c-.473.403-.646.901-.646 1.34 0 .87.705 1.575 1.575 1.575.439 0 .937-.173 1.34-.646.408-.479.785-1.349.785-2.854v-.2h-.2c-1.505 0-2.375.377-2.854.785zM3.4 19.025c0-.439.173-.937.646-1.34.479-.408 1.349-.785 2.854-.785h.2v.2c0 1.505-.377 2.375-.785 2.854-.403.473-.901.646-1.34.646-.87 0-1.575-.705-1.575-1.575z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},50901:(e,t,o)=>{"use strict";o.d(t,{Icon24PictureOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24PictureOutline","picture_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="picture_outline_24"><path d="M9 10.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" /><path fill-rule="evenodd" d="M9.461 3h5.077c.948 0 1.714 0 2.334.05.64.053 1.203.163 1.726.43a4.4 4.4 0 0 1 1.922 1.922c.267.523.377 1.087.43 1.726.05.62.05 1.386.05 2.334v5.076c0 .948 0 1.714-.05 2.334-.053.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.523.267-1.087.377-1.726.43-.62.05-1.386.05-2.334.05H9.461c-.947 0-1.713 0-2.333-.05-.64-.053-1.203-.163-1.726-.43a4.4 4.4 0 0 1-1.923-1.922c-.266-.523-.376-1.087-.428-1.726C3 16.252 3 15.486 3 14.538V9.462c0-.948 0-1.714.05-2.334.053-.64.163-1.203.43-1.726A4.4 4.4 0 0 1 5.401 3.48c.523-.267 1.087-.377 1.726-.43C7.748 3 8.514 3 9.46 3ZM7.274 4.845c-.528.043-.828.123-1.054.238A2.6 2.6 0 0 0 5.083 6.22c-.115.226-.195.527-.238 1.054C4.8 7.813 4.8 8.505 4.8 9.5v5c0 .995 0 1.687.045 2.226l.011.126 2.893-2.893c.18-.18.352-.352.509-.485.17-.145.381-.296.654-.384a1.9 1.9 0 0 1 1.177.002c.273.09.483.241.653.386.156.134.327.306.507.488l.753.759 2.761-2.76c.18-.18.351-.352.507-.484.17-.145.38-.295.653-.384a1.9 1.9 0 0 1 1.174 0c.272.089.482.24.652.384.157.132.328.303.508.483l.943.944V9.5c0-.995 0-1.687-.045-2.226-.043-.527-.123-.828-.239-1.054a2.6 2.6 0 0 0-1.136-1.137c-.226-.115-.527-.195-1.055-.238-.538-.044-1.23-.045-2.225-.045h-5c-.995 0-1.687 0-2.226.045ZM6.22 18.917a2.602 2.602 0 0 1-.528-.356l3.309-3.308c.209-.21.328-.328.421-.407.03-.025.05-.04.06-.047a.1.1 0 0 1 .03 0c.011.008.031.022.06.047.093.08.212.198.42.409l1.37 1.379a.9.9 0 0 0 1.274.002l3.379-3.378c.208-.208.327-.326.42-.405a.885.885 0 0 1 .06-.047.104.104 0 0 1 .03 0 .86.86 0 0 1 .06.047c.093.079.211.197.42.405l2.193 2.193c-.004.515-.014.927-.043 1.274-.043.528-.123.83-.239 1.055a2.6 2.6 0 0 1-1.136 1.137c-.226.115-.527.195-1.055.238-.538.044-1.23.045-2.225.045h-5c-.995 0-1.687 0-2.226-.045-.528-.043-.828-.123-1.054-.238Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},300993:(e,t,o)=>{"use strict";o.d(t,{Icon24Play:()=>r});var r=(0,o(28178).makeIcon)("Icon24Play","play_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="play_24"><path d="M18.5 11.134a1 1 0 0 1 0 1.732l-9 5.196a1 1 0 0 1-1.5-.866V6.804a1 1 0 0 1 1.5-.866z" /></symbol>',24,24,!1,void 0)},50466:(e,t,o)=>{"use strict";o.d(t,{Icon24RecentOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24RecentOutline","recent_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="recent_outline_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path fill="currentColor" fill-rule="nonzero" d="M12 21.428A9.428 9.428 0 0 1 2.571 12 9.428 9.428 0 0 1 12 2.57c5.206 0 9.429 4.221 9.429 9.429 0 5.207-4.223 9.428-9.429 9.428m0-1.8a7.63 7.63 0 1 0-.001-15.258A7.63 7.63 0 0 0 12 19.628m4.085-6.387a.9.9 0 1 1-.575 1.706l-4.226-1.427a.9.9 0 0 1-.613-.853V8.353a.9.9 0 1 1 1.8 0v3.668l3.614 1.22" /></g></symbol>',24,24,!1,void 0)},210162:(e,t,o)=>{"use strict";o.d(t,{Icon24ShoppingCartOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24ShoppingCartOutline","shopping_cart_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="shopping_cart_outline_24"><path fill-rule="evenodd" d="M3.935 4.817a14.055 14.055 0 0 0-.94-.017H2.9a.9.9 0 0 1 0-1.8h.127c.401 0 .751 0 1.043.022.31.023.618.075.923.21a2.7 2.7 0 0 1 1.139.952c.094.138.167.28.227.427l11.586.362c.64.02 1.18.037 1.611.09.445.053.892.156 1.284.424a2.7 2.7 0 0 1 1.116 1.655c.101.465.03.917-.088 1.35-.113.42-.3.927-.522 1.527l-.511 1.387c-.495 1.345-.828 2.248-1.426 2.93a4.9 4.9 0 0 1-1.938 1.352c-.848.324-1.81.324-3.243.323H9.804c-.402 0-.752 0-1.043-.022a2.727 2.727 0 0 1-.924-.21 2.7 2.7 0 0 1-1.139-.951 2.726 2.726 0 0 1-.37-.872 14.876 14.876 0 0 1-.208-1.022L4.944 6.428a14.146 14.146 0 0 0-.183-.921c-.052-.199-.092-.273-.118-.312a.9.9 0 0 0-.38-.317c-.043-.02-.123-.046-.328-.061Zm2.838 1.608 1.113 6.158c.079.434.13.711.184.921.051.199.091.273.118.313a.9.9 0 0 0 .38.317c.042.019.123.045.328.06a14 14 0 0 0 .939.017h4.213c1.682 0 2.283-.014 2.78-.204a3.1 3.1 0 0 0 1.227-.855c.35-.401.571-.96 1.153-2.538l.435-1.179c.24-.649.398-1.08.487-1.412.089-.328.078-.449.067-.497a.9.9 0 0 0-.372-.552c-.04-.028-.149-.084-.486-.125-.342-.041-.8-.057-1.491-.078zM10 19.25a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M16.75 21a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5" /></symbol>',24,24,!1,void 0)},427323:(e,t,o)=>{"use strict";o.d(t,{Icon24SmileOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24SmileOutline","smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 0 1 1.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 0 0 1.773-.488c.191-.12.382-.26.53-.432a.9.9 0 0 1 1.4 1.132 4.045 4.045 0 0 1-.976.826A5.094 5.094 0 0 1 12 17.15a5.094 5.094 0 0 1-2.727-.762 3.987 3.987 0 0 1-.976-.826.9.9 0 0 1 .14-1.265Zm1.812-4.047a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M15 11.5A1.25 1.25 0 1 0 15 9a1.25 1.25 0 0 0 0 2.5m-3-9.4c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},783844:(e,t,o)=>{"use strict";o.d(t,{Icon24StickerSmileOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24StickerSmileOutline","sticker_smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="sticker_smile_outline_24"><path d="M11.295 10.25a1.256 1.256 0 0 1-1.255 1.251c-.69 0-1.248-.56-1.245-1.25C8.798 9.56 9.36 9 10.05 9s1.248.56 1.245 1.25Zm4.244.251c.69 0 1.25-.56 1.254-1.25A1.244 1.244 0 0 0 15.549 8c-.69 0-1.251.56-1.254 1.25a1.244 1.244 0 0 0 1.244 1.251" /><path fill-rule="evenodd" d="m11.452 21.295-.005-.025-.399.056c-.845.12-1.406.198-1.906.167a4.886 4.886 0 0 1-4.296-3.245c-.167-.472-.244-1.033-.361-1.879l-.662-4.784c-.149-1.076-.268-1.939-.308-2.644-.04-.724-.003-1.361.208-1.972a4.916 4.916 0 0 1 1.828-2.42c.53-.37 1.132-.58 1.84-.74.689-.155 1.55-.276 2.627-.427l5.096-.717c.783-.11 1.302-.183 1.765-.16a4.885 4.885 0 0 1 4.394 3.317c.148.44.22.96.328 1.742l.02.142h.002l.247 1.655c.024.163.034.324.031.483.082.726.117 1.292.09 1.816a9.93 9.93 0 0 1-6.718 8.896c-.765.26-1.666.407-3.1.612l-.721.127Zm5.336-16.992c-.27-.013-.607.03-1.53.16l-4.954.696c-1.124.158-1.914.27-2.522.407-.599.135-.945.278-1.202.458a3.11 3.11 0 0 0-1.156 1.53c-.103.298-.146.67-.112 1.282.035.623.143 1.413.299 2.537l.64 4.635c.139.996.194 1.36.291 1.635a3.09 3.09 0 0 0 2.718 2.053c.292.018.656-.028 1.652-.168l.17-.024.82-.116 1.603-.283c.6-.106 1-.68.893-1.28l-.236-1.324c-1.403.152-3.005.008-4.27-.857a.9.9 0 0 1 1.017-1.487c.817.559 2.008.694 3.23.534a4.413 4.413 0 0 1 3.43-3.475l1.655-.345c.48-.1.824-.499.872-.965a99.95 99.95 0 0 0-.263-1.989c-.128-.922-.178-1.258-.265-1.515a3.09 3.09 0 0 0-2.78-2.1Zm-.576 13.853a8.128 8.128 0 0 0 3.885-5.677 2.903 2.903 0 0 1-.51.155l-1.655.345a2.606 2.606 0 0 0-2.034 3.008l.271 1.52c.04.218.053.436.043.649" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},135826:(e,t,o)=>{"use strict";o.d(t,{Icon24StorefrontOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24StorefrontOutline","storefront_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="storefront_outline_24"><path fill-rule="evenodd" d="M7 14a.9.9 0 0 1 .9.9v4.2h8.2v-4.2a.9.9 0 0 1 1.8 0V20a.9.9 0 0 1-.9.9H7a.9.9 0 0 1-.9-.9v-5.1A.9.9 0 0 1 7 14" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 20a.9.9 0 0 1 .9-.9h16.2a.9.9 0 1 1 0 1.8H3.9A.9.9 0 0 1 3 20m13.9-10a1.1 1.1 0 0 0 2.2 0h1.8a2.9 2.9 0 0 1-5.8 0z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M16 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M12 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M4 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 0 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8.703 3.1h6.594c.553 0 1.019-.001 1.453.137a2.9 2.9 0 0 1 1.033.585c.342.301.581.7.865 1.175l.056.094 1.612 2.686.027.045c.143.239.264.44.352.66.077.195.133.397.167.604.038.234.038.47.038.747V10h-1.8v-.114c0-.358-.003-.438-.014-.51a1.1 1.1 0 0 0-.064-.228c-.027-.068-.066-.138-.25-.445L17.16 6.017c-.37-.618-.462-.752-.566-.843a1.1 1.1 0 0 0-.392-.222c-.131-.042-.294-.052-1.014-.052H8.812c-.72 0-.883.01-1.014.052a1.1 1.1 0 0 0-.392.222c-.104.091-.196.225-.566.843L5.228 8.703c-.185.307-.223.377-.25.445a1.1 1.1 0 0 0-.064.228c-.011.072-.014.152-.014.51V10H3.1v-.167c0-.278 0-.513.038-.747a2.9 2.9 0 0 1 .167-.603c.088-.22.209-.422.352-.66l.027-.046L5.296 5.09l.056-.094c.284-.474.523-.874.865-1.175a2.9 2.9 0 0 1 1.033-.585c.434-.138.9-.138 1.453-.137Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},25155:(e,t,o)=>{"use strict";o.d(t,{Icon24UgcStickerOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24UgcStickerOutline","ugc_sticker_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="ugc_sticker_outline_24"><path fill-rule="evenodd" d="M13.481 3.562a1.85 1.85 0 0 0-1.403-.56c-4.963.228-9.045 4.133-9.045 8.592 0 1.527.485 2.952 1.318 4.16-.04.476-.178.986-.382 1.531-.186.496-.406.973-.632 1.462-.074.16-.149.322-.223.486-.394.865.29 1.801 1.194 1.766 2.098-.081 3.83-.6 5.035-1.69 1.002.308 2.079.474 3.199.474 4.124 0 7.977-2.28 9.295-5.631.403-1.024.008-2.063-.635-2.718l-7.72-7.872ZM11.2 4.9c-3.67.603-6.362 3.606-6.362 6.695 0 1.222.414 2.37 1.149 3.347.117.155.18.345.18.539 0 .86-.229 1.691-.507 2.434-.156.415-.337.83-.515 1.219 1.595-.191 2.637-.71 3.267-1.442a.904.904 0 0 1 .999-.257 9.015 9.015 0 0 0 3.132.551c3.401 0 6.37-1.81 7.484-4.182-1.345 0-2.412-.001-3.273-.071-.891-.073-1.642-.224-2.326-.572a5.903 5.903 0 0 1-2.584-2.575c-.349-.682-.5-1.43-.573-2.319-.071-.87-.071-1.949-.071-3.314V4.9Zm8.04 7.105-6.236-6.358c.002 1.04.012 1.83.065 2.474.063.777.185 1.262.382 1.649a4.101 4.101 0 0 0 1.796 1.79c.387.196.874.317 1.654.38.616.05 1.366.062 2.338.065Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},583685:(e,t,o)=>{"use strict";o.d(t,{Icon24VideoOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon24VideoOutline","video_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="video_outline_24"><path d="M7.25 15.75h1a.75.75 0 0 1 .75.75v1a.75.75 0 0 1-.75.75h-1a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75m8.5 0h1a.75.75 0 0 1 .75.75v1a.75.75 0 0 1-.75.75h-1a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75m-8.5-5h1a.75.75 0 0 1 .75.75v1a.75.75 0 0 1-.75.75h-1a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75m8.5 0h1a.75.75 0 0 1 .75.75v1a.75.75 0 0 1-.75.75h-1a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75m-8.5-5h1A.75.75 0 0 1 9 6.5v1a.75.75 0 0 1-.75.75h-1a.75.75 0 0 1-.75-.75v-1a.75.75 0 0 1 .75-.75m8.5 0h1a.75.75 0 0 1 .75.75v1a.75.75 0 0 1-.75.75h-1A.75.75 0 0 1 15 7.5v-1a.75.75 0 0 1 .75-.75" /><path fill-rule="evenodd" d="M9.461 2.1h5.078c1.017 0 1.835 0 2.497.054.681.056 1.276.173 1.825.453a4.65 4.65 0 0 1 2.032 2.032c.28.549.397 1.144.453 1.825.054.662.054 1.48.054 2.497v6.078c0 1.017 0 1.835-.054 2.497-.056.681-.173 1.276-.453 1.825a4.65 4.65 0 0 1-2.032 2.032c-.549.28-1.144.397-1.825.453-.662.054-1.48.054-2.497.054H9.46c-1.017 0-1.835 0-2.497-.054-.681-.056-1.276-.173-1.825-.453a4.65 4.65 0 0 1-2.032-2.032c-.28-.55-.397-1.144-.453-1.825-.054-.662-.054-1.48-.054-2.497V8.96c0-1.017 0-1.835.054-2.497.056-.681.173-1.276.453-1.825a4.65 4.65 0 0 1 2.032-2.032c.55-.28 1.144-.397 1.825-.453C7.626 2.1 8.444 2.1 9.46 2.1Zm-2.35 1.848c-.57.047-.902.134-1.155.263a2.85 2.85 0 0 0-1.245 1.245c-.13.253-.216.585-.263 1.154C4.401 7.19 4.4 7.935 4.4 9v6c0 1.065 0 1.81.048 2.39.047.57.134.9.263 1.154.273.536.709.972 1.245 1.245.253.13.585.216 1.154.263.58.047 1.325.048 2.39.048h5c1.065 0 1.81 0 2.39-.048.57-.047.9-.134 1.154-.263a2.85 2.85 0 0 0 1.245-1.245c.13-.253.216-.585.263-1.154.047-.58.048-1.325.048-2.39V9c0-1.065 0-1.81-.048-2.39-.047-.57-.134-.9-.263-1.154a2.85 2.85 0 0 0-1.245-1.245c-.253-.13-.585-.216-1.154-.263-.58-.047-1.325-.048-2.39-.048h-5c-1.065 0-1.81 0-2.39.048Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},366582:(e,t,o)=>{"use strict";o.d(t,{Icon28AddCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28AddCircleFillBlue","add_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="add_circle_fill_blue_28"><linearGradient id="add_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#add_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" d="M14 7a1 1 0 0 1 1 1v5h5a1 1 0 1 1 0 2h-5v5a1 1 0 1 1-2 0v-5H8a1 1 0 1 1 0-2h5V8a1 1 0 0 1 1-1" /></symbol>',28,28,!1,void 0)},62340:(e,t,o)=>{"use strict";o.d(t,{Icon28ChainCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28ChainCircleFillBlue","chain_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="chain_circle_fill_blue_28"><linearGradient id="chain_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#chain_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" fill-rule="evenodd" d="M13.022 16.184a.837.837 0 0 1-1.187-.001 3.861 3.861 0 0 1 0-5.419l2.618-2.643a3.772 3.772 0 0 1 5.366 0c1.261 1.274 1.557 3.033.67 4.508-.296.49-.947.47-1.326.09-.274-.276-.253-.707-.076-1.019.465-.817.24-1.683-.456-2.379a2.094 2.094 0 0 0-2.997 0l-2.611 2.636a2.143 2.143 0 0 0-.001 3.025.83.83 0 0 1 0 1.202m1.95-3.166c.833.835.832 2.19-.001 3.025L12.36 18.68a2.094 2.094 0 0 1-2.997 0c-.696-.696-.911-1.555-.447-2.371.178-.312.199-.744-.076-1.019-.379-.38-1.03-.4-1.325.09-.888 1.474-.602 3.226.659 4.5a3.772 3.772 0 0 0 5.367 0l2.617-2.643a3.86 3.86 0 0 0 0-5.419.837.837 0 0 0-1.187 0 .831.831 0 0 0 0 1.2" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},658508:(e,t,o)=>{"use strict";o.d(t,{Icon28ChevronRightOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon28ChevronRightOutline","chevron_right_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="chevron_right_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path stroke="#8BC1FF" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 7.5 6.5 6.5-6.5 6.5" /><path fill="currentColor" fill-rule="nonzero" d="m16.086 14-5.793 5.793a1 1 0 0 0 1.414 1.414l6.5-6.5a1 1 0 0 0 0-1.414l-6.5-6.5a1 1 0 0 0-1.414 1.414L16.086 14" /></g></symbol>',28,28,!1,void 0)},469531:(e,t,o)=>{"use strict";o.d(t,{Icon28EditCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28EditCircleFillBlue","edit_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="edit_circle_fill_blue_28"><linearGradient id="edit_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><rect width="28" height="28" fill="url(#edit_circle_fill_blue_28_a)" rx="14" /><path fill="#fff" fill-rule="evenodd" d="m14.987 9.976 3.035 3.035-5.539 5.54a5.722 5.722 0 0 1-2.375 1.426l-2.488.76a.286.286 0 0 1-.358-.358l.76-2.488a5.721 5.721 0 0 1 1.427-2.375zm4.17-2.35 1.216 1.217c.47.468.5 1.209.094 1.714l-.094.104-1.516 1.516-3.035-3.035 1.517-1.515a1.286 1.286 0 0 1 1.819 0z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},535505:(e,t,o)=>{"use strict";o.d(t,{Icon28GearCircleFillGray:()=>r});var r=(0,o(28178).makeIcon)("Icon28GearCircleFillGray","gear_circle_fill_gray_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="gear_circle_fill_gray_28"><linearGradient id="gear_circle_fill_gray_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#b1b6bd" /><stop offset="1" stop-color="#99a2ad" /></linearGradient><path fill="url(#gear_circle_fill_gray_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" d="M15 6.667c.18.6.306 1.201 1.305 1.777 1.118.304 1.665.003 2.173-.337.53-.353.688-.25.9-.043l.515.515c.235.236.33.33 0 .943-.298.552-.633 1.066-.335 2.18.577 1.004 1.176 1.178 1.775 1.298.625.125.664.309.667.606v.727c0 .334 0 .467-.667.667-.6.18-1.201.306-1.777 1.305-.303 1.118-.002 1.665.337 2.173.353.53.25.688.043.9l-.515.515c-.236.235-.33.33-.943 0-.552-.298-1.066-.633-2.18-.335-1.004.577-1.178 1.176-1.298 1.775-.125.625-.309.664-.606.667h-.727c-.334 0-.467 0-.667-.667-.18-.6-.306-1.201-1.305-1.777-1.118-.303-1.665-.002-2.173.337-.53.353-.688.25-.9.043l-.515-.515c-.235-.236-.33-.33 0-.943.298-.552.634-1.066.335-2.18C7.865 15.294 7.266 15.12 6.667 15c-.625-.125-.664-.309-.667-.606v-.727c0-.334 0-.467.667-.667.6-.18 1.201-.306 1.777-1.305.304-1.118.003-1.665-.337-2.173-.353-.53-.25-.688-.043-.9l.515-.515c.236-.235.33-.33.943 0 .552.298 1.066.634 2.18.335C12.706 7.865 12.88 7.266 13 6.667c.125-.625.309-.664.606-.667h.727c.334 0 .467 0 .667.667zM14 10.2a3.8 3.8 0 1 0 0 7.6 3.8 3.8 0 0 0 0-7.6" /></symbol>',28,28,!1,void 0)},522300:(e,t,o)=>{"use strict";o.d(t,{Icon28LockOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon28LockOutline","lock_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="lock_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14 2a6 6 0 0 1 6 6l.002 2.023c.843.052 1.38.2 1.935.496.663.355 1.19.881 1.544 1.544.385.72.519 1.413.519 2.783v6.308c0 1.37-.134 2.063-.519 2.783a3.726 3.726 0 0 1-1.544 1.544c-.72.385-1.413.519-2.783.519H8.846c-1.37 0-2.063-.134-2.783-.519a3.726 3.726 0 0 1-1.544-1.544C4.134 23.217 4 22.524 4 21.154v-6.308c0-1.37.134-2.063.519-2.783a3.726 3.726 0 0 1 1.544-1.544c.555-.297 1.093-.444 1.936-.496L8 8a6 6 0 0 1 6-6m5.154 10H8.846c-1.068 0-1.449.073-1.84.283-.314.168-.555.409-.723.723-.21.391-.283.772-.283 1.84v6.308c0 1.068.073 1.449.283 1.84.168.314.409.555.723.723.391.21.772.283 1.84.283h10.308c1.068 0 1.449-.073 1.84-.283.314-.168.555-.409.723-.723.21-.391.283-.772.283-1.84v-6.308c0-1.068-.073-1.449-.283-1.84a1.726 1.726 0 0 0-.723-.723c-.391-.21-.772-.283-1.84-.283M14 15a1 1 0 0 1 1 1v3a1 1 0 0 1-2 0v-3a1 1 0 0 1 1-1m0-11a4 4 0 0 0-4 4v2h8V8a4 4 0 0 0-4-4" /></g></symbol>',28,28,!1,void 0)},287865:(e,t,o)=>{"use strict";o.d(t,{Icon28MentionCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28MentionCircleFillBlue","mention_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="mention_circle_fill_blue_28"><linearGradient id="mention_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#mention_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" d="M13.875 21c-1.385 0-2.595-.274-3.63-.822s-1.835-1.33-2.4-2.343C7.283 16.82 7 15.637 7 14.285v-.42c0-1.353.298-2.548.895-3.586a6.19 6.19 0 0 1 2.516-2.418C11.49 7.287 12.735 7 14.143 7h.072c1.307 0 2.475.258 3.504.774s1.834 1.234 2.413 2.155c.579.922.868 1.965.868 3.131v.428c0 .805-.133 1.513-.398 2.125-.266.613-.643 1.086-1.133 1.421-.489.336-1.053.503-1.691.503-.585 0-1.091-.118-1.518-.354s-.696-.55-.81-.94h-.08c-.114.39-.36.702-.739.936-.379.233-.828.35-1.347.35-.525 0-.982-.116-1.37-.346s-.686-.561-.895-.992c-.209-.432-.313-.942-.313-1.53v-1.068c0-.565.106-1.058.318-1.477.212-.42.511-.745.9-.976.387-.23.84-.345 1.36-.345.49 0 .909.114 1.258.341.349.228.58.534.693.918h.063v-.166c0-.28.088-.507.264-.682.176-.175.404-.262.685-.262.274 0 .497.087.667.262s.255.402.255.682v3.42c0 .244.074.445.224.603s.343.236.581.236c.269 0 .503-.115.703-.346.2-.23.355-.555.466-.975.11-.42.165-.906.165-1.46v-.236c0-.892-.218-1.692-.653-2.4a4.478 4.478 0 0 0-1.813-1.658c-.773-.396-1.646-.594-2.618-.594h-.08c-1.08 0-2.028.224-2.843.673-.814.449-1.446 1.086-1.893 1.91s-.671 1.78-.671 2.865v.306c0 1.072.214 2.008.644 2.807.43.798 1.04 1.415 1.83 1.85s1.718.65 2.78.65h.09c.4 0 .87-.04 1.414-.122.274-.035.445-.052.51-.052a.73.73 0 0 1 .52.192.64.64 0 0 1 .205.49c0 .344-.194.577-.582.7-.519.169-1.247.253-2.184.253zm-1.146-6.637c0 1.06.397 1.591 1.19 1.591.376 0 .661-.124.855-.371.194-.248.291-.617.291-1.106v-.735c0-.443-.103-.79-.309-1.04-.205-.251-.49-.377-.854-.377-.382 0-.673.136-.873.407-.2.271-.3.663-.3 1.176z" /></symbol>',28,28,!1,void 0)},382193:(e,t,o)=>{"use strict";o.d(t,{Icon28PaletteFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28PaletteFillBlue","palette_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="palette_fill_blue_28"><linearGradient id="palette_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#palette_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" fill-rule="evenodd" d="M14.629 17.702c-.174.375-.104.768.08 1.08.503.87.777 2.218-.68 2.218C10.307 21 7 17.783 7 14c0-3.866 3.147-7 7.03-7a7.03 7.03 0 0 1 6.942 5.894c.284 2.391-1.625 4.091-3.668 4.091-.84 0-2.231-.239-2.675.717zM9.75 15a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m6-3.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m-4 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m6.5 3.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},7479:(e,t,o)=>{"use strict";o.d(t,{Icon28Pause:()=>r});var r=(0,o(28178).makeIcon)("Icon28Pause","pause_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="pause_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" d="M7.3 5h3.4A1.3 1.3 0 0 1 12 6.3v15.4a1.3 1.3 0 0 1-1.3 1.3H7.3A1.3 1.3 0 0 1 6 21.7V6.3A1.3 1.3 0 0 1 7.3 5m9 0h3.4A1.3 1.3 0 0 1 21 6.3v15.4a1.3 1.3 0 0 1-1.3 1.3h-3.4a1.3 1.3 0 0 1-1.3-1.3V6.3A1.3 1.3 0 0 1 16.3 5" /></g></symbol>',28,28,!1,void 0)},776076:(e,t,o)=>{"use strict";o.d(t,{Icon28PhoneCircleFillGreen:()=>r});var r=(0,o(28178).makeIcon)("Icon28PhoneCircleFillGreen","phone_circle_fill_green_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="phone_circle_fill_green_28"><linearGradient id="phone_circle_fill_green_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#50c750" /><stop offset="1" stop-color="#32b332" /></linearGradient><path fill="url(#phone_circle_fill_green_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" d="M15.642 16.535c1.054-1.054 2.712-1.15 3.814-.224l.797.671c.91.766 1.002 2.145.205 3.08a2.58 2.58 0 0 1-1.707.882c-2.546.343-5.217-.884-8.014-3.681-2.796-2.797-4.024-5.469-3.68-8.014.017-.199.058-.395.122-.585.149-.435.41-.822.759-1.122.936-.796 2.314-.705 3.08.205l.67.797c.928 1.101.832 2.76-.222 3.814l-.571.57a.554.554 0 0 0-.128.583c.208.569.739 1.28 1.59 2.131.854.853 1.564 1.384 2.132 1.592.203.075.43.024.582-.128z" /></symbol>',28,28,!1,void 0)},957228:(e,t,o)=>{"use strict";o.d(t,{Icon28PinCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28PinCircleFillBlue","pin_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="pin_circle_fill_blue_28"><linearGradient id="pin_circle_fill_blue_28_a" x1="-14" x2="14" y1="14" y2="42" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#70b2ff" /><stop offset="1" stop-color="#5c9ce6" /></linearGradient><path fill="url(#pin_circle_fill_blue_28_a)" d="M0 14C0 6.268 6.268 0 14 0s14 6.268 14 14-6.268 14-14 14S0 21.732 0 14" /><path fill="#fff" d="m16.235 8.109 3.657 3.663c.225.226.064.633-.263.633h-.523a.895.895 0 0 0-.633.263l-1.715 1.715a.896.896 0 0 0-.262.633v2.996c0 .554-.7.858-1.1.456l-2.301-2.3-3.57 3.57a.893.893 0 1 1-1.264-1.263L11.83 14.9l-2.29-2.29c-.391-.392-.109-1.102.456-1.102h2.995a.895.895 0 0 0 .633-.262l1.715-1.715a.896.896 0 0 0 .263-.634v-.526c0-.32.403-.495.634-.263z" /></symbol>',28,28,!1,void 0)},140518:(e,t,o)=>{"use strict";o.d(t,{Icon28Play:()=>r});var r=(0,o(28178).makeIcon)("Icon28Play","play_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 28 28" id="play_28"><path d="M21.65 11.923c1.181.682 1.772 1.023 1.97 1.467.173.388.173.832 0 1.22-.198.444-.789.785-1.97 1.467L11.6 21.874c-1.181.681-1.772 1.022-2.257.971a1.5 1.5 0 0 1-1.057-.61C8 21.842 8 21.16 8 19.797V8.203c0-1.363 0-2.044.286-2.438a1.5 1.5 0 0 1 1.057-.61c.485-.05 1.076.29 2.257.971l10.05 5.797Z" /></symbol>',28,28,!1,void 0)},473216:(e,t,o)=>{"use strict";o.d(t,{Icon28SongOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon28SongOutline","song_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="song_outline_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h28v28H0z" /><path fill="currentColor" fill-rule="nonzero" d="M19.78 3.025A1 1 0 0 1 21 4v2.102a3.6 3.6 0 0 1-2.672 3.479L15 10.468v9.926c0 4.687-4.583 7.1-7.073 4.61C5.351 22.426 7.82 18.2 13 17.942V7.93c-.027-1.922.91-3.288 2.684-3.88.641-.213 1.993-.551 4.096-1.026M13 19.944c-3.538.196-4.845 2.459-3.659 3.645C10.484 24.732 13 23.408 13 20.394Zm6-14.688c-1.348.315-2.249.548-2.684.693-.934.311-1.331.89-1.316 1.968v.481l2.812-.75A1.6 1.6 0 0 0 19 6.102Z" /></g></symbol>',28,28,!1,void 0)},691324:(e,t,o)=>{"use strict";o.d(t,{Icon28UserCircleFillBlue:()=>r});var r=(0,o(28178).makeIcon)("Icon28UserCircleFillBlue","user_circle_fill_blue_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="user_circle_fill_blue_28"><circle cx="14" cy="14" r="14" fill="url(#user_circle_fill_blue_28_a)" /><path fill="#fff" d="M16.75 11.25a2.75 2.75 0 1 0-5.5 0 2.75 2.75 0 1 0 5.5 0M8.5 18.115v.715c0 .37.3.67.67.67h9.66c.37 0 .67-.3.67-.67v-.715C19.5 15.692 15.836 15 14 15c-1.836 0-5.5.692-5.5 3.115Z" /><defs><linearGradient id="user_circle_fill_blue_28_a" x1="0" x2="28.733" y1="0" y2=".773" gradientUnits="userSpaceOnUse"><stop stop-color="#70B2FF" /><stop offset="1" stop-color="#5C9CE6" /></linearGradient></defs></symbol>',28,28,!1,void 0)},738199:(e,t,o)=>{"use strict";o.d(t,{Icon28ZipOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon28ZipOutline","zip_outline_28","0 0 28 28",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 28 28" id="zip_outline_28"><path fill="currentColor" fill-rule="evenodd" d="M14 4h1.2c1.573 0 2.633.002 3.45.068.793.065 1.18.181 1.439.313a3.5 3.5 0 0 1 1.53 1.53c.132.26.248.646.313 1.44.066.816.068 1.876.068 3.449v6.4c0 1.573-.002 2.633-.068 3.45-.065.793-.181 1.18-.314 1.439a3.5 3.5 0 0 1-1.529 1.53c-.26.132-.646.248-1.44.313-.816.066-1.876.068-3.449.068h-2.4c-1.573 0-2.633-.002-3.45-.068-.793-.065-1.18-.181-1.439-.313a3.5 3.5 0 0 1-1.53-1.53c-.132-.26-.248-.646-.313-1.44C6.002 19.834 6 18.774 6 17.2v-6.4c0-1.573.002-2.633.068-3.45.065-.793.181-1.18.313-1.439a3.5 3.5 0 0 1 1.53-1.53c.26-.132.646-.248 1.44-.313.67-.054 1.503-.065 2.649-.067V5.2c0 .28 0 .42.054.527a.5.5 0 0 0 .219.219C12.38 6 12.52 6 12.8 6H14v2h-1.2c-.28 0-.42 0-.527.055a.5.5 0 0 0-.218.218C12 8.38 12 8.52 12 8.8v.4c0 .28 0 .42.054.527a.5.5 0 0 0 .219.219c.107.054.247.054.527.054H14v1.2c0 .28 0 .42.054.527a.5.5 0 0 0 .219.219c.107.054.247.054.527.054h.4c.28 0 .42 0 .527-.054a.5.5 0 0 0 .218-.219C16 11.62 16 11.48 16 11.2v-.4c0-.28 0-.42-.054-.527a.5.5 0 0 0-.219-.218C15.62 10 15.48 10 15.2 10H14V8h1.2c.28 0 .42 0 .527-.054a.5.5 0 0 0 .218-.219C16 7.62 16 7.48 16 7.2v-.4c0-.28 0-.42-.054-.527a.5.5 0 0 0-.219-.218C15.62 6 15.48 6 15.2 6H14zM4 10.8c0-3.08 0-4.62.6-5.797A5.5 5.5 0 0 1 7.002 2.6C8.18 2 9.72 2 12.8 2h2.4c3.08 0 4.62 0 5.797.6A5.5 5.5 0 0 1 23.4 5.002C24 6.18 24 7.72 24 10.8v6.4c0 3.08 0 4.62-.6 5.797a5.5 5.5 0 0 1-2.403 2.404C19.82 26 18.28 26 15.2 26h-2.4c-3.08 0-4.62 0-5.797-.6a5.5 5.5 0 0 1-2.404-2.403C4 21.82 4 20.28 4 17.2zM16 16v-1.2c0-.28 0-.42-.054-.527a.5.5 0 0 0-.219-.218C15.62 14 15.48 14 15.2 14h-2.4c-.28 0-.42 0-.527.055a.5.5 0 0 0-.218.218C12 14.38 12 14.52 12 14.8V16a2 2 0 1 0 4 0z" clip-rule="evenodd" /></symbol>',28,28,!1,void 0)},996955:(e,t,o)=>{"use strict";o.d(t,{Icon32Play:()=>r});var r=(0,o(28178).makeIcon)("Icon32Play","play_32","0 0 32 32",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32" id="play_32"><path d="M24.948 14.001c1.154.656 1.732.984 1.925 1.412.17.374.17.8 0 1.174-.194.428-.77.756-1.925 1.412l-12.43 7.061c-1.154.656-1.732.984-2.205.935a1.471 1.471 0 0 1-1.033-.587C9 25.03 9 24.373 9 23.061V8.938c0-1.311 0-1.967.28-2.347.244-.33.62-.543 1.033-.586.473-.05 1.05.279 2.205.935L24.948 14Z" /></symbol>',32,32,!1,void 0)},999411:(e,t,o)=>{"use strict";o.d(t,{Icon56BookmarkOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56BookmarkOutline","bookmark_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="bookmark_outline_56"><path fill="currentColor" fill-rule="evenodd" d="M25.433 5h5.134c2.744 0 4.894 0 6.623.141 1.76.144 3.215.442 4.53 1.112a11.5 11.5 0 0 1 5.027 5.026c.67 1.316.968 2.77 1.112 4.53.141 1.73.141 3.88.141 6.624v20.321c0 1.783 0 3.224-.101 4.336-.1 1.102-.317 2.18-.984 3.02A5 5 0 0 1 43.024 52c-1.072.005-2.054-.491-2.982-1.094-.936-.607-2.07-1.499-3.47-2.6l-6.433-5.06c-1.206-.948-1.476-1.124-1.718-1.19a1.6 1.6 0 0 0-.843 0c-.24.066-.51.242-1.717 1.19l-6.433 5.06c-1.4 1.101-2.534 1.993-3.47 2.6-.928.603-1.91 1.1-2.982 1.094a5 5 0 0 1-3.891-1.89c-.667-.84-.884-1.918-.984-3.02C8 45.978 8 44.536 8 42.754V22.433c0-2.743 0-4.894.141-6.623.144-1.76.442-3.215 1.112-4.53a11.5 11.5 0 0 1 5.026-5.027c1.316-.67 2.77-.968 4.53-1.112C20.54 5 22.69 5 25.434 5zm-6.379 3.131c-1.575.129-2.59.376-3.413.795a8.5 8.5 0 0 0-3.715 3.715c-.419.823-.666 1.838-.795 3.413-.13 1.592-.131 3.621-.131 6.446v20.177c0 1.878.002 3.182.089 4.141.09.986.252 1.309.345 1.426A2 2 0 0 0 12.99 49c.149 0 .503-.071 1.333-.61.808-.524 1.835-1.33 3.31-2.49l6.372-5.012.19-.15c.904-.712 1.684-1.328 2.592-1.576a4.601 4.601 0 0 1 2.424 0c.908.248 1.688.864 2.592 1.576l.19.15 6.371 5.011c1.476 1.161 2.503 1.967 3.31 2.491.83.539 1.185.61 1.334.61a2 2 0 0 0 1.557-.756c.093-.117.256-.44.345-1.426.088-.959.089-2.263.089-4.141V22.5c0-2.825-.001-4.854-.131-6.446-.129-1.575-.376-2.59-.795-3.413a8.5 8.5 0 0 0-3.715-3.715c-.823-.419-1.838-.666-3.413-.795C35.354 8.001 33.325 8 30.5 8h-5c-2.825 0-4.854.001-6.446.131" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},212380:(e,t,o)=>{"use strict";o.d(t,{Icon56HelpOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56HelpOutline","help_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="help_outline_56"><path fill="currentColor" d="M25.46 18.099c-.63.377-1.176.98-1.567 1.958a1.5 1.5 0 1 1-2.786-1.114c.61-1.523 1.562-2.669 2.809-3.417C25.145 14.79 26.556 14.5 28 14.5c4.473 0 7 3.85 7 7 0 2.81-1.716 4.354-2.983 5.494l-.257.232c-1.307 1.19-2.26 2.19-2.26 4.274a1.5 1.5 0 0 1-3 0c0-3.416 1.797-5.177 3.24-6.492l.071-.065C31.24 23.643 32 22.949 32 21.5c0-1.85-1.518-4-4-4-1.056 0-1.895.211-2.54.599M28 41a2 2 0 1 0 0-4 2 2 0 0 0 0 4" /><path fill="currentColor" fill-rule="evenodd" d="M28 52c13.255 0 24-10.745 24-24S41.255 4 28 4 4 14.745 4 28s10.745 24 24 24m0-3c11.598 0 21-9.402 21-21S39.598 7 28 7 7 16.402 7 28s9.402 21 21 21" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},735347:(e,t,o)=>{"use strict";o.d(t,{Icon56LockOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56LockOutline","lock_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 56" id="lock_outline_56"><g fill="currentColor"><path d="M28 31a3 3 0 0 0-1.5 5.599V39.5a1.5 1.5 0 0 0 3 0v-2.901A2.999 2.999 0 0 0 28 31" /><path fill-rule="evenodd" d="M28 4c-6.075 0-11 4.925-11 11v5.04c-.36.015-.7.034-1.02.06-1.26.103-2.344.32-3.339.826a8.5 8.5 0 0 0-3.715 3.715c-.507.996-.723 2.08-.826 3.34C8 29.208 8 30.73 8 32.634v6.73c0 1.905 0 3.426.1 4.655.103 1.26.32 2.344.826 3.339a8.5 8.5 0 0 0 3.715 3.715c.995.507 2.08.723 3.34.826 1.228.1 2.749.1 4.654.1h14.73c1.905 0 3.426 0 4.655-.1 1.26-.103 2.343-.32 3.339-.826a8.5 8.5 0 0 0 3.715-3.715c.507-.995.723-2.08.826-3.34.1-1.228.1-2.749.1-4.654v-6.73c0-1.905 0-3.426-.1-4.655-.103-1.26-.32-2.343-.826-3.339a8.5 8.5 0 0 0-3.715-3.715c-.996-.507-2.08-.723-3.34-.826-.319-.026-.658-.045-1.019-.06V15c0-6.075-4.925-11-11-11m-8 11a8 8 0 1 1 16 0v5H20zm-5.997 8.6c.502-.256 1.147-.422 2.222-.51 1.092-.089 2.49-.09 4.475-.09h14.6c1.985 0 3.383.001 4.476.09 1.074.088 1.719.254 2.221.51a5.5 5.5 0 0 1 2.404 2.403c.255.502.42 1.147.509 2.222.089 1.092.09 2.49.09 4.475v6.6c0 1.985-.001 3.383-.09 4.476-.088 1.074-.254 1.719-.51 2.221a5.5 5.5 0 0 1-2.403 2.404c-.502.255-1.147.42-2.222.509-1.092.089-2.49.09-4.475.09H20.7c-1.985 0-3.383-.001-4.475-.09-1.075-.088-1.72-.254-2.222-.51a5.5 5.5 0 0 1-2.404-2.403c-.255-.502-.42-1.147-.509-2.222-.089-1.092-.09-2.49-.09-4.475v-6.6c0-1.985.001-3.383.09-4.475.088-1.075.254-1.72.51-2.222a5.5 5.5 0 0 1 2.403-2.404z" clip-rule="evenodd" /></g></symbol>',56,56,!1,void 0)},839123:(e,t,o)=>{"use strict";o.d(t,{Icon56SettingsOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56SettingsOutline","settings_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 56 56" id="settings_outline_56"><path fill-rule="evenodd" d="M37.004 28.152c0 4.96-4.03 8.98-9.001 8.98-4.971 0-9.001-4.02-9.001-8.98 0-4.96 4.03-8.98 9-8.98 4.972 0 9.002 4.02 9.002 8.98Zm-9.001 5.987c3.314 0 6-2.68 6-5.987 0-3.306-2.686-5.987-6-5.987s-6.001 2.68-6.001 5.987 2.687 5.987 6 5.987Z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M29.265 4.005c-.798 0-1.598.017-2.396-.002-.41-.01-1.849-.044-3.058.923-1.186.949-1.628 2.398-1.895 3.463a10.3 10.3 0 0 1-.884 2.233c-.841.334-1.652.727-2.428 1.173a10.265 10.265 0 0 1-2.22-.704c-.996-.463-2.403-1.034-3.89-.708-1.514.33-2.392 1.469-2.642 1.793a48.31 48.31 0 0 1-1.427 1.76c-.266.314-1.194 1.407-1.204 2.95-.009 1.516.839 2.77 1.5 3.649.407.54.86 1.32 1.209 2.162a18.752 18.752 0 0 0-.582 2.561c-.672.59-1.406 1.08-1.997 1.381-.98.5-2.294 1.257-2.951 2.625-.669 1.391-.314 2.78-.212 3.177.187.731.358 1.47.51 2.209.083.4.373 1.806 1.586 2.764 1.193.944 2.707 1.048 3.807 1.068.65.012 1.504.127 2.352.353.51.742 1.072 1.445 1.681 2.104.028.872-.052 1.724-.186 2.356-.228 1.074-.465 2.569.184 3.94.662 1.396 1.968 1.995 2.34 2.166.686.315 1.368.647 2.038.994.364.188 1.643.85 3.155.51 1.485-.334 2.519-1.444 3.225-2.284a10.326 10.326 0 0 1 1.816-1.65c.864.06 1.75.06 2.614 0a10.33 10.33 0 0 1 1.815 1.65c.707.84 1.74 1.95 3.225 2.284 1.513.34 2.791-.322 3.155-.51.67-.347 1.352-.679 2.038-.994.373-.17 1.679-.77 2.34-2.166.65-1.371.412-2.866.184-3.94a10.283 10.283 0 0 1-.186-2.356 18.833 18.833 0 0 0 1.681-2.104 10.29 10.29 0 0 1 2.353-.353c1.099-.02 2.614-.124 3.807-1.068 1.213-.958 1.502-2.364 1.585-2.764.153-.74.323-1.478.51-2.209.102-.397.457-1.786-.211-3.177-.658-1.368-1.972-2.125-2.951-2.625a10.313 10.313 0 0 1-1.998-1.38 18.78 18.78 0 0 0-.581-2.562 10.34 10.34 0 0 1 1.208-2.162c.662-.878 1.509-2.133 1.5-3.65-.01-1.542-.938-2.635-1.204-2.948a48.17 48.17 0 0 1-1.427-1.761c-.25-.324-1.128-1.462-2.641-1.793-1.487-.325-2.895.245-3.891.708a10.25 10.25 0 0 1-2.22.704 18.81 18.81 0 0 0-2.428-1.173 10.3 10.3 0 0 1-.884-2.233c-.256-1.024-.666-2.348-1.683-3.281-1.192-1.094-2.595-1.1-3.098-1.103h-.043Zm8.892 42.739-1.902.927c-.952.464-1.427.696-2.83-.974-.788-.936-2.02-2.026-3.367-2.806a16.262 16.262 0 0 1-4.11 0c-1.348.78-2.58 1.87-3.367 2.806-1.403 1.67-1.88 1.438-2.83.974l-1.903-.927c-.951-.464-1.427-.696-.974-2.83.249-1.175.35-2.779.15-4.297a15.941 15.941 0 0 1-2.64-3.302c-1.439-.54-3.033-.804-4.24-.826-2.18-.04-2.3-.555-2.538-1.585l-.476-2.062c-.238-1.03-.357-1.546 1.586-2.537 1.085-.554 2.418-1.503 3.48-2.633.129-1.396.44-2.74.907-4.009-.457-1.494-1.245-2.946-1.983-3.926-1.312-1.743-.98-2.154-.313-2.976l1.332-1.644c.666-.822 1-1.233 2.977-.313 1.084.504 2.615.962 4.133 1.111a15.814 15.814 0 0 1 3.81-1.843c.855-1.284 1.475-2.784 1.768-3.959.53-2.115 1.059-2.115 2.117-2.115h2.299c.939.007 1.437.124 1.935 2.115.294 1.175.913 2.675 1.769 3.959 1.36.445 2.64 1.069 3.81 1.843 1.517-.15 3.048-.607 4.132-1.111 1.978-.92 2.311-.51 2.977.313l1.332 1.644c.666.822 1 1.233-.313 2.976-.738.98-1.526 2.432-1.983 3.927a15.77 15.77 0 0 1 .908 4.008c1.062 1.13 2.394 2.08 3.479 2.633 1.943.991 1.824 1.506 1.586 2.537l-.476 2.062c-.238 1.03-.357 1.546-2.538 1.585-1.207.022-2.8.286-4.24.826a15.938 15.938 0 0 1-2.64 3.302c-.2 1.518-.098 3.122.15 4.298.453 2.133-.023 2.365-.974 2.829" clip-rule="evenodd" /></symbol>',56,56,!1,void 0)},9752:(e,t,o)=>{"use strict";o.d(t,{Icon56UsersOutline:()=>r});var r=(0,o(28178).makeIcon)("Icon56UsersOutline","users_outline_56","0 0 56 56",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="users_outline_56"><g fill="none" fill-rule="evenodd"><path d="M0 0h56v56H0z" /><path fill="currentColor" fill-rule="nonzero" d="M39.5 31c5.609 0 10.5 2.699 10.5 8 0 2.625-1.833 4-4 4h-8.5a1.5 1.5 0 0 1 0-3H46c.667 0 1-.25 1-1 0-3.164-3.328-5-7.5-5-.71 0-1.482.07-2.226.208a1.5 1.5 0 1 1-.548-2.95A15.385 15.385 0 0 1 39.5 31m-19-2c7.356 0 13.5 2.836 13.5 9 0 3.078-1.922 5-4.5 5h-18C8.814 43 7 41.59 7 38.5c0-6.545 6.065-9.5 13.5-9.5m0 3C14.514 32 10 34.2 10 38.5c0 1.244.33 1.5 1.5 1.5h18c.922 0 1.5-.578 1.5-2 0-3.874-4.606-6-10.5-6M39 15a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13m-18.5-4a7.5 7.5 0 1 1 0 15 7.5 7.5 0 0 1 0-15M39 18a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7m-18.5-4a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9" /></g></symbol>',56,56,!1,void 0)},58255:(e,t,o)=>{"use strict";o.d(t,{default:()=>n});var r=o(111132);function n(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},111132:(e,t,o)=>{"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}o.d(t,{default:()=>r})},374277:(e,t,o)=>{"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}o.d(t,{default:()=>n})},759244:()=>{},963328:()=>{},98264:()=>{},403658:()=>{},861848:()=>{},458327:()=>{},80510:()=>{},238931:()=>{},380283:()=>{},320428:()=>{},419308:()=>{},814106:()=>{},181876:()=>{},335106:()=>{},704107:()=>{},128831:()=>{},402752:()=>{},668908:()=>{},170490:()=>{},393999:()=>{},895593:()=>{},351667:()=>{},528098:()=>{},974580:()=>{},936021:()=>{},97839:()=>{},628392:()=>{},241676:()=>{},501954:()=>{},848056:()=>{},833249:()=>{},417819:()=>{},152440:()=>{},450390:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={banner:"AvatarSuggestionRow-module__banner--eGRGM",character:"AvatarSuggestionRow-module__character--KkvTP",placeholder:"AvatarSuggestionRow-module__placeholder--KSNYt"}},777459:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={emoji:"Emoji-module__emoji--TaIGF"}},808209:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={item:"EmojiItem-module__item--uN2hU",itemActive:"EmojiItem-module__itemActive--ki278"}},473684:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={keyboard:"EmojiKeyboard-module__keyboard--S0TS4",scroll:"EmojiKeyboard-module__scroll--Z6QkW",in:"EmojiKeyboard-module__in--uXIEN",item:"EmojiKeyboard-module__item--WospX",itemHeader:"EmojiKeyboard-module__itemHeader--U9ggI"}},791677:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={header:"EmojiKeyboardHeader-module__header--TVWvF",headerWide:"EmojiKeyboardHeader-module__headerWide--e3DNC",headerRegular:"EmojiKeyboardHeader-module__headerRegular--yGl2Q",headerAdaptive:"EmojiKeyboardHeader-module__headerAdaptive--tCJxs",headerCompact:"EmojiKeyboardHeader-module__headerCompact--UVbey",title:"EmojiKeyboardHeader-module__title--PiK_M"}},327503:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={row:"EmojiKeyboardRow-module__row--p_0Uh",rowWide:"EmojiKeyboardRow-module__rowWide--GoPtY",rowRegular:"EmojiKeyboardRow-module__rowRegular--vJoFW",rowAdaptive:"EmojiKeyboardRow-module__rowAdaptive--WgL5l",rowCompact:"EmojiKeyboardRow-module__rowCompact--NII_p",emoji:"EmojiKeyboardRow-module__emoji--zhit4"}},792704:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={skeleton:"Skeleton-module__skeleton--qYHhs"}},419928:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={keyboard:"StickersEmojiKeyboard-module__keyboard--NDNV7",keyboardWide:"StickersEmojiKeyboard-module__keyboardWide--EQCpB",keyboardCompact:"StickersEmojiKeyboard-module__keyboardCompact--fap13",keyboardRegular:"StickersEmojiKeyboard-module__keyboardRegular--gcobA",keyboardAdaptive:"StickersEmojiKeyboard-module__keyboardAdaptive--uuxWL",in:"StickersEmojiKeyboard-module__in--GCR5_"}},585851:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={keyboard:"StickersKeyboard-module__keyboard--HhSGu",scroll:"StickersKeyboard-module__scroll--B3uRG",scrollDisabled:"StickersKeyboard-module__scrollDisabled--eFR0P",in:"StickersKeyboard-module__in--SrA5_",item:"StickersKeyboard-module__item--RVgIo",itemHeader:"StickersKeyboard-module__itemHeader--UiOMF"}},87613:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={group:"StickersKeyboardGroup-module__group--SaD_D",groupActive:"StickersKeyboardGroup-module__groupActive--FCxnW",groupHidden:"StickersKeyboardGroup-module__groupHidden--oelXz",item:"StickersKeyboardGroup-module__item--kWotN"}},371300:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={in:"StickersKeyboardGroupItem-module__in--CKjkC",inPlaceholder:"StickersKeyboardGroupItem-module__inPlaceholder--nDIkG",inActive:"StickersKeyboardGroupItem-module__inActive--iqstp",inHidden:"StickersKeyboardGroupItem-module__inHidden--LDS5f",icon:"StickersKeyboardGroupItem-module__icon--XsoKM",iconService:"StickersKeyboardGroupItem-module__iconService--v_5Us",inIndicator:"StickersKeyboardGroupItem-module__inIndicator--qfChl",inIndicatorRed:"StickersKeyboardGroupItem-module__inIndicatorRed--mfiwZ",inIndicatorGray:"StickersKeyboardGroupItem-module__inIndicatorGray--nmH3R",tooltip:"StickersKeyboardGroupItem-module__tooltip--k5ROd"}},127509:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={button:"ShopButton-module__button--dpi8u"}},396893:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={groups:"StickersKeyboardGroups-module__groups--D_rpD",container:"StickersKeyboardGroups-module__container--qnM6L",in:"StickersKeyboardGroups-module__in--LGJQC",items:"StickersKeyboardGroups-module__items--yuHSj",group:"StickersKeyboardGroups-module__group--jgk6H",groupIn:"StickersKeyboardGroups-module__groupIn--Rl88a",chevron:"StickersKeyboardGroups-module__chevron--bVU_v",shadow:"StickersKeyboardGroups-module__shadow--_mze3",groupsForced:"StickersKeyboardGroups-module__groupsForced--JQmGC",shadowVisible:"StickersKeyboardGroups-module__shadowVisible--QazqK",shadowLeft:"StickersKeyboardGroups-module__shadowLeft--Af04P",shadowRight:"StickersKeyboardGroups-module__shadowRight--uhxM3",chevronActive:"StickersKeyboardGroups-module__chevronActive--iEtYU",chevronLeft:"StickersKeyboardGroups-module__chevronLeft--HV3LI",chevronRight:"StickersKeyboardGroups-module__chevronRight--W2OoP"}},440652:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={peer:"GiftButton-module__peer--Roaf8"}},711857:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={tooltip:"PeerInfo-module__tooltip--oh4tT",text:"PeerInfo-module__text--e0b2H",icon:"PeerInfo-module__icon--IHiet"}},344786:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={header:"StickersKeyboardHeader-module__header--xV4wQ",headerWide:"StickersKeyboardHeader-module__headerWide--zmtrG",headerRegular:"StickersKeyboardHeader-module__headerRegular--qtnWn",headerAdaptive:"StickersKeyboardHeader-module__headerAdaptive--ovPUg",headerCompact:"StickersKeyboardHeader-module__headerCompact--Jtngb",headerAside:"StickersKeyboardHeader-module__headerAside--baqTV",title:"StickersKeyboardHeader-module__title--KIn6h",icon:"StickersKeyboardHeader-module__icon--xG3gi"}},926904:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={icon:"StyleSettingsButton-module__icon--kV7Xh"}},144295:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={tooltip:"Tooltip-module__tooltip--hXKeG",icon:"Tooltip-module__icon--r0CMV"}},692531:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={brush:"VmojiEditButton-module__brush--ePe_r",counter:"VmojiEditButton-module__counter--pQbPl"}},310690:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={row:"StickersKeyboardRow-module__row--rSTw0",rowWide:"StickersKeyboardRow-module__rowWide--SqyXn",rowRegular:"StickersKeyboardRow-module__rowRegular--OrVVI",rowAdaptive:"StickersKeyboardRow-module__rowAdaptive--oty8d",rowCompact:"StickersKeyboardRow-module__rowCompact--RdH0D",rowStickers:"StickersKeyboardRow-module__rowStickers--yfhOE",sticker:"StickersKeyboardRow-module__sticker--m7W0R"}},319972:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={card:"StickersKeyboardRowCard-module__card--mjZxc",hide:"StickersKeyboardRowCard-module__hide--wJMEC",image:"StickersKeyboardRowCard-module__image--AOl2R",title:"StickersKeyboardRowCard-module__title--d7X63",action:"StickersKeyboardRowCard-module__action--WLWqS"}},356238:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={tabbar:"Tabbar-module__tabbar--BM4FY",item:"Tabbar-module__item--go6yE"}},425061:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={item:"TabbarItem-module__item--ZNNPf",itemActive:"TabbarItem-module__itemActive--V_wMj",indicator:"TabbarItem-module__indicator--_3TfR",indicatorNone:"TabbarItem-module__indicatorNone--WNOVV",indicatorPrimary:"TabbarItem-module__indicatorPrimary--AnXZT",indicatorSecondary:"TabbarItem-module__indicatorSecondary--tycLm",indicatorDestructive:"TabbarItem-module__indicatorDestructive--SFvfQ"}},469872:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={view:"View-module__view--D7qOP",panel:"View-module__panel--WNKKi",panelSwitched:"View-module__panelSwitched--hg3jP"}},634268:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={sticker:"Sticker-module__sticker--CtZU6",placeholder:"Sticker-module__placeholder--5PW3m",in:"Sticker-module__in--pEnhZ",tappable:"Sticker-module__tappable--M4lob",content:"Sticker-module__content--MQWSP",disabled:"Sticker-module__disabled--cK_tc",favorite:"Sticker-module__favorite--Xqlbr"}},881157:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={favorite:"FavoriteButton-module__favorite--jHzWm",active:"FavoriteButton-module__active--aUeeT"}},705622:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={overlay:"Overlay-module__overlay--YyHpH",description:"Overlay-module__description--HYAuF"}},635800:function(e,t,o){!function(e,t){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var r=o(t);function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}var i=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,o){return!Object.is(e,t[o])}))},s={error:null},l=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state=s,t.resetErrorBoundary=function(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}a(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var o=t.prototype;return o.reset=function(){this.setState(s)},o.componentDidCatch=function(e,t){var o,r;null==(o=(r=this.props).onError)||o.call(r,e,t)},o.componentDidUpdate=function(e,t){var o,r,n=this.state.error,a=this.props.resetKeys;null!==n&&null!==t.error&&i(e.resetKeys,a)&&(null==(o=(r=this.props).onResetKeysChange)||o.call(r,e.resetKeys,a),this.reset())},o.render=function(){var e=this.state.error,t=this.props,o=t.fallbackRender,n=t.FallbackComponent,a=t.fallback;if(null!==e){var i={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(a))return a;if("function"==typeof o)return o(i);if(n)return r.createElement(n,i);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);function c(e,t){var o=function(o){return r.createElement(l,t,r.createElement(e,o))},n=e.displayName||e.name||"Unknown";return o.displayName="withErrorBoundary("+n+")",o}function d(e){var t=r.useState(null),o=t[0],n=t[1];if(null!=e)throw e;if(null!=o)throw o;return n}e.ErrorBoundary=l,e.useErrorHandler=d,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,o(667294))},429697:(e,t,o)=>{"use strict";o.d(t,{default:()=>h});var r=o(487462),n=o(263366),a=o(894578),i=o(58255),s=o(374277),l=o(667294),c=o(696630),d=o(559391),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))},m=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,o){var r=t.resolveArguments(e,o),n=r[0],a=r[1];t.removeClasses(n,"exit"),t.addClass(n,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,o)},t.onEntering=function(e,o){var r=t.resolveArguments(e,o),n=r[0],a=r[1]?"appear":"enter";t.addClass(n,a,"active"),t.props.onEntering&&t.props.onEntering(e,o)},t.onEntered=function(e,o){var r=t.resolveArguments(e,o),n=r[0],a=r[1]?"appear":"enter";t.removeClasses(n,a),t.addClass(n,a,"done"),t.props.onEntered&&t.props.onEntered(e,o)},t.onExit=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"appear"),t.removeClasses(o,"enter"),t.addClass(o,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var o=t.resolveArguments(e)[0];t.addClass(o,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var o=t.resolveArguments(e)[0];t.removeClasses(o,"exit"),t.addClass(o,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,o){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,o]},t.getClassNames=function(e){var o=t.props.classNames,r="string"==typeof o,n=r?""+(r&&o?o+"-":"")+e:o[e];return{baseClassName:n,activeClassName:r?n+"-active":o[e+"Active"],doneClassName:r?n+"-done":o[e+"Done"]}},t}(0,a.default)(t,e);var o=t.prototype;return o.addClass=function(e,t,o){var r=this.getClassNames(t)[o+"ClassName"],n=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===o&&n&&(r+=" "+n),"active"===o&&e&&(0,d.forceReflow)(e),r&&(this.appliedClasses[t][o]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))}(e,r))},o.removeClasses=function(e,t){var o=this.appliedClasses[t],r=o.base,n=o.active,a=o.done;this.appliedClasses[t]={},r&&u(e,r),n&&u(e,n),a&&u(e,a)},o.render=function(){var e=this.props,t=(e.classNames,(0,n.default)(e,["classNames"]));return l.createElement(c.default,(0,r.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);m.defaultProps={classNames:""},m.propTypes={};const h=m},696630:(e,t,o)=>{"use strict";o.d(t,{default:()=>g});var r=o(263366),n=o(894578),a=o(667294),i=o(973935),s=o(806035),l=o(500220),c=o(559391),d="unmounted",u="exited",m="entering",h="entered",v="exiting",p=function(e){function t(t,o){var r;r=e.call(this,t,o)||this;var n,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(n=u,r.appearStatus=m):n=h:n=t.unmountOnExit||t.mountOnEnter?d:u,r.state={status:n},r.nextCallback=null,r}(0,n.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:u}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var o=this.state.status;this.props.in?o!==m&&o!==h&&(t=m):o!==m&&o!==h||(t=v)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,o,r=this.props.timeout;return e=t=o=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,o=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:o}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===m){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);o&&(0,c.forceReflow)(o)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:d})},o.performEnter=function(e){var t=this,o=this.props.enter,r=this.context?this.context.isMounting:e,n=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=n[0],l=n[1],c=this.getTimeouts(),d=r?c.appear:c.enter;!e&&!o||s.default.disabled?this.safeSetState({status:h},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,l),this.safeSetState({status:m},(function(){t.props.onEntering(a,l),t.onTransitionEnd(d,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(a,l)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!s.default.disabled?(this.props.onExit(r),this.safeSetState({status:v},(function(){e.props.onExiting(r),e.onTransitionEnd(o.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,o=!0;return this.nextCallback=function(r){o&&(o=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(o&&!r){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],a=n[0],s=n[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,o=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(l.default.Provider,{value:null},"function"==typeof o?o(e,n):a.cloneElement(a.Children.only(o),n))},t}(a.Component);function f(){}p.contextType=l.default,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},p.UNMOUNTED=d,p.EXITED=u,p.ENTERING=m,p.ENTERED=h,p.EXITING=v;const g=p},500220:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r=o(667294).createContext(null)},806035:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});const r={disabled:!1}},559391:(e,t,o)=>{"use strict";o.d(t,{forceReflow:()=>r});var r=function(e){return e.scrollTop}},15080:(e,t,o)=>{"use strict";o.d(t,{createModule:()=>i,createMutations:()=>a,destroyModule:()=>s});var r=o(850989),n=o(953908);function a(e){return{callMutations(){if("function"==typeof e)throw console.trace(),new Error("Mutations are not initialized");return e},bindMutations(...t){if("function"!=typeof e)throw console.trace(),new Error("Mutations are already initialized");return e=e(...t)}}}function i(e){const t={_registeredHandlers:[]};return e.handlers(((...e)=>function(e,t,o,r){(0,n.addEvent)(t,o,r),e._registeredHandlers.push({handlerType:"bind",elem:t,types:o,handler:r})}(t,...e)),((...e)=>function(e,t,o,n,a,i){(0,r.addDelegateEvent)(t,o,n,a,i),e._registeredHandlers.push({handlerType:"delegate",elem:t,types:o,selector:n,handler:a})}(t,...e))),t}function s(e){e._registeredHandlers.forEach((e=>{const{handlerType:t,elem:o,types:a,handler:i}=e;"delegate"===t?(0,r.removeDelegateEvent)(o,a,e.selector,i):(0,n.removeEvent)(o,a,i)})),e._registeredHandlers=[]}},364517:(e,t,o)=>{"use strict";o.d(t,{Scroll:()=>l});var r=o(434788),n=o(820224),a=o(785893),i=o(286049),s=o(2914);const l=e=>{var{children:t}=e,o=(0,n._)(e,["children"]);return(0,a.jsx)(i.ScrollContext.Provider,{value:{createScroll:s.createScroll},children:(0,a.jsx)(i.Scroll,(0,r._)({},o,{children:t}))})};l.defaultProps={isNative:!1,isShadows:!1,neverHide:!1}},364922:(e,t,o)=>{"use strict";o.d(t,{Cache:()=>l});var r,n,a,i=o(11010),s=o(891047);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(n||(n={})),function(e){e.HELP_HINTS="helpHints"}(a||(a={}));class l{getHelpHints(){return this.getItem(a.HELP_HINTS)}setHelpHints(e){return this.setItem(a.HELP_HINTS,e)}clear(){return(0,s.clear)(this.store)}getItem(e){var t=this;return(0,i._)((function*(){const o=t.buildItemKey(e),r=l.cache.get(o);return(0,s.get)(o,t.store).then((e=>e||r)).catch((()=>r))}))()}setItem(e,t){var o=this;return(0,i._)((function*(){const r=o.buildItemKey(e);l.cache.set(r,t),yield(0,s.set)(r,t,o.store).catch((()=>{}))}))()}deleteItem(e){const t=this.buildItemKey(e);return(0,s.del)(t,this.store)}buildItemKey(e){return`${e}-${l.VERSION}-${this.userId}`}getItemSync(e,t){const o=this.buildSyncItemKey(e);try{let e=localStorage.getItem(o);if(!e)return;switch(t){case n.OBJECT:try{e=JSON.parse(e)}catch(e){return}break;case n.NUMBER:e=Number(e)||0;break;case n.STRING_NUMBER:e=Number(e)||e;break;case n.BOOLEAN:e=Boolean(Number(e))}return e}catch(e){return l.cache.get(o)}}setItemSync(e,t,o){const r=this.buildSyncItemKey(e);switch(o){case n.OBJECT:t=JSON.stringify(t);break;case n.BOOLEAN:t=String(Number(t))}try{localStorage.setItem(r,t)}catch(e){l.cache.set(r,t)}}buildSyncItemKey(e){return`${l.DB_NAME}_${e}_${l.VERSION}_${this.userId}`}constructor({userId:e=(null==(r=window.vk)?void 0:r.id),categories:t}={}){var o;this.userId=e||0;let n="cache";(null==(o=t)?void 0:o.length)&&(n=`${n}-${t.join("-")}`),this.store=(0,s.createStore)(l.DB_NAME,n)}}l.DB_NAME="help-hints",l.VERSION=1,l.CACHE_UPDATE_EVENT_NAME=`${l.DB_NAME}_cache_update`,l.cache=new Map},960644:(e,t,o)=>{"use strict";o.d(t,{HelpHintsProvider:()=>d});var r=o(11010),n=o(434788),a=o(820224),i=o(785893),s=o(667294),l=o(179153),c=o(16045);function d(e){var{api:t,noToken:o}=e,d=(0,a._)(e,["api","noToken"]);const[u,m]=(0,s.useState)(!0),h=(0,r._)((function*(){m(!0),yield l.HelpHints.reload(),m(!1)}));return(0,s.useEffect)((()=>{t&&(l.HelpHints.setAPI(t),o&&!t.options.token&&"function"!=typeof t.options.requestMethod)||h()}),[t,o]),(0,i.jsx)(c.HelpHintsContext.Provider,(0,n._)({value:{isHelpHintsReloading:u}},d))}},992983:(e,t,o)=>{"use strict";o.d(t,{HelpHint:()=>r});class r{get id(){return this.hint.id}get title(){return this.hint.title}get description(){return this.hint.description}getResource(e){var t,o;return null==(o=this.hint.resources)||null==(t=o.find((({key:t})=>t===e)))?void 0:t.value}constructor(e){this.hint=e}}},450084:(e,t,o)=>{"use strict";o.d(t,{useHelpHint:()=>i});var r=o(667294),n=o(179153),a=o(16045);function i(e){const{isHelpHintsReloading:t}=(0,a.useHelpHints)();return(0,r.useMemo)((()=>{if(e)return n.HelpHints.getSync(e)}),[t])}},951436:(e,t,o)=>{"use strict";o.d(t,{useHelpHintResource:()=>i});var r=o(667294),n=o(179153),a=o(16045);function i(e,t){const{isHelpHintsReloading:o}=(0,a.useHelpHints)();return(0,r.useMemo)((()=>{var o;if(e&&t)return null==(o=n.HelpHints.getSync(e))?void 0:o.getResource(t)}),[e,t,o])}},16045:(e,t,o)=>{"use strict";o.d(t,{HelpHintsContext:()=>n,useHelpHints:()=>a});var r=o(667294);const n=(0,r.createContext)({});function a(){return(0,r.useContext)(n)}},179153:(e,t,o)=>{"use strict";o.d(t,{HelpHints:()=>d});var r=o(11010),n=o(434788),a=o(964548),i=o(599809),s=o(992983),l=o(364922),c=o(362884);class d{static setAPI(e){this.api=e}static setUserId(e){this.cacheOptions.userId=e,this.cache=void 0}static setCategories(e){Array.isArray(e)||(e=[e]),this.cacheOptions.categories=e,this.cache=void 0}static get(e){var t=this;return(0,r._)((function*(){return yield t.reload(),t.getSync(e)}))()}static getSync(e){var t;const o=null==(t=this.helpHints)?void 0:t.items.find((({id:t})=>t===e));if(o)return new s.HelpHint(o)}static show(e){return e instanceof s.HelpHint&&(e=e.id),this.api.account.showHelpHint({hint_id:e})}static hide(e){var t=this;return(0,r._)((function*(){e instanceof s.HelpHint&&(e=e.id);let o=!1;var r;(yield t.reloading,t.helpHints)&&(t.helpHints.items=t.helpHints.items.filter((({id:t})=>(t===e&&(o=!0),t!==e))),null==(r=t.cache)||r.setHelpHints(t.helpHints));return o?t.api.account.hideHelpHint({hint_id:e}):Promise.resolve()}))()}static getResource(e,t){var o=this;return(0,r._)((function*(){const r=yield o.get(e);if(r)return r.getResource(t)}))()}static reload(){var e=this;return(0,r._)((function*(){return yield e.reloading,e.cache||(e.cache=new l.Cache(e.cacheOptions)),e.reloading=new Promise((0,r._)((function*(t){var o,i;if(!e.api.options.token&&"function"!=typeof e.api.options.requestMethod){const o=yield e.getAccessToken();if(!o)return t();e.api=new a.API({token:o}),e.api.onTokenRegenerate((0,r._)((function*(o){const r=yield e.getAccessToken();if(!r)return t();o(r)})))}if(e.helpHints=yield null==(o=e.cache)?void 0:o.getHelpHints(),e.helpHints&&Date.now()-e.helpHints.date<c.TEN_MINUTES&&!e.isDevMode())return t();const{categories:s}=e.cacheOptions;e.helpHints=yield e.api.account.getHelpHints({categories:s?String(s):void 0}).then((e=>(0,n._)({},e,{date:Date.now()}))).catch((()=>{})),yield null==(i=e.cache)?void 0:i.setHelpHints(e.helpHints),e.refresh(),t()}))),e.reloading}))()}static refresh(){try{localStorage.setItem(l.Cache.CACHE_UPDATE_EVENT_NAME,""),localStorage.removeItem(l.Cache.CACHE_UPDATE_EVENT_NAME)}catch(e){}}static getAccessToken(){return(0,r._)((function*(){const e=yield(0,i.login)("web_token").catch((()=>{}));if(!e)return;const{access_token:t}=e;return t}))()}}d.api=new a.API({token:""}),d.cacheOptions={},d.reloading=Promise.resolve(),d.isDevMode=()=>localStorage.getItem("help-hints-dev"),window.addEventListener("storage",(({key:e,newValue:t})=>{e===l.Cache.CACHE_UPDATE_EVENT_NAME&&null!==t&&d.reload()}))},874695:(e,t,o)=>{"use strict";var r,n;o.d(t,{HelpHintId:()=>n}),function(e){e.DEFAULT="default",e.STICKERS_UGC="stickers_ugc"}(r||(r={})),function(e){e.KEYBOARD_STICKERS_VMOJI="keyboard:stickers_vmoji",e.POSTING_POST_FEED_BADGES="posting:post_feed_badges",e.POSTING_POST_BADGES_ONBOARDING="posting:post_badges_onboarding",e.POSTING_POST_FEED_BADGES_UNSEEN="posting:post_feed_badges_unseen",e.POSTING_POST_BADGES_PAGE_UNSEEN="posting:post_badges_page_unseen",e.POSTING_POST_BADGES_CATALOG_USER="posting:post_badges_catalog_user",e.POSTING_POST_BADGES_FEEDBACK_USER="posting:post_badges_feedback_user",e.POSTING_POST_BADGES_FEEDBACK_USER_UNSEEN="posting:post_badges_feedback_user_unseen",e.STICKERS_UGC_SETTINGS_UNSEEN="stickers:ugc_settings_unseen",e.STICKERS_UGC_KEYBOARD_ONBOARDING="stickers:ugc_keyboard_onboarding",e.STICKERS_UGC_APP_ONBOARDING_MODAL="stickers:ugc_app_onboarding_modal",e.STICKERS_UGC_KEYBOARD_ONBOARDING_TOOLTIP="stickers:ugc_keyboard_onboarding_tooltip"}(n||(n={}))},434107:(e,t,o)=>{"use strict";var r;o.d(t,{KeyboardStickersVmojiResourceKey:()=>r}),function(e){e.VMOJI_ON_BOARDING_DARK="vmoji_kb_onboarding_dark",e.VMOJI_ON_BOARDING_LIGHT="vmoji_kb_onboarding_light"}(r||(r={}))},69314:(e,t,o)=>{"use strict";var r,n;o.d(t,{StickersUGCKeyboardOnboardingResourceKey:()=>n}),function(e){e.CLOSE="close",e.IMAGE="image"}(r||(r={})),function(e){e.IMAGE="image"}(n||(n={}))},362884:(e,t,o)=>{"use strict";o.d(t,{TEN_MINUTES:()=>r});const r=6e5},13558:(e,t,o)=>{"use strict";o.d(t,{Content:()=>s});var r=o(434788),n=o(820224),a=o(785893),i=o(667294);const s=(0,i.memo)((0,i.forwardRef)(((e,t)=>{var{children:o}=e,i=(0,n._)(e,["children"]);return(0,a.jsx)("div",(0,r._)({ref:t},i,{children:o}))})));s.displayName="Content"},848091:(e,t,o)=>{"use strict";o.d(t,{Cropped:()=>s});var r=o(434788),n=o(820224),a=o(785893),i=o(667294);const s=(0,i.memo)((0,i.forwardRef)(((e,t)=>{var{children:o,style:i={}}=e,s=(0,n._)(e,["children","style"]);return(0,a.jsx)("div",(0,r._)({ref:t,style:(0,r._)({},l,i)},s,{"data-scrollbar":"cropped",children:o}))})));s.displayName="Cropped";const l={position:"relative",width:"100%",height:"100%",overflow:"hidden"}},303892:(e,t,o)=>{"use strict";o.d(t,{Scrollable:()=>s});var r=o(434788),n=o(820224),a=o(785893),i=o(667294);const s=(0,i.memo)((0,i.forwardRef)(((e,t)=>{var{children:o}=e,i=(0,n._)(e,["children"]);return(0,a.jsx)("div",(0,r._)({ref:t},i,{children:o}))})));s.displayName="Scrollable"},443505:(e,t,o)=>{"use strict";o.d(t,{ScrollbarProvider:()=>g});var r=o(434788),n=o(820224),a=o(785893),i=o(667294),s=o(13558),l=o(848091),c=o(303892),d=o(692508),u=o(78072),m=o(327074),h=o(870689),v=o(217134),p=o(688066),f=o(203609);const g=(0,i.memo)((0,i.forwardRef)(((e,t)=>{var{children:o,scrollableProps:g,contentProps:_,overflowX:b,overflowY:k,forceVisible:E,minBarSize:y=25,maxBarSize:w=0,clickOnTrack:C=!0}=e,I=(0,n._)(e,["children","scrollableProps","contentProps","overflowX","overflowY","forceVisible","minBarSize","maxBarSize","clickOnTrack"]);const S=(0,i.useRef)({overflowX:b,overflowY:k,forceVisible:E,minBarSize:y,maxBarSize:w,clickOnTrack:C});S.current={overflowX:b,overflowY:k,forceVisible:E,minBarSize:y,maxBarSize:w,clickOnTrack:C};const A=(0,i.useRef)(null),[x,M]=(0,i.useState)(0),[P,R]=(0,i.useState)(!0),[N,T]=(0,i.useState)(!0),O=(0,i.useRef)(null),j=(0,i.useRef)({content:{width:0,height:0,scrollWidth:0,scrollHeight:0},cropped:{width:0,height:0,offsetWidth:0,offsetHeight:0},scrollable:{scrollLeft:0,scrollTop:0}}),L=(0,i.useRef)((()=>{const{content:e,cropped:t,scrollable:o}=j.current,{minBarSize:r,maxBarSize:n,overflowX:a,overflowY:i}=S.current,s={min:r,max:n};if("hidden"!==a){var l,c,d,u;const{size:r,position:n}=(0,p.calculateThumbStyles)(o.scrollLeft,t.width,e.width,s);R(e.scrollWidth>t.offsetWidth&&r<t.offsetWidth),null==(c=O.current)||null==(l=c.setWidth)||l.call(c,r),null==(u=O.current)||null==(d=u.setX)||d.call(u,n)}if("hidden"!==i){var m,h,v,f;const{size:r,position:n}=(0,p.calculateThumbStyles)(o.scrollTop,t.height,e.height,s);T(e.scrollHeight>t.offsetHeight&&r<t.offsetHeight),null==(h=O.current)||null==(m=h.setHeight)||m.call(h,r),null==(f=O.current)||null==(v=f.setY)||v.call(f,n)}})),B=(0,i.useCallback)((e=>{if(e.target instanceof HTMLDivElement){const{scrollTop:t,scrollLeft:o}=e.target;Object.assign(j.current.scrollable,{scrollLeft:o,scrollTop:t}),L.current()}}),[]),V=(0,i.useRef)(null),D=(0,i.useMemo)((()=>{var e;return(0,r._)({},g,{style:(0,r._)({},(0,v.applyScrollableStyles)(x,{overflowY:k,overflowX:b}),null==(e=g)?void 0:e.style),ref:e=>{var t;V.current=e,(0,h.applyRefValueMutation)(null==(t=g)?void 0:t.ref,e),M((0,f.getNativeScrollbarWidth)(e))}})}),[x,b,k,g]),K=(0,i.useRef)(null),H=(0,i.useMemo)((()=>{var e;return(0,r._)({},_,{style:(0,r._)({},(0,m.applyContentStyles)({overflowX:b,overflowY:k}),null==(e=_)?void 0:e.style),ref:e=>{var t;K.current=e,(0,h.applyRefValueMutation)(null==(t=_)?void 0:t.ref,e)}})}),[_,b,k]),{observe:U}=(0,u.useResizeObserver)(),G=(0,i.useCallback)((e=>t=>{if(!t)return;const{height:o,width:r}=t.contentRect;if("cropped"===e&&(Object.assign(j.current.cropped,{width:r,height:o}),t.target instanceof HTMLElement)){const{offsetHeight:e,offsetWidth:o}=t.target;Object.assign(j.current.cropped,{offsetWidth:o,offsetHeight:e})}if("content"===e&&(Object.assign(j.current.content,{width:r,height:o}),t.target instanceof HTMLElement)){const{scrollWidth:e,scrollHeight:o}=t.target;Object.assign(j.current.content,{scrollWidth:e,scrollHeight:o})}L.current()}),[]);(0,i.useEffect)((()=>{const e=A.current;if(e)return U(e,G("cropped"))}),[G,U]),(0,i.useEffect)((()=>{const e=K.current;if(e)return U(e,G("content"))}),[G,U]);const $=(0,i.useRef)(null),F=(0,i.useCallback)((e=>{$.current||($.current=window.requestAnimationFrame((()=>{V.current&&e(V.current),$.current=null})))}),[V]);return(0,i.useEffect)((()=>()=>{$.current&&window.cancelAnimationFrame($.current)}),[]),(0,i.useEffect)((()=>{const e=V.current;if(!e)return;e.setAttribute("data-scrollbar","scrollable"),e.addEventListener("scroll",B,{passive:!0});const{scrollTop:t,scrollLeft:o}=e;return Object.assign(j.current.scrollable,{scrollLeft:o,scrollTop:t}),()=>{e.removeEventListener("scroll",B)}}),[B]),(0,i.useEffect)((()=>{const e=K.current;e&&e.setAttribute("data-scrollbar","content")}),[]),(0,a.jsxs)(l.Cropped,(0,r._)({ref:e=>{A.current=e,(0,h.applyRefValueMutation)(t,e)}},I,{children:["function"==typeof o?o({contentRef:K,contentProps:H,scrollableRef:V,scrollableProps:D}):(0,a.jsx)(c.Scrollable,(0,r._)({},D,{children:(0,a.jsx)(s.Content,(0,r._)({},H,{children:o}))})),(0,a.jsx)(d.Track,{ref:O,overflowX:b,overflowY:k,forceVisible:E,xTrackNeeded:P,yTrackNeeded:N,clickOnTrack:C,dispatchScrollAction:F})]}))})));g.displayName="ScrollbarProvider"},399190:(e,t,o)=>{"use strict";o.d(t,{Thumb:()=>s});var r=o(434788),n=o(785893),a=o(667294),i=o(155326);const s=(0,a.forwardRef)((({axis:e,dispatchScrollAction:t},o)=>{const[s,l]=(0,a.useState)(0),[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(0),[h,v]=(0,a.useState)(0),[p,f]=(0,a.useState)(!1),[g,_]=(0,a.useState)(!1),b=(0,a.useRef)({width:u,height:s});b.current={width:u,height:s};const k=(0,a.useRef)(null);(0,a.useImperativeHandle)(o,(()=>(0,r._)({},"x"===e?{setX:v,setWidth:m}:{setHeight:l,setY:d},{ref:k})),[e]);const E=(0,a.useRef)({x:0,y:0}),y=(0,a.useCallback)((o=>{o.preventDefault(),o.stopPropagation();const{clientX:r,clientY:n}=o;t((t=>{const{width:o,height:a,left:i,top:s}=t.getBoundingClientRect(),l="x"===e?o:a,c="x"===e?i:s,d=t["x"===e?"scrollWidth":"scrollHeight"],u=b.current["x"===e?"width":"height"];let m=("x"===e?r:n)-c-E.current[e];m=m/(l-u)*(d-l),t["x"===e?"scrollLeft":"scrollTop"]=m}))}),[e,t]),w=(0,a.useCallback)((()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w),f(!1)}),[y]),C=(0,a.useCallback)((t=>{const o=k.current;if(!o)return;t.stopPropagation();const{clientX:r,clientY:n}=t,{left:a,top:i}=o.getBoundingClientRect();E.current[e]="x"===e?r-a:n-i,document.addEventListener("mousemove",y),document.addEventListener("mouseup",w),f(!0)}),[e,y,w]);return(0,a.useEffect)((()=>w),[w]),(0,a.useEffect)((()=>{const e=window.setTimeout((()=>{_(!1)}),1e3);return _(!0),()=>{window.clearTimeout(e)}}),[h,c]),(0,n.jsx)("div",{ref:k,onMouseDown:C,style:(0,r._)({position:"absolute"},"x"===e?{width:u,left:0,bottom:0,transform:`translate3d(${h}px, 0px, 0)`}:{height:s,top:0,right:0,transform:`translate3d(0, ${c}px, 0)`}),className:(0,i.cx)(`sbarThumb sbarThumb${e.toUpperCase()}`,p&&"sbarThumb--dragging",g&&"sbarThumb--scrolling"),"data-scrollbar":"thumb"})}));s.displayName="Thumb"},692508:(e,t,o)=>{"use strict";o.d(t,{Track:()=>l});var r=o(434788),n=o(785893),a=o(667294),i=o(399190),s=o(155326);const l=(0,a.memo)((0,a.forwardRef)((({overflowY:e,overflowX:t,forceVisible:o,xTrackNeeded:l,yTrackNeeded:u,clickOnTrack:m,dispatchScrollAction:h},v)=>{const p=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useImperativeHandle)(v,(()=>{var e,t,o,r;return{setX:null==(e=p.current)?void 0:e.setX,setWidth:null==(t=p.current)?void 0:t.setWidth,setY:null==(o=f.current)?void 0:o.setY,setHeight:null==(r=f.current)?void 0:r.setHeight}}),[l,u,t,e]);const g=(0,a.useCallback)((e=>t=>{var o;if(!m||"string"==typeof m&&m!==e)return;const{clientX:n,clientY:a,target:i}=t,s=null==(o=("x"===e?p:f).current)?void 0:o.ref.current;s&&i instanceof HTMLElement&&(t.preventDefault(),h((t=>{const{scrollLeft:o,scrollTop:i}=t,{width:l,height:c}=t.getBoundingClientRect(),{left:d,top:u}=s.getBoundingClientRect(),m="x"===e?d:u,h="x"===e?n:a,v=("x"===e?o:i)+("x"===e?l:c)*Math.sign(h-m),p="x"===e?{left:v}:{top:v};t.scrollTo((0,r._)({},p,{behavior:"auto"}))})))}),[m,h]),_=(0,a.useCallback)((e=>t=>{const{deltaX:o,deltaY:r}=t,n="x"===e?o:r;h((t=>{t["x"===e?"scrollLeft":"scrollTop"]+=n}))}),[h]);return(0,n.jsxs)(n.Fragment,{children:["hidden"!==t&&l&&(0,n.jsx)("div",{"data-scrollbar":"track",onMouseDown:g("x"),onWheel:_("x"),className:(0,s.cx)("sbarTrack sbarTrackX",d("x",o)),style:c("x"),children:(0,n.jsx)(i.Thumb,{axis:"x",ref:p,dispatchScrollAction:h})}),"hidden"!==e&&u&&(0,n.jsx)("div",{"data-scrollbar":"track",onMouseDown:g("y"),onWheel:_("y"),className:(0,s.cx)("sbarTrack sbarTrackY",d("y",o)),style:c("y"),children:(0,n.jsx)(i.Thumb,{axis:"y",ref:f,dispatchScrollAction:h})})]})})));function c(e){return(0,r._)({position:"absolute"},"x"===e?{left:0,bottom:0,width:"100%",height:"11px"}:{top:0,right:0,width:"11px",height:"100%"})}function d(e,t){return t&&("boolean"==typeof t||t===e)?`sbarTrack${e.toUpperCase()}--visible`:""}l.displayName="Track"},78072:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>n});var r=o(667294);function n(e){const t=(0,r.useRef)(),o=(0,r.useRef)(new Map),n=(0,r.useRef)();n.current=e;const a=(0,r.useCallback)((()=>{const e=new Map;t.current=new ResizeObserver((t=>{t.forEach((t=>{e.set(t.target,t)})),(()=>{const t=Array.from(e.values());t.forEach((e=>{const t=o.current.get(e.target);t&&t(e)})),n.current&&n.current(t),e.clear()})()}))}),[]);(0,r.useEffect)((()=>(a(),()=>{t.current&&(t.current.disconnect(),t.current=void 0),o.current.clear()})),[a]);return{observe:(0,r.useCallback)(((e,r)=>{t.current||a();const n=t.current,i=o.current;return n.observe(e),r&&i.set(e,r),()=>{r&&i.delete(e),n.unobserve(e)}}),[t,a])}}},532048:(e,t,o)=>{"use strict";o.d(t,{ScrollbarProvider:()=>r.ScrollbarProvider});var r=o(443505)},327074:(e,t,o)=>{"use strict";function r(e){return{width:"hidden"===e.overflowX?"100%":"min-content",height:"hidden"===e.overflowY?"100%":"min-content"}}o.d(t,{applyContentStyles:()=>r})},870689:(e,t,o)=>{"use strict";function r(e,t){e&&("function"==typeof e?e(t):e.current=t)}o.d(t,{applyRefValueMutation:()=>r})},217134:(e,t,o)=>{"use strict";function r(e,{overflowX:t,overflowY:o}){return{WebkitOverflowScrolling:"touch",msOverflowStyle:"-ms-autohiding-scrollbar",width:"hidden"!==o&&e>0?`calc(100% + ${e}px)`:"100%",height:"hidden"!==t&&e>0?`calc(100% + ${e}px)`:"100%",maxWidth:"inherit",maxHeight:"inherit",overflowX:t||"auto",overflowY:o||"auto"}}o.d(t,{applyScrollableStyles:()=>r})},688066:(e,t,o)=>{"use strict";function r(e,t,o,r){const n=e/(o-t),a=t/o;let i=Math.max(~~(a*t),r.min);r.max&&(i=Math.min(i,r.max));return{size:i,position:~~((t-i)*n)}}o.d(t,{calculateThumbStyles:()=>r})},155326:(e,t,o)=>{"use strict";o.d(t,{cx:()=>r});const r=(...e)=>e.filter(Boolean).join(" ")},203609:(e,t,o)=>{"use strict";function r(e){if(void 0!==window.sbarNativeScrollbarWidth)return window.sbarNativeScrollbarWidth;try{if("getComputedStyle"in window&&"none"===window.getComputedStyle(e,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style)return window.sbarNativeScrollbarWidth=0,window.sbarNativeScrollbarWidth}catch(e){}const t=document.body,o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.visibility="hidden",o.style.overflowY="scroll",t.appendChild(o);const r=o.getBoundingClientRect().right;return t.removeChild(o),window.sbarNativeScrollbarWidth=r,window.sbarNativeScrollbarWidth}o.d(t,{getNativeScrollbarWidth:()=>r})},460554:(e,t,o)=>{"use strict";o.d(t,{ConvoAudiosPlaylist:()=>i,getAudioThumb:()=>m,isConvoAudioTrack:()=>d,isRestoredConvoAudiosPlaylist:()=>u,mapConvoToConvoAudioTrackList:()=>c,toConvoAudioTrack:()=>s});var r=o(185327),n=o(9452),a=o(89131);class i{getNext(e,t,o){const r=t?this.shuffledList:this.list;return(0,n.getNextTrackFromPlaylist)(e,r,o)}getPrev(e,t,o){const r=t?this.shuffledList:this.list;return(0,n.getPrevTrackFromPlaylist)(e,r,o)}getConvoAudiosList(){return this.list}getConvoAudiosShuffledList(){return this.shuffledList}getPlaylistMeta(){return this.meta}shuffle(){this.shuffledList=(0,a.shuffleArray)(this.list)}constructor(e){this.list=e.list,this.shuffledList=(0,a.shuffleArray)(this.list),this.meta=e.meta}}function s(e,t,o){var r,n,a;let i;"Foreign"===(null==(r=o)?void 0:r.kind)&&"rootCmid"in o&&o.rootCmid?i={cmid:o.rootCmid,peerId:o.rootPeerId}:(null==(n=o)?void 0:n.peerId)&&(null==(a=o)?void 0:a.cmid)&&(i={peerId:o.peerId,cmid:o.cmid});const s=m(t.thumb);return{title:t.title,artist:t.artist,trackCode:t.trackCode,fromMessage:i,thumb:s,audioTrack:{id:`${t.ownerId}_${t.id}`,url:t.url,progress:e,duration:t.duration}}}function l(e){var t,o;const r=[];if("Normal"!==e.kind&&"Queued"!==e.kind&&"Foreign"!==e.kind)return r;if(Array.isArray(e.attaches.audios)){const t=[...e.attaches.audios];r.push(...t)}const n=null==(t=e.attaches.wall)?void 0:t.attaches.audios;if(Array.isArray(n)){const e=[...n];r.push(...e)}const a=e.forwardedMessages;Array.isArray(a)&&a.reduce(((e,t)=>(e.push(...l(t)),e)),r);const i="ForeignExpired"===(null==(o=e.replyMessage)?void 0:o.kind)?void 0:e.replyMessage;return i&&r.push(...l(i)),r}function c(e){const t=[],o=r.allHistoryNodes(e).map((e=>({message:e.item})));for(const{message:e}of o){const o="Normal"===e.kind,r="Queued"===e.kind;if(o||r){l(e).filter((e=>!!e.url)).forEach((o=>{const r="Normal"===e.kind?e:void 0;t.push(s(0,o,r))}))}}return(0,n.excludeTracksDoubling)(t)}function d(e){if(!e||"object"!=typeof e)return!1;const{title:t,artist:o,audioTrack:r,trackCode:n,fromMessage:a,thumb:i}=e;if("string"!=typeof t||"string"!=typeof o||!r||"object"!=typeof r||"string"!=typeof n||!a||"object"!=typeof a||"string"!=typeof i)return!1;const{url:s,id:l,duration:c,progress:d}=r;return"string"==typeof s&&"string"==typeof l&&"number"==typeof c&&"number"==typeof d&&("number"==typeof a.cmid&&"number"==typeof a.peerId)}function u(e){if(e&&"object"==typeof e){const{meta:t,list:o}=e;let r=!1,n=!1;if(t&&"object"==typeof t){const{convoPeerId:e,type:o}=t;r="number"==typeof e&&"temp"===o}return o&&Array.isArray(o)&&o.length&&(n=!!o.filter((e=>d(e))).length),r&&n}return!1}function m(e,t){var o,r,n,a,i,s,l,c;const d=t&&(null==(o=e)?void 0:o[`photo_${t}`]);return d||((null==(r=e)?void 0:r.photo_34)||(null==(n=e)?void 0:n.photo_68)||(null==(a=e)?void 0:a.photo_135)||(null==(i=e)?void 0:i.photo_270)||(null==(s=e)?void 0:s.photo_300)||(null==(l=e)?void 0:l.photo_600)||(null==(c=e)?void 0:c.photo_1200))}},9452:(e,t,o)=>{"use strict";o.d(t,{excludeTracksDoubling:()=>i,getNextTrackFromPlaylist:()=>n,getPrevTrackFromPlaylist:()=>a});var r=o(434788);function n(e,t,o){const n=t.findIndex((t=>t.audioTrack.id===e.audioTrack.id)),a=n>=0?t[n+1]:void 0;if(a)return(0,r._)({},a,{audioTrack:(0,r._)({},a.audioTrack,{progress:0})});if(!a&&"all"===o){const e=t[0];return e?(0,r._)({},e,{audioTrack:(0,r._)({},e.audioTrack,{progress:0})}):void 0}}function a(e,t,o){const n=t.findIndex((t=>t.audioTrack.id===e.audioTrack.id)),a=t[n-1];if(a)return(0,r._)({},a,{audioTrack:(0,r._)({},a.audioTrack,{progress:0})});if(!a&&"all"===o){const e=t[t.length-1];return e?(0,r._)({},e,{audioTrack:(0,r._)({},e.audioTrack,{progress:0})}):void 0}}function i(e){const t=new Set;return e.filter((e=>!t.has(e.audioTrack.id)&&(t.add(e.audioTrack.id),!0)))}},200028:(e,t,o)=>{"use strict";o.d(t,{ChannelComposerDraftsProvider:()=>m,CommentsComposerDraftsProvider:()=>p,ComposerDraftsProvider:()=>c,useChannelComposerDraft:()=>d,useCommentsComposerDraft:()=>h,useComposerDraft:()=>s});var r=o(667294),n=o(400681),a=o(559360),i=o(655829);function s(e){const t=(0,r.useContext)(l);if(!t)throw new Error("ComposerDraftsProvider не добавлен в дерево Реакта!");const o=t[e],a=(0,r.useMemo)((()=>n.empty()),[]);var i;return o&&null!=(i=o[o.length-1])?i:a}const l=r.createContext({}),c=l.Provider;function d(e){const t=(0,r.useContext)(u);if(!t)throw new Error("ChannelComposerDraftsProvider не добавлен в дерево Реакта!");const o=(0,r.useMemo)((()=>a.empty()),[]);return t[e]||o}const u=r.createContext({}),m=u.Provider;function h(e,t){const o=(0,r.useContext)(v);if(!o)throw new Error("CommentsComposerDraft не добавлен в дерево Реакта!");const n=(0,r.useMemo)((()=>i.empty()),[]);return o[`${e}-${t}`]||n}const v=r.createContext({}),p=v.Provider},907312:(e,t,o)=>{"use strict";o.d(t,{useConvoAttaches:()=>m,useConvoAttachesGetMissedPeers:()=>f});var r=o(11010),n=o(434788),a=o(96190),i=o(696023),s=o(694788),l=o(667294),c=o(89131),d=o(991792);const u=30;function m(e){const[t,o]=(0,l.useState)(null),a=(0,i.useInsertIntoCache)(),{api:s}=(0,i.useBrowserEnv)(),c=(0,i.useOwner)();(0,l.useLayoutEffect)((()=>()=>{o(null)}),[e]);const d=(0,l.useCallback)((0,r._)((function*(r){var i,l,d;const u=t||{};if((null==(i=u[r])?void 0:i.isLoading)||(null==(l=u[r])?void 0:l.isAllLoaded))return;p(u,!0,r),o((0,n._)({},u));const m=yield function(e,t,o,r,n,a){return h.apply(this,arguments)}(s,e,c.id,r,a,(null==(d=u[r])?void 0:d.cursorNextLoad)||void 0);!function(e,t){var o,r,n,a,i,s;t.audios&&(e.audios={items:((null==(o=e.audios)?void 0:o.items)||[]).concat(t.audios.items),cursorNextLoad:t.audios.cursorNextLoad||null,isAllLoaded:t.audios.isAllLoaded});t.docs&&(e.docs={items:((null==(r=e.docs)?void 0:r.items)||[]).concat(t.docs.items),cursorNextLoad:t.docs.cursorNextLoad||null,isAllLoaded:t.docs.isAllLoaded});t.links&&(e.links={items:((null==(n=e.links)?void 0:n.items)||[]).concat(t.links.items),cursorNextLoad:t.links.cursorNextLoad||null,isAllLoaded:t.links.isAllLoaded});t.photos&&(e.photos={items:((null==(a=e.photos)?void 0:a.items)||[]).concat(t.photos.items),cursorNextLoad:t.photos.cursorNextLoad||null,isAllLoaded:t.photos.isAllLoaded});t.videos&&(e.videos={items:((null==(i=e.videos)?void 0:i.items)||[]).concat(t.videos.items),cursorNextLoad:t.videos.cursorNextLoad||null,isAllLoaded:t.videos.isAllLoaded});t.miniAppWidgets&&(e.miniAppWidgets={items:((null==(s=e.miniAppWidgets)?void 0:s.items)||[]).concat(t.miniAppWidgets.items),cursorNextLoad:t.miniAppWidgets.cursorNextLoad||null,isAllLoaded:t.miniAppWidgets.isAllLoaded})}(u,m),p(u,!1,r),o((0,n._)({},u))})),[s,t,c.id,e,a]);return{attaches:t,getNextPage:d}}function h(){return(h=(0,r._)((function*(e,t,o,r,n,a){try{const i=yield e.fetch("messages.getHistoryAttachments",{peer_id:t,media_type:v(r),count:u,start_from:a,extended:1,group_id:(0,d.getOwnerGroupId)(o)},{retries:5});if(!i.items||0===i.items.length)return{[r]:{items:[],isAllLoaded:!0,cursorNextLoad:null}};n({profiles:i.profiles,groups:i.groups,contacts:i.contacts});return{[r]:{items:(0,s.fromApiConvoAttach)(i.items)[r]||[],isAllLoaded:!i.next_from,cursorNextLoad:i.next_from}}}catch(e){return{}}}))).apply(this,arguments)}const v=e=>({audios:"audio",videos:"video",docs:"doc",links:"share",photos:"photo",miniAppWidgets:"app_action_mini_apps"}[e]);function p(e,t,o){e[o]||function(e,t){switch(t){case"audios":case"videos":case"docs":case"links":case"photos":case"miniAppWidgets":e[t]={items:[],cursorNextLoad:null,isAllLoaded:!1};break;default:(0,c.exhaustivenessCheck)(t)}}(e,o);const r=e[o];r&&(r.isLoading=t)}function f(e){const t=(0,i.useInsertIntoCache)(),{api:o}=(0,i.useBrowserEnv)(),n=e.filter((e=>a.isUserPeerId(e))).join(","),s=e.filter((e=>a.isGroupPeerId(e))).map((e=>a.toRealId(e))).join(",");return{fetchProfilesAndGroups:(0,l.useCallback)((0,r._)((function*(){var e;const[r,a]=yield o.fetchMany([0!==n.length&&{method:"users.get",params:{user_ids:n,extended:1}},0!==s.length&&{method:"groups.getById",params:{group_ids:s,extended:1}}],{retries:3});t({profiles:r||[],groups:(null==(e=a)?void 0:e.groups)||[]})})),[o,s,t,n])}}},367763:(e,t,o)=>{"use strict";o.d(t,{useDeviceData:()=>n});var r=o(86894);function n(){return{isTouchOnly:!(0,r.useAdaptivityWithJSMediaQueries)().hasPointer}}},599781:(e,t,o)=>{"use strict";o.d(t,{useHover:()=>n});var r=o(667294);const n=()=>{const[e,t]=r.useState(!1),o=r.useCallback((()=>t(!0)),[]),n=r.useCallback((()=>t(!1)),[]),a=r.useRef();return[r.useCallback((e=>{a.current&&(a.current.removeEventListener("mouseenter",o),a.current.removeEventListener("mouseleave",n)),a.current=e,a.current&&(a.current.addEventListener("mouseenter",o),a.current.addEventListener("mouseleave",n))}),[o,n]),e]}},346006:(e,t,o)=>{"use strict";o.d(t,{Module:()=>i,useGlobalKeyBoardHandlers:()=>d,useModuleKeyBoardHandlers:()=>c});var r=o(89131),n=o(667294),a=o(65970);e=o.hmd(e);const i={MediaViewer:"MediaViewer",Modal:"Modal",Dropdown:"Dropdown",SimpleComposer:"SimpleComposer",FCComposer:"FCComposer",FCWindow:"FCWindow",RightPanel:"RightPanel",Composer:"Composer",ConvoMain:"ConvoMain",ChannelMain:"ChannelMain"},s={[i.Dropdown]:{priority:1002,blockGlobalHandlers:!0,blockOtherModules:!0},[i.MediaViewer]:{priority:1001},[i.Modal]:{priority:1e3,blockGlobalHandlers:!0,blockOtherModules:!0},[i.SimpleComposer]:{priority:902},[i.FCComposer]:{priority:901},[i.FCWindow]:{priority:900},[i.RightPanel]:{priority:500},[i.Composer]:{priority:200},[i.ConvoMain]:{priority:100},[i.ChannelMain]:{priority:100}};const l=new class{constructor(){this.isSubscribed=!1,this.isGlobalHandlersBlocked=!1,this.globalHandlers=new Map,this.moduleConfig=new Map(Object.entries(s)),this.moduleHandlers=new Map,this.subscribeModuleKeyDown=(t,o)=>{if(r.isDev&&!this.moduleConfig.has(t))throw new Error(`Module ${e} must be in moduleConfig.`);var n;const a=null!=(n=this.moduleHandlers.get(t))?n:new Set;return a.add(o),this.moduleHandlers.set(t,a),this.onModuleHandlersUpdated(),()=>{a.delete(o),0===a.size&&this.moduleHandlers.delete(t),this.onModuleHandlersUpdated()}},this.subscribeGlobalKeyDown=(e,t)=>{const o=this.globalHandlers.has(e);if(r.isDev&&o)throw new Error(`Global keyCombo ${e} is already subscribed. Unsubscribe it first`);return this.globalHandlers.set(e,t),this.updateSubscription(),()=>{this.globalHandlers.delete(e),this.updateSubscription()}},this.addModuleConfig=(e,t)=>{this.moduleConfig.set(e,t)},this.updateSubscription=()=>{const e=this.globalHandlers.size>0||this.moduleHandlers.size>0;e&&!this.isSubscribed&&(document.addEventListener("keydown",this.keyDownHandler),this.isSubscribed=!0),!e&&this.isSubscribed&&(document.removeEventListener("keydown",this.keyDownHandler),this.isSubscribed=!1)},this.onModuleHandlersUpdated=()=>{this.updateGlobalHandlersBlocked(),this.updateSubscription()},this.callModuleSubscription=(e,t)=>{const o=[...this.moduleConfig.entries()].sort(((e,t)=>t[1].priority-e[1].priority)).map((([e])=>e));for(let n=0;n<o.length;n++){var r;const a=o[n];if(void 0===a)continue;const i=this.moduleHandlers.get(a);if(!i)continue;let s=!1;const l=t=>{const o=t===e;return o&&(s=!0),o};for(const e of Array.from(i).reverse())if(e(l,t),s)break;if(s=s||!!(null==(r=this.moduleConfig.get(a))?void 0:r.blockOtherModules),s)break}},this.callGlobalSubscription=(e,t)=>{if(this.isGlobalHandlersBlocked)return void t();const o=this.globalHandlers.get(e);o&&(!1!==o.autoPreventDefault?(t(),o.handler()):o.handler(t))},this.updateGlobalHandlersBlocked=()=>{const e=[...this.moduleHandlers.keys()].some((e=>{var t;return null==(t=this.moduleConfig.get(e))?void 0:t.blockGlobalHandlers}));this.isGlobalHandlersBlocked=e},this.keyDownHandler=e=>{if(!(e instanceof KeyboardEvent))return;const t=(0,a.getKeyCombo)(e),o=e.preventDefault.bind(e);(0,a.isGlobalKeyCombo)(t)?this.callGlobalSubscription(t,o):(0,a.isModuleKeyCombo)(t)&&this.canCallModuleSubscription()&&this.callModuleSubscription(t,o)},this.canCallModuleSubscription=()=>{const e=document.activeElement;return null===e||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!(e instanceof HTMLElement&&!0===e.isContentEditable)}}};function c({moduleName:e,config:t}){void 0!==t&&l.addModuleConfig(e,t);return{subscribeKeyDown:(0,n.useCallback)((t=>l.subscribeModuleKeyDown(e,t)),[e])}}const d=()=>({subscribeGlobalKeyDown:l.subscribeGlobalKeyDown})},576697:(e,t,o)=>{"use strict";o.d(t,{useLongTouch:()=>a});var r=o(667294);const n=500;function a(e,t,o,a=n){(0,r.useEffect)((()=>{const r=t.current;if(!e||!r)return;let n;const i=()=>{n&&(window.clearTimeout(n),n=void 0)},s=e=>{i(),n=window.setTimeout((e=>()=>{i();const t=e=>{r.removeEventListener("touchend",t,!0),e.preventDefault(),e.stopPropagation()};r.addEventListener("touchend",t,{capture:!0,once:!0}),o(e)})(e),a)};return r.addEventListener("touchstart",s,{passive:!0}),r.addEventListener("touchcancel",i,!0),r.addEventListener("touchend",i,!0),r.addEventListener("touchmove",i,{passive:!0}),()=>{i(),r.removeEventListener("touchstart",s),r.removeEventListener("touchcancel",i,!0),r.removeEventListener("touchend",i,!0),r.removeEventListener("touchmove",i)}}),[o,e,a,t])}},410519:(e,t,o)=>{"use strict";o.d(t,{useModal:()=>i,useModalGroup:()=>l,useSubModal:()=>s});var r=o(667294),n=o(883950),a=o(171656);const i=(e,t="popup")=>c({groupId:e,stackName:t}),s=e=>c({groupId:e,isSubModal:!0}),l=()=>{const{createGroup:e,closeGroup:t}=(0,a.useModalContext)(),o=(0,r.useRef)();o.current||(o.current=e());const{id:n}=o.current.data,i=(0,r.useCallback)((()=>t(n)),[t,n]);return(0,r.useEffect)((()=>()=>{var e;null==(e=o.current)||e.remove()}),[]),{id:n,closeGroup:i}},c=e=>{var t,o;const i=null!=(o=null==(t=e)?void 0:t.stackName)?o:"popup",{createModal:s,createGroup:l,getModalGroup:c,closeModalForced:u}=(0,a.useModalContext)(),m=(0,r.useRef)();var h;m.current||(m.current=(null==(h=e)?void 0:h.groupId)?{data:c(e.groupId)}:l());const v=(0,r.useRef)();var p,f;v.current||(v.current=s(m.current.data.id,null==(p=e)?void 0:p.isSubModal,(null==(f=e)?void 0:f.id)?n.resolveId(e.id):void 0));const g=v.current.id;return(0,r.useEffect)((()=>()=>{var e,t,o;u(g,i),null==(t=m.current)||null==(e=t.remove)||e.call(t),null==(o=v.current)||o.remove()}),[u,g,i]),d(g,i)},d=(e,t)=>{const{openedModals:o,openModal:n,closeModal:i,findIndexInStack:s}=(0,a.useModalContext)(),l=(0,r.useCallback)((()=>n(e,t)),[n,e,t]),c=(0,r.useCallback)((()=>i(e,t)),[i,e,t]),d=s(e,t);return(0,r.useMemo)((()=>({isActive:Boolean(o[t].find((t=>t===e))),indexInStack:d,isInStack:null!==d,open:l,close:c})),[c,e,l,o,d,t])}},90308:(e,t,o)=>{"use strict";o.d(t,{useResizeObserver:()=>a});var r=o(667294),n=o(89131);function a({throttleInterval:e,debounceInterval:t}={},o){const a=(0,r.useRef)(),i=(0,r.useRef)(new Map),s=(0,r.useRef)();s.current=o;const l=(0,r.useCallback)((()=>{const o=new Map,r=()=>{const e=Array.from(o.values());e.forEach((e=>{const t=i.current.get(e.target);t&&t(e)})),s.current&&s.current(e),o.clear()},l=e?(0,n.throttle)(r,e):t?(0,n.debounce)(r,t,!0):r;a.current=new ResizeObserver((e=>{e.forEach((e=>{o.set(e.target,e)})),l()}))}),[e,t]);(0,r.useEffect)((()=>(l(),()=>{a.current&&(a.current.disconnect(),a.current=void 0),i.current.clear()})),[l]);return{observe:(0,r.useCallback)(((e,t)=>{a.current||l();const o=a.current,r=i.current;return o.observe(e),t&&r.set(e,t),()=>{t&&r.delete(e),o.unobserve(e)}}),[a,l])}}},599660:(e,t,o)=>{"use strict";o.d(t,{ActionsMenu:()=>d,ActionsMenuAction:()=>u,ActionsMenuDropdownAction:()=>m,ActionsMenuSeparator:()=>h});var r=o(434788),n=o(820224),a=(o(759244),o(667294)),i=o(294184),s=o.n(i),l=o(364548),c=o(163332);const d=e=>{var{className:t,children:o}=e,i=(0,n._)(e,["className","children"]);return a.createElement("div",(0,r._)({},i,{className:s()("ActionsMenu",t)}),o)},u=e=>{var{leftIcon:t,rightIcon:o,title:i,subtitle:l,type:c="secondary",size:d="regular",isActive:u=!1,isLoading:m,className:h,onClick:v,titleClassName:p}=e,f=(0,n._)(e,["leftIcon","rightIcon","title","subtitle","type","size","isActive","isLoading","className","onClick","titleClassName"]);return a.createElement("button",(0,r._)({},f,{className:s()("ActionsMenuAction",c&&`ActionsMenuAction--${c}`,m&&"ActionsMenuAction--loading",u&&"ActionsMenuAction--active",`ActionsMenuAction--size-${d}`,h),onClick:v}),t&&a.createElement("i",{className:"ActionsMenuAction__icon"},t),a.createElement("span",{className:s()("ActionsMenuAction__title",p)},i,l&&a.createElement("span",{className:"ActionsMenuAction__subtitle"},l)),o&&a.createElement("i",{className:"ActionsMenuAction__icon"},o))},m=e=>{var{children:t,icon:o,openType:i,hideOnClick:m=!0,position:h,align:v,actionsMenuClassName:p,layoutMode:f}=e,g=(0,n._)(e,["children","icon","openType","hideOnClick","position","align","actionsMenuClassName","layoutMode"]);const[_,b]=(0,a.useState)(!1),k=(0,a.useMemo)((()=>{const e="two-column"===f?{position:"right",align:"left"}:{position:"bottom",align:"right"};return h&&(e.position=h),v&&(e.align=v),e}),[f,h,v]);return a.createElement(c.Dropdown,(0,r._)({content:a.createElement(d,{className:s()(p,{"ActionsMenu--dropdown":"two-column"===f})},t)},"click"===i?{openType:"click"}:{openType:"hover",hideDelay:0,delay:300},k,{classNames:{trigger:"ActionsMenu--dropdown-trigger"},adaptation:"vertical",onOpen:()=>b(!0),onClose:()=>b(!1),hideOnClick:m,canOpen:!g.disabled}),a.createElement(u,(0,r._)({},g,{isActive:_,leftIcon:o,rightIcon:a.createElement(l.Icon16Chevron,null)})))},h=({className:e})=>a.createElement("div",{role:"separator",className:s()("ActionsMenuAction__separator",e)})},202158:(e,t,o)=>{"use strict";o.d(t,{AttachAudio:()=>A});o(963328);var r=o(667294),n=o(294184),a=o.n(n),i=o(89131),s=o(696023),l=o(579957),c=o(460554),d=o(364705),u=o(7479),m=o(205461),h=o(140518),v=o(579643),p=o(473216),f=o(800697),g=o(757342),_=o(385228),b=o(86894),k=o(599781),E=o(518388),y=o(376753),w=o(163332),C=o(599660),I=o(367763),S=o(179636);const A=r.memo((function({audio:e,withPhoto:t=!0,isOut:o,isInBubble:n,isPrimary:a,message:i,actions:s,className:l,withDuration:c,highlightActiveTrackTitle:d,onWidthChange:u}){const m=n&&o;return Boolean(e.contentRestricted)?r.createElement(M,{audio:e,withPhoto:t,isInOutBubble:m,isPrimary:a,className:l,withDuration:c,highlightActiveTrackTitle:d,onWidthChange:u}):r.createElement(x,{audio:e,withPhoto:t,message:i,isInOutBubble:m,isPrimary:a,actions:s,className:l,withDuration:c,highlightActiveTrackTitle:d,onWidthChange:u})})),x=r.memo((function({audio:e,withPhoto:t,isInOutBubble:o,isPrimary:n,message:a,actions:i,className:d,withDuration:u,highlightActiveTrackTitle:m,onWidthChange:h}){const{player:v}=(0,s.useBrowserEnv)(),p=(0,r.useContext)(l.ConvoAudiosPlaylistContext),[f,g]=(0,r.useState)("stopped"),[_,b]=(0,r.useState)(0),k=(0,r.useRef)(`${e.ownerId}_${e.id}`),E=(0,r.useCallback)((e=>{var t;const{currentTrackEntity:o,status:r}=e;if((null==(t=o)?void 0:t.audioTrack)&&o.audioTrack.id===k.current){const{progress:e}=o.audioTrack;g(r),b(e)}else g("stopped"),b(0)}),[]);(0,r.useEffect)((()=>(v.subscribe("stateupdated",E),()=>{v.unsubscribe("stateupdated",E)})),[e,E,v]),(0,r.useEffect)((()=>{E(v.getState())}),[]);const y=(0,r.useCallback)((t=>{if(e.url){if("playing"===f)v.pause();else{var o,r;const t=p(),n="Foreign"===(null==(o=a)?void 0:o.kind)||"Normal"===(null==(r=a)?void 0:r.kind)?a:void 0;v.play((0,c.toConvoAudioTrack)(_,e,n),t)}t.preventDefault()}}),[e,f,v,p,_,a]);return r.createElement(P,{progress:_,artist:e.artist,title:e.title,duration:e.duration,status:f,thumb:e.thumb,isExplicit:e.isExplicit,isInOutBubble:o,isPrimary:n,actions:i,onClick:y,withPhoto:t,className:d,withDuration:u,highlightActiveTrackTitle:m,onWidthChange:h})}));function M({audio:e,withPhoto:t,isInOutBubble:o,isPrimary:n,className:i,withDuration:s,highlightActiveTrackTitle:l,onWidthChange:c}){const{navigate:u}=(0,d.useRouter)();return r.createElement(P,{progress:0,artist:e.artist,title:e.title,duration:e.duration,status:"stopped",thumb:e.thumb,isExplicit:e.isExplicit,isInOutBubble:o,isPrimary:n,withPhoto:t,withDuration:s,highlightActiveTrackTitle:l,className:a()("AttachAudio__restricted",i),onClick:()=>{u({kind:"AudioRestrictionRuntimeRoute",audio:e})},onWidthChange:c})}const P=({progress:e,duration:t,artist:o,title:n,status:l,thumb:d,withPhoto:A,isInOutBubble:x,isPrimary:M,isExplicit:P,className:R,withDuration:N,highlightActiveTrackTitle:T,actions:O,onClick:j,onWidthChange:L})=>{const{lang:B}=(0,s.useBrowserEnv)(),{isTouchOnly:V}=(0,I.useDeviceData)(),D=(0,s.usePixelDensity)(),K=(0,s.useFeatureFlags)(),H="dark"===(0,b.useAppearance)(),{settings:U}=(0,s.useViewer)(),G=U.rightClickActionsEnabled&&!V,[$,F]=(0,r.useState)(null),z=M&&K.vkm_new_attach_track,W=z?u.Icon28Pause:m.Icon20PauseCircle,Z=z?h.Icon28Play:v.Icon20PlayCircle,J=z?p.Icon28SongOutline:f.Icon20SongOutline,q=z?b.Subhead:b.Footnote,[Y,X]=(0,k.useHover)(),Q="playing"===l||"paused"===l,ee=D?135:68,te=D?270:135,oe=(0,c.getAudioThumb)(d,z?te:ee),re=T&&Q;return(0,r.useEffect)((()=>{if(z){var e;null==(e=L)||e(220)}}),[z,L]),r.createElement("div",{ref:e=>{Y(e),F(e)},className:a()("AttachAudio",R,{"AttachAudio--dark":H,"AttachAudio--out":x,"AttachAudio--primary":z}),onClick:j},A&&r.createElement("div",{className:"AttachAudio__album"},d?r.createElement("img",{className:"AttachAudio__albumImg",alt:`${n} — ${o}`,src:oe}):r.createElement("div",{className:"AttachAudio__albumImg AttachAudio__albumImg--placeholder"},!X&&!Q&&r.createElement(J,null)),(()=>{const t=Q||X;return r.createElement("div",{className:"AttachAudio__albumControls"},r.createElement("div",{className:a()("AttachAudio__albumControlsBackdrop",{"AttachAudio__albumControlsBackdrop--show":t})}),r.createElement("div",{className:"AttachAudio__albumControlsIcon"},(()=>{const e=B.use("me_attach_track_play_aria_label"),t=B.use("me_attach_track_play_aria_label");return"playing"===l?(X||z)&&r.createElement(W,{"aria-label":t}):"paused"===l?(X||z)&&r.createElement(Z,{"aria-label":e}):"stopped"===l?X&&r.createElement(Z,{"aria-label":e}):void 0})()),!z&&Q&&r.createElement(E.AttachAudioSoundBar,{isActive:"playing"===l,className:a()("AttachAudio__albumControlsBar",{"AttachAudio__albumControlsBar--hide":X})}),z&&Q&&r.createElement(y.ProgressCircle,{className:"AttachAudio__albumControlsProgress",progress:Number((100*e).toFixed(2)),size:46,ariaLabel:B.use("me_attach_track_progress_aria_label")}))})()),r.createElement("div",{className:"AttachAudio__info"},r.createElement(b.Headline,{level:z?"1":"2",weight:z?"2":"3",className:"AttachAudio__title"},re&&r.createElement(E.AttachAudioSoundBar,{isActive:"playing"===l,color:"var(--vkui--color_text_accent)"}),r.createElement("span",{className:a()("AttachAudio__titleText",{"AttachAudio__titleText--highlight":re})},n),P&&r.createElement("span",{className:"AttachAudio__titleExplicit","aria-label":B.use("me_attach_track_explicit_aria_label")},r.createElement(g.Icon12Explicit,null))),z?r.createElement(b.Subhead,{className:"AttachAudio__artist"},o):r.createElement(b.Footnote,{className:"AttachAudio__artist"},o)),N&&r.createElement(q,{className:"AttachAudio__duration"},r.createElement("span",{role:"timer",className:"AttachAudio__durationProgress","aria-label":B.use("me_attach_track_time_left_aria_label")},Q?function(e,t){return(0,i.formatDuration)(Math.ceil(t*e))}(e,t):(0,i.formatDuration)(t))),O&&!G&&r.createElement("div",{className:"AttachAudio__actions"},r.createElement(w.Dropdown,{classNames:{wrapper:a()("AttachAudio__dropdown",{"AttachAudio__dropdown--open":V}),wrapperOpened:"AttachAudio__dropdown--open"},content:r.createElement(C.ActionsMenu,null,O),align:"center",position:"bottom",openType:V?"click":"hover"},r.createElement("button",{className:"AttachAudio__action","aria-label":B.use("me_actions_more")},r.createElement(_.Icon20More,null)))),O&&G&&r.createElement(S.ContextMenu,{ref:{current:$},allowNativeContextMenu:!0,content:r.createElement(C.ActionsMenu,null,O)}))}},518388:(e,t,o)=>{"use strict";o.d(t,{AttachAudioSoundBar:()=>l});var r=o(434788),n=(o(98264),o(667294)),a=o(294184),i=o.n(a),s=o(89131);const l=({isActive:e,color:t,className:o})=>{const a=(0,n.useRef)(null),l=(0,n.useRef)(e);l.current=e;const c=(0,n.useRef)(!1),d=[[.4,1],[.3,.85],[.2,.65],[.05,.5]];(0,n.useEffect)((()=>{const e=setInterval((()=>{if(!a.current)return;if(!l.current&&c.current)return;const e=a.current.children;for(let o=0;o<e.length;o++){const r=e[o],n=r instanceof HTMLDivElement&&r.style;if(!n)return;if(!l.current){n.height="2px";continue}var t;const[a=0,i=0]=null!=(t=d[o])?t:[];n.height=(0,s.getRandomFloat)(14*a,14*i)+"px"}c.current=!l.current}),150);return()=>{clearInterval(e)}}),[]);const u=(0,r._)({},t&&{color:t});return n.createElement("div",{ref:a,className:i()("AttachAudioSoundBar",o),style:u},n.createElement("div",{className:"AttachAudioSoundBar__bar"}),n.createElement("div",{className:"AttachAudioSoundBar__bar"}),n.createElement("div",{className:"AttachAudioSoundBar__bar"}),n.createElement("div",{className:"AttachAudioSoundBar__bar"}))}},76292:(e,t,o)=>{"use strict";o.d(t,{AttachDoc:()=>R});var r=o(434788),n=(o(403658),o(667294)),a=o(197934),i=o(240928),s=o(775130),l=o(583685),c=o(50901),d=o(680237),u=o(738199),m=o(152406),h=o(824283),v=o(597298),p=o(89131),f=o(294184),g=o.n(f),_=o(696023),b=o(15285),k=o(401208),E=o(410519),y=o(86894),w=o(959107),C=o(388918),I=o(874971),S=o(964929),A=o(671324),x=o(798855),M=o(234325),P=o(506315);const R=({doc:e,variant:t="inline",isInBubble:o=!1,forwardLevel:f=0,isOut:y=!1,className:C})=>{const I=(0,_.usePixelDensity)(),[,S]=(0,b.getExpectedAttachWidth)(I,o,f,232),A=(0,E.useModal)(),{vkm_chat_remove_no_preview:x}=(0,_.useFeatureFlags)(),M=(0,n.useCallback)((t=>{e.isUnsafe&&(0!==t.button&&1!==t.button||(t.preventDefault(),A.open()))}),[e.isUnsafe,A]),P=a.preview(e,S),R=[e.ext.toUpperCase(),(0,p.formatFileSize)(e.size)],T=x?a.getPreparedDocUrl(e):e.url,O=(0,n.useMemo)((()=>{switch(e.type){case"spreadsheet":return n.createElement(i.Icon24DocumentListOutline,null);case"audio":return n.createElement(s.Icon24MusicOutline,null);case"video":return n.createElement(l.Icon24VideoOutline,null);case"image":case"gif":return n.createElement(c.Icon24PictureOutline,null);case"ebook":return n.createElement(d.Icon24BooksOutline,null);case"archive":return n.createElement(u.Icon28ZipOutline,{width:24});case"text":return n.createElement(m.Icon24DocumentTextOutline,null);case"default":return n.createElement(h.Icon24DocumentOutline,null);default:(0,p.exhaustivenessCheck)(e.type)}}),[e.type]);return"preview"===t&&e.image?n.createElement(k.AttachDocPreview,{doc:(0,r._)({},e,{url:T}),meta:R[0]+" · "+R[1],isInBubble:o,forwardLevel:f}):n.createElement(n.Fragment,null,n.createElement(v.ExternalLink,{onClick:M,onAuxClick:M,href:T,className:g()("AttachDoc",C)},n.createElement(w.AttachmentCell,{isInBubble:o,isOut:y,image:P?P.url:O,title:e.title,subtitle:R,alt:e.title})),A.isActive&&n.createElement(N,{onClose:A.close,title:e.title,url:T}))},N=({onClose:e,url:t,title:o})=>{const{lang:r}=(0,_.useBrowserEnv)();return n.createElement(A.ModalView,{onEscape:e,contextClass:"MEConfig"},n.createElement(I.ModalBackdrop,{onClick:e},n.createElement(S.ModalPanel,{className:"AttachDoc__unsafe-modal"},n.createElement(x.ModalHeader,{closeLabel:r.use("me_close"),onClose:e,title:r.use("me_download_unsafe_title")}),n.createElement(M.ModalBody,null,n.createElement(C.FormattedLangKey,{langkey:"me_download_unsafe_text",values:{filename:n.createElement("b",{className:"AttachDoc__unsafe-filename"},o)}})),n.createElement(P.ModalFooter,{buttons:[n.createElement(y.Button,{mode:"tertiary",key:"cancel",onClick:e},r.use("me_cancel")),n.createElement(y.Button,{href:t,download:!0,mode:"primary",onClick:e,key:"download"},r.use("me_download"))]}))))}},401208:(e,t,o)=>{"use strict";o.d(t,{AttachDocPreview:()=>u});o(861848);var r=o(667294),n=o(197934),a=o(597298),i=o(803524),s=o(996955),l=o(696023),c=o(15285),d=o(293216);const u=({doc:e,meta:t,isInBubble:o=!1,forwardLevel:u=0})=>{const[m,h]=(0,r.useState)(!1),v=(0,l.usePixelDensity)(),p="gif"===e.ext,[f,g]=(0,c.getExpectedAttachWidth)(v,o,u,232),_=n.preview(e,g);if(!_)return null;const b=Math.min(_.width,f),k=Math.ceil(_.height/_.width*b);return r.createElement(a.ExternalLink,{href:e.url,className:"AttachDocPreview",style:{width:Math.max(b,120),height:Math.max(k,120)},onClick:p?e=>{h((e=>!e)),e.preventDefault()}:void 0,target:p?"_self":"_blank"},r.createElement(d.PhotoItem,{className:"AttachDocPreview__photoItem",alt:e.title,src:m?e.url:_.url,width:Math.max(b,120),height:Math.max(k,120)}),p&&!m&&r.createElement("div",{className:"AttachDocPreview__play"},r.createElement(s.Icon32Play,null)),r.createElement(i.ComposerAttachPreviewMeta,{rounded:!0,top:!0,left:!0},r.createElement("span",{className:"AttachDocPreview__meta"},t)))}},650938:(e,t,o)=>{"use strict";o.d(t,{AttachVideos:()=>I,getDuration:()=>A});var r=o(434788),n=(o(458327),o(667294)),a=o(197934),i=o(294184),s=o.n(i),l=o(996955),c=o(96715),d=o(89131),u=o(597298),m=o(15285),h=o(704057),v=o(747578),p=o(293216),f=o(313434),g=o(96190),_=o(696023),b=o(86894),k=o(480365),E=o(895698),y=o(907312);const w=220,C=100,I=({videos:e,isCompact:t=!1,forwardLevel:o=0,attachmentsCount:i,showDateOutInsidePublicVideo:s,isUnread:l,message:c,getAdditionalLinkPayload:d,onWidthChange:u})=>{const p=(0,m.getAttachForwardIndent)(o),{width:f,minHeight:b,maxSingleHeight:k,preferredRatio:E}=(0,h.useImagesLayout)(),I=f-p,A=1===e.length,x=(0,_.usePeers)(),M=(0,_.useFeatureFlags)(),P=function(e,t,o){if(!o)return t;return"width"===e?Math.max(w,t):Math.max(C,t)}("width",f,A),R=(0,n.useMemo)((()=>e.reduce(((e,t)=>e+"__"+t.id),`${I}__${b}__${E}`)),[e,I,b,E]),N=(0,n.useMemo)((()=>{const t=e.reduce(((e,t)=>{const o=a.preview(t,I);return o&&e.push((0,r._)({},o,{width:o.width||t.width||1600,height:o.height||t.height||900,videoAttach:t})),e}),[]);if(!t.length)return null;const o=(0,v.computeAttachePhotosLayout)(E,I,{minHeight:b,maxSingleHeight:k},t),n=(0,v.applyGap)(o,2),i=n[0][0];if(A){const e=a.preview(i.videoAttach,I),t=e&&e.height<i.height?Math.max(e.height,C):Math.max(i.height,C),o=e&&e.width<i.width?Math.max(e.width,w):Math.max(i.width,w);return[[(0,r._)({},i,{height:t,width:o})]]}return n}),[R,b,k,E,I]),T=M.vkm_new_attach_video&&1===i&&N&&!N[0][0].videoAttach.isFromMessage&&void 0===N[0][0].videoAttach.platform&&"short_video"!==N[0][0].videoAttach.type&&N[0][0],O=e.filter((e=>!x.has(g.resolveId(e.ownerId)))).map((e=>g.resolveId(e.ownerId))),{fetchProfilesAndGroups:j}=(0,y.useConvoAttachesGetMissedPeers)(O);return(0,n.useEffect)((()=>{var e,t,o,r;null==(r=u)||r(A?T?P:(null==(o=N)||null==(t=o[0])||null==(e=t[0])?void 0:e.width)||0:I)}),[I,A,u,R]),(0,n.useEffect)((()=>{j()}),[]),N?n.createElement("div",{className:"AttachVideos AttachVideos--inBubble",style:{maxWidth:A?T?P:"max-content":I,"--videoAttachGap":"2px"}},N.map(((o,r)=>n.createElement("div",{className:"AttachVideos__layoutRow",key:`${r}__${R}`},o.map((({width:o,height:r,url:a,videoAttach:u})=>{const{id:m,duration:h,platform:v,files:p,restriction:f}=u;return n.createElement(S,{key:m,src:a,width:o,height:r,video:u,showPlayIcon:e.length<=3,duration:h,isCompact:t,platform:v,files:p,restriction:f,attachmentsCount:i,isTheOnlyAttach:A,isUnread:l,maxWidthPublicVideo:P,message:c,showDateOutInsidePublicVideo:s,getAdditionalLinkPayload:d})})))))):null},S=({src:e,width:t,height:o,video:r,duration:a,isCompact:i,restriction:d,files:m,platform:h,showPlayIcon:v,attachmentsCount:y,isTheOnlyAttach:w,maxWidthPublicVideo:C,showDateOutInsidePublicVideo:I,isUnread:S,message:x,getAdditionalLinkPayload:M})=>{var P,R,N,T,O,j,L,B,V,D,K,H,U;const G=(0,_.useFeatureFlags)(),$=(0,_.usePeers)(),{lang:F,vkDomain:z}=(0,_.useBrowserEnv)(),W=!!(null==(P=d)?void 0:P.isBlur),Z=void 0===(null==(R=d)?void 0:R.canPlay)||d.canPlay,J=A(a,!!(null==(N=m)?void 0:N.external))||h,q=G.vkm_new_attach_video&&1===y&&!r.isFromMessage&&void 0===r.platform&&"short_video"!==r.type&&r,Y=G.vkm_new_attach_video&&1===y&&void 0!==r.platform&&r&&r;let X;!1!==q&&w&&$.has(g.resolveId(q.ownerId))&&(X=g.safeGet($,g.resolveId(q.ownerId)));const Q=!1!==q&&function(e,t){if(!e)return"";const o=Date.now()/1e3-e/1e3;if(o<60)return t.use("me_video_added_less_than_a_minute_ago");if(o<3600)return t.use("me_video_mins_ago",{num:Math.floor(o/60)});if(o<86400)return t.use("me_video_hours_ago",{num:Math.floor(o/3600)});if(o<2592e3)return t.use("me_video_days_ago",{num:Math.floor(o/86400)});if(o<31536e3)return t.use("me_video_months_ago",{num:Math.floor(o/2592e3)});return t.use("me_video_years_ago",{num:Math.floor(o/31363200)})}(q.uploadDate,F),ee="short_video"===r.type||!r.isFromMessage||(null==(T=r.files)?void 0:T.external)?void 0:r.position,te=!!d&&(W||!Z);return n.createElement("div",{className:"AttachVideos__base"},n.createElement(u.Link,{to:{kind:"AttachMediaProxyRoute",attach:r,source:null==(O=M)?void 0:O(ee)},className:"AttachVideos__link",disabled:!Z},"short_video"===r.type?n.createElement(f.AttachVideosClip,{ownerId:r.ownerId,clip:r,previewUrl:e,isRestricted:te,isCompact:i}):n.createElement(n.Fragment,null,n.createElement(p.PhotoItem,{width:q?C:t,height:o,src:e,alt:r.title,widthAndHeightAsAttr:!!q,className:s()({AttachVideos__previewBackdrop:W||!Z})}),!(W||!Z)&&n.createElement(n.Fragment,null,v&&n.createElement("div",{className:"AttachVideos__videoPlay"},n.createElement(l.Icon32Play,null)),J&&"live"!==r.type&&n.createElement("div",{className:"AttachVideos__videoInfo"},J),"live"===r.type&&n.createElement("div",{className:"AttachVideos__videoLive"},n.createElement(k.IconLiveText20h,{className:"AttachVideos__videoLive--icon"}))),(W||!Z)&&n.createElement("div",{className:"AttachVideos__videoRestrictionWrap"},n.createElement("div",{className:"AttachVideos__videoIconRestriction",style:{backgroundImage:`url('${null==(B=d)||null==(L=B.cardIcon)||null==(j=L.slice(-1).pop())?void 0:j.url}')`,filter:"invert(100%)"}}),void 0!==(null==(V=d)?void 0:V.title)&&n.createElement("div",null,d.title)))),q&&X&&n.createElement("div",{className:"AttachVideos__info"},n.createElement(b.Subhead,{className:"AttachVideos__videoName"},n.createElement(u.Link,{to:{kind:"AttachMediaProxyRoute",attach:r,source:null==(D=M)?void 0:D(ee)},className:"AttachVideos__videoName--link",disabled:!Z},q.title)),n.createElement("div",{className:"AttachVideos__authorName"},r.mainArtists&&r.mainArtists.map(((e,t,o)=>n.createElement(u.ExternalLink,{href:`https://${z}/artist/${e.domain}`,className:"AttachVideos__authorLink AttachVideos__artistLink"},n.createElement("span",null,e.name),t<o.length-1&&n.createElement("span",null,", ")))),!r.mainArtists&&n.createElement(u.ExternalLink,{href:`https://${z}/${"short_video"===q.type?"clips/":"video/@"}${g.linkVideo(X)}`,className:"AttachVideos__authorLink"},n.createElement("span",null,g.name(X)),"isVerified"in X&&X.isVerified&&n.createElement("span",null,n.createElement(c.Icon16Verified,{className:"AttachVideos__authorVerified"})))),Z&&n.createElement("div",{className:"AttachVideos__views"},F.use("me_convo_attaches_video_views",{num:q.views,formatted:"short",values:{count:F.formatNumber(q.views,"short")}}),Q&&n.createElement(n.Fragment,null," · ",Q),I&&"Normal"===(null==(K=x)?void 0:K.kind)&&void 0!==S&&n.createElement(E.ConvoMessageBottomInfo,{className:"ConvoMessage__info",dateClassName:"ConvoMessage__date",message:x,isUnread:S,showDate:!0}))),Y&&n.createElement("div",{className:"AttachVideos__info"},n.createElement(b.Subhead,{className:"AttachVideos__videoName AttachVideos__videoName--external"},Y.title),n.createElement("div",{className:"AttachVideos__views"},n.createElement(u.ExternalLink,{href:(null==(H=Y.files)?void 0:H.external)||"",className:"AttachVideos__authorLink"},Y.platform,I&&"Normal"===(null==(U=x)?void 0:U.kind)&&void 0!==S&&n.createElement(E.ConvoMessageBottomInfo,{className:"ConvoMessage__info ConvoMessage__info--external",dateClassName:"ConvoMessage__date",message:x,isUnread:S,showDate:!0})))))};function A(e,t){return void 0===e?"":!t||t&&e?(0,d.formatDuration)(e):""}},313434:(e,t,o)=>{"use strict";o.d(t,{AttachVideosClip:()=>v});var r=o(667294),n=o(294184),a=o.n(n),i=o(300993),s=o(29870),l=o(522300),c=o(696023),d=o(248390),u=o(936890),m=o(293216),h=o(96190);o(80510);const v=({ownerId:e,clip:t,previewUrl:o,isRestricted:n=!1,isCompact:v=!1})=>{const p=(0,c.usePeers)(),{lang:f}=(0,c.useBrowserEnv)(),g=h.safeGet(p,h.resolveId(e));return r.createElement("div",{className:a()("AttachVideosClip",{"AttachVideosClip--restricted":n}),style:{width:(v?132:200)+"px",height:(v?236:356)+"px"}},r.createElement("div",{className:"AttachVideosClip__container"},!n&&r.createElement(r.Fragment,null,r.createElement("div",{className:"AttachVideosClip__head"},r.createElement(u.Avatar,{peer:g,size:20,className:"AttachVideosClip__avatar"}),r.createElement(d.PeerTitle,{peer:g,className:"AttachVideosClip__title",iconColor:"var(--vkui--color_text_contrast)"})),r.createElement(m.PhotoItem,{width:v?132:200,height:v?236:356,src:o,alt:t.title}),r.createElement("div",{className:"AttachVideosClip__videoPlay"},r.createElement(i.Icon24Play,null)),r.createElement("span",{className:"AttachVideosClip__logo"},r.createElement(s.Icon20LogoClipsOutline,null))),n&&r.createElement("div",{className:"AttachVideosClip__restrictedContainer"},r.createElement(l.Icon28LockOutline,{className:"AttachVideosClip__restrictedIcon"}),r.createElement("p",{className:"AttachVideosClip__restrictedText"},f.use("me_attach_clip_private")))))}},959107:(e,t,o)=>{"use strict";o.d(t,{AttachmentCell:()=>c,AttachmentCellButton:()=>d});var r=o(434788),n=o(86894),a=(o(238931),o(667294)),i=o(293216),s=o(294184),l=o.n(s);const c=({className:e,isAvailable:t=!0,isClickable:o,isOut:r=!1,isInBubble:s=!1,title:c,subtitle:d,image:u,imageShape:m="square",icon:h,alt:v,imageDetailRightBottom:p,buttonRight:f,additionalBlock:g})=>{const _=(0,n.useAppearance)();o=void 0===o?!f:o;const b=(0,a.useCallback)((()=>{const e="roundWithBorder"===m?"calc(var(--attachmentCellImageHeight) - 5px)":"var(--attachmentCellImageHeight)";return a.createElement("div",{className:l()("AttachmentCell__imageBlockContainer",{"AttachmentCell__imageBlockContainer--inOutBubble":s&&r,"AttachmentCell__imageBlockContainer--isDark":"dark"===_,"AttachmentCell__imageBlockContainer--roundWithBorder":"roundWithBorder"===m,"AttachmentCell__imageBlockContainer--round":"round"===m,"AttachmentCell__imageBlockContainer--square":"square"===m})},a.createElement("div",{className:"AttachmentCell__imageBlockBackground"}),a.createElement("div",{className:l()("AttachmentCell__imageBlock")},"string"==typeof u?a.createElement(i.PhotoItem,{className:"AttachmentCell__photoItem",src:u,height:e,width:e,alt:v,cover:!0}):u),h&&a.createElement("div",{className:l()("AttachmentCell__icon",{"AttachmentCell__icon--withImage":u,"AttachmentCell__icon--roundWithBorder":"roundWithBorder"===m,"AttachmentCell__icon--round":"round"===m,"AttachmentCell__icon--square":"square"===m})},h),p&&a.createElement("div",{className:"AttachmentCell__imageDetailLeftBottom"},p))}),[m,s,r,_,u,v,h,p]),k=(0,a.useCallback)((()=>Array.isArray(d)?`${d[0]} ᐧ ${d[1]}`:d),[d]);return a.createElement("div",{className:l()(e,"AttachmentCell",{"AttachmentCell--withButton":f,"AttachmentCell--clickable":o})},b(),a.createElement("div",{className:"AttachmentCell__infoBlockContainer"},a.createElement("div",{className:"AttachmentCell__infoBlock"},t?a.createElement(a.Fragment,null,a.createElement(n.Headline,{level:"1",className:"AttachmentCell__headline"},c),a.createElement(n.Footnote,{className:l()("AttachmentCell__footnote",{"AttachmentCell__footnote--inOutBubble":s&&r,"AttachmentCell__footnote--isDark":"dark"===_})},k())):a.createElement(n.Headline,{level:"1",className:"AttachmentCell__headline AttachmentCell__headline--unavailable"},c)),g&&a.createElement("div",{className:"AttachmentCell_additionalBlockContainer"},g)),f&&a.createElement("div",{className:"AttachmentCell_buttonContainer"},f))},d=e=>a.createElement(n.Button,(0,r._)({size:"s",mode:"primary"},e),e.children)},936890:(e,t,o)=>{"use strict";o.d(t,{Avatar:()=>d});o(380283);var r=o(667294),n=o(294184),a=o.n(n),i=o(696023),s=o(89131),l=o(83298),c=o(811632);const d=r.memo((function({peer:e,size:t,activityIndicator:o,withOnline:n=!1,withBirthday:s=!1,activeCall:l,className:d}){const m=function(e,t){var o;if(!(null==(o=e)?void 0:o.isOnline))return"Offline";if(t)switch(e.platform){case"vkme":case"mobile":return"Mobile";case"other":return"Online";default:e.platform;return"Online"}return"Offline"}((0,i.useLastSeen)(e.id),n),h=!!l,v=s&&function(e){var t;if("User"!==e.kind||!e.bdate)return!1;const o=new Date,r=String(o.getDate()),n=String(o.getMonth()+1),{day:a,month:i}=(null==(t=RegExp("(?<day>\\d+)\\.(?<month>\\d+)").exec(e.bdate))?void 0:t.groups)||{};return a===r&&i===n}(e),p=(0,r.useMemo)((()=>({width:t,height:t})),[t]),f=function(e,t,o){return`mePeerFrame${e}${t}${o?"c":""}`}(m,t,h||v),g=`url(#${f}Mask${e.id})`,_=a()("MEAvatar",`MEAvatar--size-${t}`,{"MEAvatar--withActivity":!!o,"MEAvatar--emptyCall":"empty"===l},d);return r.createElement("figure",{style:p,className:_},r.createElement("div",{className:"MEAvatar__imgWrapper",style:{clipPath:g}},r.createElement(c.PeerAvatar,{peer:e,size:t}),o&&r.createElement("div",{className:"MEAvatar__activityIndicator"},o)),r.createElement(u,{frameType:m}),v&&r.createElement("div",{className:"MEAvatar__upperRightIcon MEAvatar__birthday"},r.createElement("svg",{className:"MEAvatar__upperRightIconSvg"},r.createElement("use",{href:"#meCake10"}))),h&&r.createElement("div",{className:"MEAvatar__upperRightIcon MEAvatar__call"},r.createElement("svg",{className:"MEAvatar__upperRightIconSvg"},r.createElement("use",{href:"#mePhone10"}))),r.createElement("svg",{className:"MEAvatar__svg"},r.createElement("clipPath",{id:f+"Mask"+e.id},r.createElement("use",{href:"#"+f})),r.createElement("use",{href:"#"+f,className:"MEAvatar__shadow",clipPath:g})))}));const u=({frameType:e})=>{switch(e){case"Mobile":return r.createElement("div",{className:"MEAvatar__mobile"},r.createElement(l.Icon12OnlineMobile,null));case"Online":return r.createElement("div",{className:"MEAvatar__online"});case"Offline":return null;default:(0,s.exhaustivenessCheck)(e)}}},377291:(e,t,o)=>{"use strict";o.d(t,{AvatarFavorites:()=>c});var r=o(667294),n=(o(320428),o(294184)),a=o.n(n),i=o(696023),s=o(359251),l=o(999411);const c=({size:e,className:t})=>{const{lang:o}=(0,i.useBrowserEnv)(),n=(0,r.useMemo)((()=>({width:e,height:e})),[e]),s=a()("AvatarFavorites",t);return r.createElement("div",{style:n,className:s,"aria-label":o.use("me_favorites")},d[e])},d={24:r.createElement("svg",{fill:"currentColor",height:"12",width:"12",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r.createElement("path",{d:"M5.55 1.29h.9c.58 0 1.05 0 1.42.03.38.03.71.1 1.01.25.49.24.88.64 1.13 1.12.15.3.21.63.25 1.01.03.38.03.84.03 1.42v3.7c0 .44 0 .8-.03 1.07-.02.27-.08.55-.25.77-.24.3-.61.48-1 .48-.28 0-.53-.12-.76-.27-.23-.15-.51-.36-.85-.63l-.82-.64a1.8 1.8 0 00-.47-.32.43.43 0 00-.22 0 1.8 1.8 0 00-.47.32l-.82.64c-.34.27-.62.48-.85.63-.23.15-.48.28-.76.27-.39 0-.76-.18-1-.48-.17-.22-.23-.5-.25-.77-.03-.28-.03-.63-.03-1.06v-3.7c0-.59 0-1.05.03-1.43.04-.38.1-.71.25-1.01.25-.48.64-.88 1.13-1.12.3-.16.63-.22 1-.25.38-.03.85-.03 1.43-.03zm-1.35.88c-.33.03-.53.08-.7.16-.32.16-.58.43-.74.75-.08.16-.13.36-.16.69-.03.34-.03.77-.03 1.37v3.67c0 .46 0 .77.02 1 .02.24.06.3.07.32.08.1.2.16.34.16.01 0 .09-.01.29-.14.2-.12.44-.32.8-.6l.8-.62.06-.04c.25-.2.46-.37.71-.43.22-.06.46-.06.68 0 .25.06.46.23.71.43l.06.04.8.62c.36.28.6.48.8.6.2.13.28.14.3.14.12 0 .25-.06.33-.16 0-.02.05-.08.07-.32.02-.23.02-.54.02-1V5.14c0-.6 0-1.03-.03-1.37a1.81 1.81 0 00-.16-.7 1.71 1.71 0 00-.75-.74 1.81 1.81 0 00-.69-.16c-.33-.03-.76-.03-1.37-.03h-.86c-.6 0-1.04 0-1.37.03z"})),32:r.createElement("svg",{fill:"currentColor",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r.createElement("path",{d:"M7.4 1.71h1.2c.78 0 1.4 0 1.9.05.5.04.94.12 1.34.33.65.33 1.17.85 1.5 1.5.2.4.3.83.33 1.34.04.5.04 1.12.04 1.9v4.94c0 .58 0 1.05-.03 1.41-.03.37-.1.74-.34 1.03-.32.4-.8.65-1.33.65-.37 0-.7-.17-1.01-.36-.31-.2-.68-.5-1.14-.84l-1.09-.85a2.4 2.4 0 00-.62-.43.57.57 0 00-.3 0 2.4 2.4 0 00-.62.43l-1.1.85c-.45.35-.82.64-1.13.84-.3.2-.64.36-1.01.36-.52 0-1.01-.24-1.33-.65-.24-.3-.3-.66-.34-1.03-.03-.36-.03-.83-.03-1.4V6.82c0-.78 0-1.4.04-1.9s.13-.94.33-1.34c.33-.65.85-1.17 1.5-1.5.4-.2.83-.3 1.35-.33.5-.05 1.11-.05 1.9-.05zM5.6 2.9c-.44.04-.71.1-.92.22-.43.22-.78.57-1 1-.11.2-.18.48-.21.92a24.9 24.9 0 00-.04 1.83v4.88c0 .61 0 1.03.03 1.34.03.32.08.4.1.42.1.14.26.22.44.22.02 0 .12-.01.38-.19.26-.16.6-.42 1.08-.8l1.07-.83.07-.05c.33-.26.62-.48.95-.57.3-.08.6-.08.9 0 .33.09.62.31.95.57l.07.05 1.07.84c.49.37.82.63 1.08.8.26.17.36.18.38.18.18 0 .34-.08.45-.22.01-.02.06-.1.1-.42.02-.3.02-.73.02-1.34V6.86c0-.81 0-1.39-.04-1.83-.03-.44-.1-.71-.2-.92a2.29 2.29 0 00-1-1c-.22-.11-.49-.18-.93-.22a24.9 24.9 0 00-1.83-.03H7.43c-.81 0-1.38 0-1.83.03z"})),40:r.createElement("svg",{fill:"currentColor",height:"20",width:"20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r.createElement("path",{d:"M9.25 2.14h1.5c.97 0 1.74 0 2.37.05a4.4 4.4 0 011.68.42c.8.41 1.46 1.07 1.88 1.87.25.5.36 1.05.41 1.69.05.62.05 1.4.05 2.37v6.18c0 .71 0 1.3-.04 1.76-.04.45-.13.92-.42 1.28-.4.51-1.01.8-1.66.81-.47 0-.89-.2-1.27-.45-.39-.25-.85-.6-1.42-1.05L10.96 16a3 3 0 00-.77-.54.71.71 0 00-.38 0 3 3 0 00-.77.54l-1.37 1.06c-.57.44-1.03.8-1.42 1.05-.38.24-.8.46-1.27.45-.65 0-1.26-.3-1.66-.8a2.36 2.36 0 01-.42-1.29c-.04-.46-.04-1.05-.04-1.76V8.54c0-.97 0-1.75.05-2.37a4.4 4.4 0 01.41-1.69A4.29 4.29 0 015.2 2.61a4.4 4.4 0 011.68-.42c.63-.05 1.4-.05 2.37-.05zM7 3.62c-.55.04-.89.13-1.15.26-.54.28-.98.71-1.25 1.25-.14.27-.22.6-.27 1.15-.04.56-.04 1.28-.04 2.3v6.1c0 .76 0 1.29.03 1.67.04.4.1.5.12.52.13.17.34.27.55.28.03 0 .16-.02.5-.23.32-.21.73-.53 1.33-1l1.34-1.04a41 41 0 00.09-.07c.4-.32.77-.6 1.19-.72.37-.1.75-.1 1.12 0 .42.12.78.4 1.2.72l.08.07 1.34 1.04c.6.47 1.01.79 1.34 1 .33.21.46.23.49.23.21 0 .42-.1.55-.27.02-.03.08-.13.12-.53.03-.38.03-.9.03-1.67v-6.1c0-1.02 0-1.74-.04-2.3a3.02 3.02 0 00-.27-1.15 2.86 2.86 0 00-1.25-1.25c-.26-.13-.6-.22-1.15-.26-.56-.05-1.27-.05-2.29-.05H9.3c-1.02 0-1.73 0-2.3.05z"})),44:r.createElement("svg",{fill:"currentColor",height:"22",width:"22",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r.createElement("path",{d:"M10.18 2.36h1.64c1.07 0 1.92 0 2.61.05.7.06 1.3.18 1.85.46.89.45 1.61 1.17 2.06 2.06.28.55.4 1.15.46 1.85.06.7.06 1.54.06 2.61v6.8c0 .79 0 1.44-.05 1.94-.04.5-.14 1-.46 1.4-.44.57-1.12.9-1.83.9a2.6 2.6 0 01-1.4-.5c-.42-.27-.93-.67-1.56-1.15l-1.5-1.17a3.3 3.3 0 00-.85-.59.78.78 0 00-.42 0 3.3 3.3 0 00-.85.59l-1.5 1.17c-.63.48-1.14.88-1.56 1.15-.42.27-.89.5-1.4.5-.71 0-1.39-.33-1.83-.9a2.6 2.6 0 01-.46-1.4c-.05-.5-.05-1.15-.05-1.94v-6.8c0-1.07 0-1.92.06-2.6.06-.7.18-1.3.46-1.86a4.71 4.71 0 012.06-2.06c.55-.28 1.15-.4 1.85-.46.69-.05 1.54-.05 2.61-.05zM7.7 3.98c-.6.05-.98.14-1.27.3-.6.3-1.07.77-1.37 1.36-.15.3-.25.67-.3 1.27-.05.62-.05 1.4-.05 2.52v6.72c0 .84 0 1.41.04 1.84.04.43.11.55.13.57.15.19.38.3.61.3.04 0 .17-.01.54-.25.36-.23.81-.58 1.47-1.1l1.47-1.14.1-.08c.45-.35.85-.66 1.31-.79.4-.1.83-.1 1.24 0 .46.13.86.44 1.3.8l.1.07 1.48 1.14c.66.52 1.11.87 1.47 1.1.37.24.5.25.54.25.23 0 .46-.11.6-.3.03-.02.1-.14.14-.57.03-.43.04-1 .04-1.84V9.43c0-1.11 0-1.9-.06-2.52-.04-.6-.14-.97-.29-1.27-.3-.59-.78-1.07-1.37-1.37-.3-.15-.66-.24-1.27-.29-.61-.05-1.4-.05-2.51-.05H10.2c-1.1 0-1.9 0-2.51.05z"})),46:r.createElement("svg",{fill:"currentColor",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},r.createElement("path",{d:"M11.1 2.57h1.8c1.16 0 2.1 0 2.84.06.77.07 1.42.2 2.02.5.97.5 1.76 1.28 2.25 2.25.3.6.44 1.25.5 2.02.06.75.06 1.68.06 2.85v7.4c0 .87 0 1.58-.05 2.13-.05.54-.16 1.1-.5 1.53-.49.61-1.22.97-2 .98-.56 0-1.06-.25-1.52-.55-.47-.3-1.02-.73-1.7-1.26l-1.64-1.27a3.6 3.6 0 00-.94-.64.86.86 0 00-.44 0 3.6 3.6 0 00-.94.64L9.2 20.48c-.68.53-1.23.97-1.7 1.26-.46.3-.96.55-1.52.55-.78 0-1.51-.37-2-.98-.34-.44-.45-1-.5-1.53-.05-.55-.05-1.26-.05-2.12v-7.41c0-1.17 0-2.1.06-2.85.06-.77.2-1.42.5-2.02a5.14 5.14 0 012.25-2.25c.6-.3 1.25-.43 2.02-.5.75-.06 1.68-.06 2.85-.06zM8.4 4.34c-.66.06-1.07.16-1.39.32-.64.33-1.16.85-1.5 1.5-.16.32-.26.72-.31 1.38-.06.67-.06 1.53-.06 2.75v7.32c0 .92 0 1.55.05 2.01.04.48.12.6.14.63.16.2.4.32.66.33.04 0 .19-.02.59-.28.39-.25.88-.63 1.6-1.2l1.61-1.24.1-.09c.5-.38.93-.72 1.44-.86.44-.12.9-.12 1.34 0 .5.14.94.48 1.43.86l.11.09 1.6 1.24c.73.57 1.22.95 1.61 1.2.4.26.55.28.59.28.26 0 .5-.13.66-.33.02-.03.1-.15.14-.63.05-.46.05-1.09.05-2v-7.33c0-1.22 0-2.08-.06-2.75a3.62 3.62 0 00-.32-1.38 3.43 3.43 0 00-1.5-1.5 3.62 3.62 0 00-1.38-.32c-.67-.05-1.53-.05-2.74-.05h-1.72c-1.21 0-2.07 0-2.74.05z"})),48:r.createElement(s.Icon24BookmarkOutline,null),56:r.createElement(l.Icon56BookmarkOutline,{width:36,height:36}),80:r.createElement(l.Icon56BookmarkOutline,null)}},755810:(e,t,o)=>{"use strict";o.d(t,{BasicAvatar:()=>i,useAvatarPhoto:()=>s});var r=o(667294),n=o(659397),a=o(696023);o(419308);const i=({url:e,alt:t,text:o,size:a,color:i,className:s,onError:l})=>{const[c,d]=(0,r.useState)(!1),u="contact"===i?"BasicAvatar__noImg--color-contact":`BasicAvatar__noImg--color-${Math.abs((null!=i?i:0)%6)}`,m=(0,n.classNames)("BasicAvatar",`BasicAvatar--size-${a}`,s),h=(0,r.useMemo)((()=>[...o].slice(0,2).join("")),[o]);return r.createElement("div",{className:m},e&&!c?r.createElement("img",{className:"BasicAvatar__img",alt:t,src:e,onError:()=>{var e;d(!0),null==(e=l)||e()}}):r.createElement("div",{className:(0,n.classNames)("BasicAvatar__noImg",{[u]:void 0!==i})},h))};function s(e,t){var o;const r=(0,a.usePixelDensity)();if(!e)return;r&&(t*=2);return null==(o=[{size:50,url:e.photo50},{size:100,url:e.photo100||e.photo50},{size:200,url:e.photo200||e.photo100||e.photo50}].find((e=>t<=e.size&&Boolean(e.url))))?void 0:o.url}},803524:(e,t,o)=>{"use strict";o.d(t,{ComposerAttachPreviewMeta:()=>s});var r=o(434788),n=(o(814106),o(667294)),a=o(294184),i=o.n(a);const s=({children:e,rounded:t,offsetLength:o=5,top:a,right:s,bottom:l,left:c})=>{const d=["ComposerAttachPreviewMeta",{"ComposerAttachPreviewMeta--rounded":t}],u=o+"px",m=(0,r._)({},a&&{top:u},s&&{right:u},l&&{bottom:u},c&&{left:u},{maxWidth:`calc(100% - ${2*o}px)`});return n.createElement("div",{className:i()(d),style:m},e)}},179636:(e,t,o)=>{"use strict";o.d(t,{ContextMenu:()=>h});o(181876);var r=o(667294),n=o(837492),a=o(429697),i=o(294184),s=o.n(i),l=o(696023),c=o(89131),d=o(576697),u=o(367763),m=o(163332);const h=(0,r.forwardRef)((({classNames:e={},content:t,forceUpdateContent:o,canOpen:i=!0,open:h=!1,hideOnClick:p=!0,hideOnWheel:f=!0,allowNativeContextMenu:g=!1,onStartOpening:_,onOpen:b,onClose:k,children:E,position:y="bottom",align:w="left",onPositionChange:C,getToggleOpen:I},S)=>{var A;const{isTouchOnly:x}=(0,u.useDeviceData)(),[M,P]=(0,r.useState)(!1),R=(0,l.usePrevious)(M),N=(0,l.usePrevious)(h),T=(0,r.useRef)(M);T.current=M;const[O,j]=(0,r.useState)(t),[L,B]=(0,r.useState)({x:-999,y:-999}),[V,D]=(0,r.useState)("closed"),K=(0,r.useContext)(m.DropdownDepthContext),H=(0,r.useCallback)((e=>{D((t=>{let o;switch(o="function"==typeof e?e(t):e,o){case"opening":case"opened":var r;null==(r=K)||r.setChildOpen(!0);break;case"closing":case"closed":var n;null==(n=K)||n.setChildOpen(!1);break;default:(0,c.exhaustivenessCheck)(o)}return o}))}),[K]),U=(0,r.useCallback)((({preventDefault:e,x:t,y:o})=>{var r;g||(null==(r=e)||r());H((r=>{switch(r){case"opened":case"opening":case"closing":return"closing";case"closed":var n;if(g)null==(n=e)||n();return B({x:t,y:o}),"opening";default:(0,c.exhaustivenessCheck)(r)}}))}),[g,H]);null==(A=I)||A(U),(0,r.useLayoutEffect)((()=>{var e;if(!v(S))return;const t=S.current,o=e=>{U({x:e.clientX,y:e.clientY,preventDefault:e.preventDefault.bind(e)})};return null==(e=t)||e.addEventListener("contextmenu",o),()=>{var e;null==(e=t)||e.removeEventListener("contextmenu",o)}}),[S,g,H,U]),(0,d.useLongTouch)(x&&v(S),v(S)?S:{current:null},(({touches:e})=>{var t,o;U({x:(null==(t=e[0])?void 0:t.clientX)||0,y:(null==(o=e[0])?void 0:o.clientY)||0})}));const G=(0,r.useCallback)((()=>{H((e=>{switch(e){case"opening":case"closed":return"closed";case"opened":case"closing":return"closing";default:return(0,c.exhaustivenessCheck)(e)}}))}),[H]),$=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),p&&G()}),[p,G]);(0,r.useLayoutEffect)((()=>{H((e=>h&&i||"closed"===e?i&&h&&"opened"!==e?"opening":e:F.current?"closing":"closed"))}),[h,i,H]);const F=(0,r.useRef)(null),z=(0,r.useCallback)((e=>{var t;return e instanceof Node&&(null==(t=F.current)?void 0:t.contains(e))}),[]);return(0,r.useLayoutEffect)((()=>{const e=e=>{z(e.target)||T.current||G()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[g,z,V,G]),(0,r.useEffect)((()=>{var e,t,o;"opening"===V&&(null==(e=_)||e());"opened"===V&&(null==(t=b)||t());"closed"===V&&(null==(o=k)||o(),P(!1))}),[V]),(0,r.useEffect)((()=>{const e=!M&&R,r=!h&&N;!o&&(["closing","opening"].includes(V)||e||r)||j(t)}),[M,t,V,R,o,h,N]),(0,r.useEffect)((()=>{if(!f||"opened"!==V)return;const e=({target:e})=>{z(e)||T.current||G()};return window.addEventListener("wheel",e,!0),()=>{window.removeEventListener("wheel",e,!0)}}),[z,V,G,f]),r.createElement(m.DropdownRootCloseContext.Provider,{value:G},r.createElement(m.DropdownDepthContext.Provider,{value:(0,r.useMemo)((()=>({setChildOpen:P})),[P])},r.createElement(n.Popper,{mode:"cursor",cursor:L,align:w,position:y,portalClassName:e.portal,open:"closed"!==V,onPositionChange:C,watchContentChange:!0,content:r.createElement(a.default,{nodeRef:F,in:"opening"===V||"opened"===V,addEndListener:e=>{var t;return null==(t=F.current)?void 0:t.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"ContextMenu__contentWrapper-",onEntered:()=>H("opened"),onExited:()=>H("closed")},r.createElement("div",{ref:F,className:s()("ContextMenu__contentWrapper",e.contentWrapper),onClickCapture:e=>{M||"closing"===V&&(e.preventDefault(),e.stopPropagation())},onClick:$},O))})))}));function v(e){return!!e&&"function"!=typeof e}},284837:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachAudioActionsMenu:()=>l});var r=o(667294),n=o(599660),a=o(89131),i=o(696023),s=o(430790);const l=({cmid:e,goToMessage:t})=>{const{lang:o}=(0,i.useBrowserEnv)(),l=(0,r.useCallback)((o=>{switch(o){case"share":return;case"go_to_message":return void t(e);default:return(0,a.exhaustivenessCheck)(o)}}),[e,t]);return r.createElement(n.ActionsMenu,null,r.createElement(n.ActionsMenuAction,{onClick:()=>l("go_to_message"),title:o.use("me_attach_action_go_to_message"),leftIcon:r.createElement(s.Icon24MessageArrowRightOutline,null),type:"secondary"}))}},98859:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachDocActionsMenu:()=>l});var r=o(667294),n=o(599660),a=o(430790),i=o(696023),s=o(89131);const l=({cmid:e,goToMessage:t})=>{const{lang:o}=(0,i.useBrowserEnv)(),l=(0,r.useCallback)((o=>{switch(o){case"share":return;case"go_to_message":return void t(e);default:return(0,s.exhaustivenessCheck)(o)}}),[e,t]);return r.createElement(n.ActionsMenu,null,r.createElement(n.ActionsMenuAction,{title:o.use("me_attach_action_go_to_message"),leftIcon:r.createElement(a.Icon24MessageArrowRightOutline,null),onClick:()=>l("go_to_message"),type:"secondary"}))}},394491:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachLinkActionsMenu:()=>s});var r=o(667294),n=o(599660),a=o(430790),i=o(696023);const s=({cmid:e,goToMessage:t})=>{const{lang:o}=(0,i.useBrowserEnv)();return r.createElement(n.ActionsMenu,null,r.createElement(n.ActionsMenuAction,{title:o.use("me_attach_action_go_to_message"),leftIcon:r.createElement(a.Icon24MessageArrowRightOutline,null),onClick:()=>t(e),type:"secondary"}))}},937842:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachesLinks:()=>p});var r=o(667294),n=o(197934),a=o(89131),i=o(385228),s=o(696023),l=o(597298),c=(o(335106),o(294184)),d=o.n(c),u=o(163332),m=o(394491),h=o(367763),v=o(179636);const p=({items:e,goToMessage:t})=>(()=>{const o=new Set;return r.createElement("ul",{className:"ConvoAttachesLinks"},e.map(((e,n)=>{const a=`${e.cmid}_${e.attach.url}`,i=o.has(a)?`${a}_${n}`:a;return o.add(a),r.createElement(f,{key:i,item:e,goToMessage:t})})))})(),f=({item:e,goToMessage:t})=>{const{isTouchOnly:o}=(0,h.useDeviceData)(),[c,p]=(0,r.useState)(!1),{settings:f}=(0,s.useViewer)(),g=f.rightClickActionsEnabled&&!o,[_,b]=(0,r.useState)(null),{lang:k}=(0,s.useBrowserEnv)(),E=e=>{switch(e.kind){case"Link":return e.url;case"MiniApp":return e.shareUrl;default:(0,a.exhaustivenessCheck)(e)}};return r.createElement("li",null,r.createElement(l.ExternalLink,{ref:e=>{b(e)},href:E(e.attach),className:"ConvoAttachesLink"},r.createElement("div",null,r.createElement("div",{className:"ConvoAttachesLink__image-container"},(e=>{var t;const o=48*window.devicePixelRatio,a="Link"===e.kind?n.preview(e,o,o,!0):n.preview(e,o,o);return(null==(t=a)?void 0:t.url)?r.createElement("img",{alt:e.title,src:a.url,className:"ConvoAttachesLink__image"}):r.createElement("div",{className:"ConvoAttachesLink__image"})})(e.attach))),r.createElement("div",{className:"ConvoAttachesLink__content"},r.createElement("div",{className:"ConvoAttachesLink__name"},e.attach.title),r.createElement("div",{className:"ConvoAttachesLink__url"},E(e.attach))),!g&&r.createElement(u.Dropdown,{open:o&&c,classNames:{wrapper:d()("ConvoAttachesLinkItem__dropdown",{"ConvoAttachesLinkItem__dropdown--open":o}),wrapperOpened:"ConvoAttachesLinkItem__dropdown--open"},content:r.createElement(m.ConvoAttachLinkActionsMenu,{cmid:e.cmid,goToMessage:t}),align:"center",position:"bottom",openType:o?"click":"hover"},r.createElement("button",{className:"ConvoProfileAttachments__itemMenuButton","aria-label":k.use("me_actions_more"),onClick:e=>{e.preventDefault(),e.stopPropagation(),p((e=>!e))}},r.createElement(i.Icon20More,null))),g&&r.createElement(v.ContextMenu,{ref:{current:_},allowNativeContextMenu:!0,content:r.createElement(m.ConvoAttachLinkActionsMenu,{cmid:e.cmid,goToMessage:t})})))}},116278:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachesPhotos:()=>_});var r=o(434788),n=(o(704107),o(667294)),a=o(197934),i=o(597298),s=o(163332),l=o(377250),c=o(277659),d=o(432483),u=o(696023),m=o(89131),h=o(599660),v=o(367763),p=o(294184),f=o.n(p),g=o(179636);const _=({photos:e,goToMessage:t,withDateSeparator:o})=>{const r=(0,u.useNow)(),{api:a,lang:i}=(0,u.useBrowserEnv)(),[s,l]=(0,n.useState)(0),c=(0,n.useRef)(null),[d,h]=(0,n.useState)([]);(0,n.useLayoutEffect)((()=>{if(!window.IntersectionObserver)return;if(0!==s)return;if(!c.current)return;const e=new ResizeObserver((t=>{var o;t[0]&&l(t[0].contentRect.width),0===(null==(o=t[0])?void 0:o.contentRect.width)&&e.disconnect()}));return e.observe(c.current),()=>{e.disconnect()}}),[]);const v=(0,n.useCallback)(((e,o)=>{switch(e){case"set_as_avatar":case"copy_link":case"download":case"tag_item":case"tag_service":break;case"delete":a.fetch("photos.delete",{photo_id:o.attach.id,owner_id:o.attach.ownerId}).then((()=>{h((e=>[...e,o.attach.id]))}));break;case"restore":a.fetch("photos.restore",{photo_id:o.attach.id,owner_id:o.attach.ownerId}).then((()=>{h((e=>e.filter((e=>e!==o.attach.id))))}));break;case"go_to_message":t(o.cmid);break;default:(0,m.exhaustivenessCheck)(e)}}),[t,a]);if(!o)return n.createElement("ul",{className:"ConvoAttachesPhotos"},e.map(((e,t)=>{const o=0===t,r=0!==s?k(e.attach,s):void 0;return n.createElement(b,{key:`${e.cmid}-${e.attach.id}-${t}`,isDeleted:d.includes(e.attach.id),photo:e,photoSource:r||void 0,measuredElRef:o?c:void 0,onActionClick:v})})));const p=e.reduce(((t,o,r)=>{var n;const a=0===r,i=e[r-1];return(a||i&&!(0,m.isSameMonth)(1e3*i.date,1e3*o.date))&&t.push([]),null==(n=t[t.length-1])||n.push(o),t}),[]);return n.createElement(n.Fragment,null,p.map(((e,t)=>{var o;const a=(null==(o=e[0])?void 0:o.date)||0;return n.createElement(n.Fragment,{key:t},n.createElement("div",{className:"ConvoAttachesPhotos__dateSeparator"},i.use("me_month_year_date",{now:r,date:1e3*a,genMonths:!1})),n.createElement("ul",{className:"ConvoAttachesPhotos--separated"},e.map(((e,o)=>{const r=0===t&&0===o,a=0!==s?k(e.attach,s):void 0;return n.createElement(b,{key:`${e.cmid}-${e.attach.id}-${o}`,isDeleted:d.includes(e.attach.id),photo:e,photoSource:a||void 0,measuredElRef:r?c:void 0,onActionClick:v})}))))})))},b=({photo:e,measuredElRef:t,photoSource:o,isDeleted:a,onActionClick:m})=>{const{isTouchOnly:p}=(0,v.useDeviceData)(),{lang:_}=(0,u.useBrowserEnv)(),b=(0,u.useOwner)(),{settings:k}=(0,u.useViewer)(),E=k.rightClickActionsEnabled&&!p,y=(0,n.useRef)(null),w=(0,n.useMemo)((()=>n.createElement(n.Fragment,null,n.createElement(h.ActionsMenuAction,{key:"action_go_to_message",onClick:()=>m("go_to_message",e),title:_.use("me_attach_action_go_to_message"),leftIcon:n.createElement(l.Icon20MessageArrowRightOutline,null),type:"secondary"}),e.attach.ownerId===b.id&&n.createElement(h.ActionsMenuAction,{key:"action_delete",onClick:()=>m("delete",e),title:_.use("me_attach_action_delete_photo"),leftIcon:n.createElement(c.Icon20DeleteOutline,null),type:"danger"}))),[_,e,b.id,m]),C={kind:"message",peerId:e.authorId,cmid:e.cmid};return n.createElement("li",{className:"ConvoAttachesPhotos__item",ref:t},o&&!a&&n.createElement(n.Fragment,null,n.createElement(i.Link,{ref:y,to:{kind:"AttachMediaProxyRoute",attach:e.attach,source:C},key:e.attach.id,className:"ConvoAttachesPhotos__link"},n.createElement("img",(0,r._)({},o,{alt:"",className:"ConvoAttachPhoto__img"}))),!E&&n.createElement(s.Dropdown,(0,r._)({classNames:{wrapper:f()("ConvoAttachPhoto__dropdown",{"DropdownReforged--opened":p})},content:n.createElement(h.ActionsMenu,{className:"ConvoActionsMenu"},w),align:"right",position:"bottom"},p?{adaptation:"horizontal"}:{},{hideOnClick:!0}),n.createElement("button",{className:"ConvoAttachPhoto__action","aria-label":_.use("me_actions_more")},n.createElement(d.Icon24MoreHorizontal,null))),E&&n.createElement(g.ContextMenu,{ref:y,allowNativeContextMenu:!0,content:n.createElement(h.ActionsMenu,{className:"ConvoActionsMenu"},w)})),o&&a&&n.createElement("div",{className:"ConvoAttachesPhotos__restore"},n.createElement("div",{className:"ConvoAttachesPhoto__restore-button",onClick:()=>m("restore",e)},_.use("me_attach_action_restore"))))};function k(e,t){const o=a.preview(e,t,t,!1),r=a.preview(e,2*t,2*t,!1);return o||r?o&&r?{srcSet:`${o.url}, ${r.url} 2x`,src:r.url}:{src:o?o.url:r?r.url:""}:null}},872008:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachesVideos:()=>_});o(128831);var r=o(667294),n=o(197934),a=o(96190),i=o(89131),s=o(696023),l=o(163332),c=o(377250),d=o(385228),u=o(597298),m=o(599660),h=o(294184),v=o.n(h),p=o(650938),f=o(367763),g=o(179636);const _=({videos:e,goToMessage:t})=>{const[o,a]=(0,r.useState)(0),{api:l,lang:c}=(0,s.useBrowserEnv)(),d=(0,r.useRef)(null),[u,m]=(0,r.useState)([]),{viewer:h}=(0,s.useViewer)();(0,r.useLayoutEffect)((()=>{if(!window.IntersectionObserver)return;if(0!==o)return;if(!d.current)return;const e=new ResizeObserver((t=>{var o;t[0]&&a(t[0].contentRect.width),0===(null==(o=t[0])?void 0:o.contentRect.width)&&e.disconnect()}));return e.observe(d.current),()=>{e.disconnect()}}),[]);const v=(0,r.useCallback)(((e,o)=>{switch(e){case"go_to_message":t(o.cmid);break;case"delete_from_own":l.fetch("video.delete",{video_id:o.attach.id,owner_id:o.attach.ownerId,target_id:h.id}).then((()=>{m((e=>[...e,o.attach.id]))}));break;case"restore":l.fetch("video.restore",{video_id:o.attach.id,owner_id:o.attach.ownerId}).then((()=>{m((e=>e.filter((e=>e!==o.attach.id))))}));break;case"copy_link":case"download":case"report":case"share":case"add":case"add_to_playlist":break;default:(0,i.exhaustivenessCheck)(e)}}),[t,l,h.id]),p=Date.now();let f=null;return r.createElement("ul",{className:"ConvoAttachesVideos"},e.map(((e,t)=>{const a=0===t,i=new Date(1e3*e.date).getMonth(),s=null===f||i!==f;f=i;const l=0!==o?function(e,t){const o=n.preview(e,t),r=n.preview(e,2*t);if(!o&&!r)return null;if(!o||!r)return{src:o?o.url:r?r.url:""};return{srcSet:`${o.url}, ${r.url} 2x`,src:r.url}}(e.attach,o):void 0;return r.createElement(r.Fragment,null,s&&r.createElement("div",{className:"ConvoAttachesVideos__separator"},c.use("me_month_year_date",{now:p,date:1e3*e.date,genMonths:!1})),r.createElement(b,{key:`${e.cmid}-${e.attach.id}`,measuredElRef:a?d:void 0,isDeleted:u.includes(e.attach.id),onActionClick:v,video:e,videoSource:l||void 0}))})))},b=({video:e,videoSource:t,isDeleted:o,measuredElRef:n,onActionClick:i})=>{var h;const{isTouchOnly:_}=(0,f.useDeviceData)(),[b,k]=(0,r.useState)(!1),{settings:E}=(0,s.useViewer)(),y=E.rightClickActionsEnabled&&!_,[w,C]=(0,r.useState)(null),{lang:I}=(0,s.useBrowserEnv)(),S=(0,s.usePeers)(),A=a.safeGet(S,e.authorId),x=(0,p.getDuration)(e.attach.duration,!!(null==(h=e.attach.files)?void 0:h.external))||e.attach.platform,M=(0,r.useMemo)((()=>r.createElement(m.ActionsMenuAction,{key:"action_go_to_message",onClick:()=>i("go_to_message",e),title:I.use("me_attach_action_go_to_message"),leftIcon:r.createElement(c.Icon20MessageArrowRightOutline,null),type:"secondary"})),[I,e,i]);return r.createElement("li",{ref:n},(()=>{const n=!!t&&!o,i=r.createElement(r.Fragment,null,n&&r.createElement("div",{className:"ConvoAttachesVideoItem__preview"},!!x&&r.createElement("div",{className:"ConvoAttachesVideos__previewInfo"},x),r.createElement("img",{src:t.src,srcSet:t.srcSet,alt:""})),r.createElement("div",{className:"ConvoAttachesVideoItem__content"},r.createElement("div",{className:"ConvoAttachesVideoItem__title"},e.attach.title),r.createElement("div",{className:"ConvoAttachesVideoItem__info"},r.createElement("div",{className:"ConvoAttachesVideoItem__infoSide"},r.createElement(u.Link,{to:{kind:"PeerModalRoute",peerId:e.authorId},options:{clearModals:!0},className:"ConvoAttachesVideoItem__peer"},a.name(A)),r.createElement("div",{className:"ConvoAttachesVideo__views"},I.use("me_convo_attaches_video_views",{num:e.attach.views,formatted:"short",values:{count:I.formatNumber(e.attach.views,"short")}}))),n&&!y&&r.createElement(l.Dropdown,{open:_&&b,classNames:{wrapper:v()("ConvoAttachVideo__dropdown",{"ConvoAttachVideo__dropdown--open":_}),wrapperOpened:"ConvoAttachVideo__dropdown--open"},content:r.createElement(m.ActionsMenu,{className:"ConvoActionsMenu"},M),align:"center",position:"bottom",openType:_?"click":"hover"},r.createElement("button",{className:"ConvoAttachVideo__action","aria-label":I.use("me_actions_more"),onClick:e=>{e.preventDefault(),e.stopPropagation(),k((e=>!e))}},r.createElement(d.Icon20More,null))))),n&&y&&r.createElement(g.ContextMenu,{ref:{current:w},allowNativeContextMenu:!0,content:r.createElement(m.ActionsMenu,{className:"ConvoActionsMenu"},M)}));return n?r.createElement(u.Link,{ref:e=>{C(e)},to:{kind:"AttachMediaProxyRoute",attach:e.attach},className:"ConvoAttachesVideoItem"},i):r.createElement("div",{className:"ConvoAttachesVideoItem"},i)})())}},389706:(e,t,o)=>{"use strict";o.d(t,{ConvoAttachments:()=>b});o(402752);var r=o(667294),n=o(86894),a=o(202158),i=o(76292),s=o(126528),l=o(907312),c=o(696023),d=o(116278),u=o(872008),m=o(163332),h=o(98859),v=o(432483),p=o(284837),f=o(937842),g=o(294184),_=o.n(g);const b=({peerId:e,goToMessage:t,className:o})=>{const[g,b]=(0,r.useState)("photos"),{attaches:k,getNextPage:E}=(0,l.useConvoAttaches)(e),{lang:y}=(0,c.useBrowserEnv)(),w=e=>{e!==g&&(k&&!k[e]&&E(e),b(e))};(0,r.useEffect)((()=>{null===k&&E(g)}));const C=(0,r.useRef)(g);C.current=g;const I=(0,r.useRef)(E);I.current=E;const S=(0,r.useCallback)((e=>{e&&I.current(C.current)}),[]),A=(0,r.useMemo)((()=>{var e,t;return{onChange:S,skip:null==(t=k)||null==(e=t[g])?void 0:e.isLoading}}),[g,k,S]);if(!k)return null;const x=k[g],M=!x||0===x.items.length&&x.isLoading,P=!M&&x&&x.items.length>0&&!x.isAllLoaded,R=x&&!x.isLoading&&0===x.items.length;return r.createElement("div",{className:_()("ConvoAttachments",o)},r.createElement(n.Tabs,{className:"ConvoAttachments_tabs"},r.createElement(n.HorizontalScroll,{arrowSize:"m"},r.createElement(n.TabsItem,{onClick:()=>w("photos"),selected:"photos"===g},y.use("me_convo_attaches_type_photo")),r.createElement(n.TabsItem,{onClick:()=>w("videos"),selected:"videos"===g},y.use("me_convo_attaches_type_video")),r.createElement(n.TabsItem,{onClick:()=>w("audios"),selected:"audios"===g},y.use("me_convo_attaches_type_music")),r.createElement(n.TabsItem,{onClick:()=>w("docs"),selected:"docs"===g},y.use("me_convo_attaches_type_doc")),r.createElement(n.TabsItem,{onClick:()=>w("links"),selected:"links"===g},y.use("me_convo_attaches_type_links")))),k&&r.createElement("div",{className:"ConvoAttachments__block"},(()=>{var e,o;if(!(null==(e=x)?void 0:e.items)||0===(null==(o=x)?void 0:o.items.length))return null;switch(g){case"audios":var n;return r.createElement("ul",{className:"ConvoAttachments__list"},null==(n=x)?void 0:n.items.map((e=>{const o=e.attach;return"Audio"!==o.kind?null:r.createElement("li",{key:`${e.cmid}-${o.id}`},r.createElement("div",{className:"ConvoAttachments__itemContainer"},r.createElement("div",{className:"ConvoAttachments__item"},r.createElement(a.AttachAudio,{audio:o,isOut:!1,isInBubble:!1})),r.createElement(m.Dropdown,{hideOnClick:!0,content:r.createElement(p.ConvoAttachAudioActionsMenu,{cmid:e.cmid,goToMessage:t}),align:"right",position:"bottom"},r.createElement("button",{className:"ConvoAttachments__itemMenuButton"},r.createElement(v.Icon24MoreHorizontal,null)))))})));case"docs":var s;return r.createElement("ul",{className:"ConvoAttachments__list"},null==(s=x)?void 0:s.items.map((e=>{const o=e.attach;return"Doc"!==o.kind?null:r.createElement("li",{className:"ConvoAttachments__listItem ConvoAtachments__docItem",key:`${e.cmid}-${o.id}`},r.createElement("div",{className:"ConvoAttachments__itemContainer"},r.createElement("div",{className:"ConvoAttachments__item"},r.createElement(i.AttachDoc,{doc:o})),r.createElement(m.Dropdown,{hideOnClick:!0,content:r.createElement(h.ConvoAttachDocActionsMenu,{cmid:e.cmid,goToMessage:t}),align:"center",position:"left"},r.createElement("button",{className:"ConvoAttachments__itemMenuButton"},r.createElement(v.Icon24MoreHorizontal,null)))))})));case"links":const e=k[g];return e?r.createElement(f.ConvoAttachesLinks,{items:e.items,goToMessage:t}):null;case"photos":var l;const o=null==(l=k[g])?void 0:l.items;return o?r.createElement(d.ConvoAttachesPhotos,{photos:o,goToMessage:t}):null;case"videos":var c;const _=null==(c=k[g])?void 0:c.items;return _?r.createElement(u.ConvoAttachesVideos,{videos:_,goToMessage:t}):null;default:return null}})(),M&&r.createElement(n.Spinner,{size:"small",className:"ConvoAttachments__loader"}),P&&r.createElement(s.OptimizedSpinner,{size:"small",className:"ConvoAttachments__loader",intersectionOptions:A}),R&&r.createElement("div",{className:"ConvoAttachments__empty"},y.use("me_convo_attaches_empty_type"))))}},704057:(e,t,o)=>{"use strict";o.d(t,{ImagesLayoutProvider:()=>a,useImagesLayout:()=>i});var r=o(667294);const n=r.createContext(void 0),a=n.Provider,i=()=>{const e=(0,r.useContext)(n);if(!e)throw Error("Все аттачи фото должны сопровождаться контекстом размеров");return e}},895698:(e,t,o)=>{"use strict";o.d(t,{ConvoMessageBottomInfo:()=>u});o(668908);var r=o(667294),n=o(777634),a=o(696023),i=o(20403),s=o(294184),l=o.n(s),c=o(411604),d=o(734732);const u=({message:e,isUnread:t,className:o,dateClassName:s,showDate:u,onClick:m})=>{const{lang:h}=(0,a.useBrowserEnv)(),v=(0,a.useFeatureFlags)(),p=n.isMessageEdited(e),f=v.vkm_new_read_indicator?`${h.use("me_message_edited_label_short")}${u?" · ":""}`:`${h.use("me_message_edited_label")} `,g="Normal"===e.kind&&e.isImportant,_=v.vkm_new_read_indicator&&(0,c.getMessageOutStatusIcon)({message:e,isUnread:t,className:"ConvoMessageBottomInfo__outStatusIcon",sendingIconColor:"inherit",readIconColor:"inherit",lang:h});return u||p||_||g?r.createElement("span",{onClick:m,className:l()("ConvoMessageBottomInfo",o)},r.createElement("span",{className:l()("ConvoMessageBottomInfo__date",{"ConvoMessageBottomInfo__date--out":!!_},s)},p&&f,u&&r.createElement(d.FormattedDate,{timestamp:e.sentAt,variant:"time"})),g&&r.createElement("i",{className:"ConvoMessageBottomInfo__importantIcon",role:"img","aria-label":h.use("me_important_message_icon_alt")},r.createElement(i.Icon12Favorite,null)),_):null}},163332:(e,t,o)=>{"use strict";o.d(t,{Dropdown:()=>b,DropdownDepthContext:()=>f,DropdownRootCloseContext:()=>g});var r=o(434788),n=o(820224),a=(o(170490),o(667294)),i=o(429697),s=o(837492),l=o(294184),c=o.n(l),d=o(89131),u=o(696023),m=o(367763),h=o(576697),v=o(346006);const p=150,f=(0,a.createContext)(void 0),g=(0,a.createContext)(void 0),_=({children:e,hide:t})=>(0,a.useContext)(g)?a.createElement(a.Fragment,null,e):a.createElement(g.Provider,{value:t},e),b=(0,a.forwardRef)(((e,t)=>{var{openType:o="hover",delay:l,hideDelay:b=p,classNames:k={},content:E,children:y,hideOnClick:w,hideOnWheel:C,hideOnMouseLeave:I,canOpen:S=!0,open:A=!1,onOpen:x,onClose:M,forceUpdateContent:P}=e,R=(0,n._)(e,["openType","delay","hideDelay","classNames","content","children","hideOnClick","hideOnWheel","hideOnMouseLeave","canOpen","open","onOpen","onClose","forceUpdateContent"]);const[N,T]=(0,a.useState)(!1),O=(0,u.usePrevious)(N),j=(0,u.usePrevious)(A),[L,B]=(0,a.useState)(E),{isTouchOnly:V}=(0,m.useDeviceData)(),D=V&&"hover"===o?"click":o,{subscribeKeyDown:K}=(0,v.useModuleKeyBoardHandlers)({moduleName:v.Module.Dropdown}),{displayState:H,$content:U,$trigger:G,onClick:$,onHover:F,handleHide:z,handleOpened:W,handleClosed:Z}=function({canOpen:e,open:t,openType:o,delay:r,hideDelay:n,hideOnMouseLeave:i,childOpen:s}){const[l,c]=(0,a.useState)("closed"),u=(0,a.useRef)(null),m=(0,a.useRef)(null),v=(0,a.useContext)(f),p=(0,a.useCallback)((e=>{c((t=>{let o;switch(o="function"==typeof e?e(t):e,o){case"opening":case"opened":var r;null==(r=v)||r.setChildOpen(!0);break;case"closing":case"closed":var n;null==(n=v)||n.setChildOpen(!1);break;default:(0,d.exhaustivenessCheck)(o)}return o}))}),[v]),{hideOnHover:g,onMouseOver:_}=function({open:e,canOpen:t,delay:o,hideDelay:r,hideOnMouseLeave:n,openType:i,displayState:s,setDisplayState:l,$content:c,$trigger:d,childOpen:u}){const m=(0,a.useRef)(null),h=(0,a.useRef)(null),v=(0,a.useRef)(null),p=(0,a.useRef)(s);p.current=s;const f=(0,a.useRef)(u);f.current=u;const g=(0,a.useCallback)((()=>{var e,t;return(null==(e=d.current)?void 0:e.matches(":hover"))||(null==(t=c.current)?void 0:t.matches(":hover"))}),[c,d]),_=(0,a.useCallback)((e=>{e.current&&(window.clearTimeout(e.current),e.current=null)}),[]),b=(0,a.useCallback)((()=>{v.current&&(window.cancelAnimationFrame(v.current),v.current=null)}),[]),k=(0,a.useRef)(void 0===e);k.current=void 0===e;const E=(0,a.useCallback)(((e=r,t=!0)=>{if("hover"!==i&&!n)return;_(m);const o="closed"===p.current||"closing"===p.current;if(h.current||o)return;k.current=t;const a=()=>{l((e=>"opened"===e?"closing":"closed")),_(h)};e&&"opened"===p.current?h.current=window.setTimeout((()=>{g()?_(h):a()}),e):a()}),[r,i,n,_,l,g]);(0,a.useLayoutEffect)((()=>{m.current&&(t||_(m))}),[_,m,t]);const y=(0,a.useCallback)((()=>{if("hover"!==i||!t)return;_(h);const e="opened"===p.current||"opening"===p.current;if(m.current||e)return;k.current=!0;const r=()=>{l((e=>"closed"===e?"opening":"opened")),_(m)};o&&"closed"===p.current?m.current=window.setTimeout(r,o):r()}),[o,t,i,l,_]),w=(0,a.useCallback)((()=>{const e=()=>{g()||f.current?("closing"!==p.current||k.current)&&y():(n&&"opened"===p.current&&E(500,!0),n||E())};b(),v.current=window.requestAnimationFrame(e)}),[b,g,E,n,y]);return(0,a.useEffect)((()=>("hover"!==i&&!n||"closed"===s||(w(),document.addEventListener("mousemove",w,{passive:!0}),document.addEventListener("wheel",w,{passive:!0})),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("wheel",w)})),[n,s,w,i,b,u]),(0,a.useEffect)((()=>()=>{_(m),_(h),b()}),[]),(0,a.useEffect)((()=>{!1===e&&(document.removeEventListener("mousemove",w),document.removeEventListener("wheel",w))}),[e,w,_,b]),{onMouseOver:y,hideOnHover:E}}({open:t,canOpen:e,delay:r,hideDelay:n,hideOnMouseLeave:i,openType:o,displayState:l,setDisplayState:p,$content:u,$trigger:m,childOpen:s}),{onClick:b}=function({$content:e,$trigger:t,openType:o,setDisplayState:r,canOpen:n}){const i=(0,a.useCallback)((e=>{var t;if("click"===o||"contextmenu"===o||"longtouch"===o){var a;if(null==(t=e)||t.stopPropagation(),"contextmenu"===o)null==(a=e)||a.preventDefault();r((e=>{switch(e){case"opening":return"closed";case"closed":return n?"opening":"closed";case"opened":case"closing":return"closing";default:return(0,d.exhaustivenessCheck)(e)}}))}}),[o,r,n]);return(0,h.useLongTouch)("longtouch"===o,t,(()=>i())),(0,a.useEffect)((()=>{const t=t=>{("click"===o||"contextmenu"===o||"longtouch"===o)&&e.current&&t.target instanceof Node&&!e.current.contains(t.target)&&i()};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e]),{onClick:i}}({$content:u,$trigger:m,openType:o,setDisplayState:p,canOpen:e});(0,a.useLayoutEffect)((()=>{p((o=>t&&e||"closed"===o?e&&t&&"opened"!==o?"opening":o:u.current?"closing":"closed"))}),[t,e,p]);const k=(0,a.useCallback)((()=>{p("opened")}),[p]),E=(0,a.useCallback)((()=>{p("closed")}),[p]),y=(0,a.useCallback)(((e,t)=>{b(),g(e,t)}),[g,b]);return{displayState:l,$content:u,$trigger:m,onClick:b,onHover:_,handleHide:y,handleOpened:k,handleClosed:E}}({canOpen:S,open:A,openType:D,delay:l,hideDelay:b,childOpen:N,hideOnMouseLeave:I}),J=(0,a.useContext)(g);(0,a.useEffect)((()=>{if("opened"===H)return K(((e,t)=>{"hover"!==D&&e("Escape")&&(t(),z(0,!1))}))}),[H,K,z,D]);const q=(0,a.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),w&&(J?J():z(0,!1))}),[w,z,J]);(0,a.useEffect)((()=>{if(!C||"opened"!==H)return;const e=({target:e})=>{var t;e instanceof Node&&(null==(t=U.current)?void 0:t.contains(e))||z(0,!1)};return window.addEventListener("wheel",e,!0),()=>{window.removeEventListener("wheel",e,!0)}}),[U,H,z,C]);const Y=(0,a.useCallback)((()=>z(0,!1)),[z]);(0,a.useEffect)((()=>{var e,t;"opened"===H&&(null==(e=x)||e());"closed"===H&&(null==(t=M)||t(),T(!1))}),[H]),(0,a.useEffect)((()=>{const e=!N&&O,t=!A&&j;!P&&(["closing","opening"].includes(H)||e||t)||B(E)}),[N,E,H,O,P,A,j]);return a.createElement("div",{className:c()("DropdownReforged",k.wrapper,{[k.wrapperOpened||"DropdownReforged--opened"]:"opened"===H,[k.wrapperClosed||"DropdownReforged--closed"]:"closed"===H})},a.createElement(f.Provider,{value:(0,a.useMemo)((()=>({setChildOpen:T})),[T])},a.createElement(_,{hide:Y},a.createElement(s.Popper,(0,r._)({ref:e=>{G.current=e,"function"==typeof t?t(e):t&&(t.current=e)}},R,{mode:"side",portalClassName:k.portal,onMouseEnter:F,open:"closed"!==H,content:a.createElement(i.default,{nodeRef:U,in:"opening"===H||"opened"===H,addEndListener:e=>{var t;return null==(t=U.current)?void 0:t.addEventListener("transitionend",e,!1)},mountOnEnter:!0,unmountOnExit:!0,appear:!0,classNames:"DropdownReforged__contentWrapper-",onEntered:W,onExited:Z},a.createElement("div",{ref:U,className:c()("DropdownReforged__contentWrapper",k.contentWrapper),onClickCapture:e=>{N||w&&"closing"===H&&(e.preventDefault(),e.stopPropagation())},onClick:q},L))}),a.createElement("div",{className:c()("DropdownReforged__trigger",k.trigger),onMouseOver:F,onMouseEnter:F,onClick:"click"===D?$:void 0,onContextMenu:"contextmenu"===D?$:e=>{e.preventDefault()}},y)))))}))},734732:(e,t,o)=>{"use strict";o.d(t,{FormattedDate:()=>a});var r=o(667294),n=o(696023);const a=({timestamp:e,variant:t})=>{const{lang:o}=(0,n.useBrowserEnv)(),a=(0,n.useNow)();return r.createElement(r.Fragment,null,o.formatDate(e,{now:a,variant:t}))}},388918:(e,t,o)=>{"use strict";o.d(t,{FormattedLangKey:()=>l});var r=o(434788),n=o(820224),a=o(667294),i=o(696023),s=o(89131);const l=e=>{const{lang:t}=(0,i.useBrowserEnv)(),{className:o,langkey:l}=e,c=(0,n._)(e,["className","langkey"]);return t.fold(l,(e=>a.createElement(a.Fragment,null,e)),(e=>(s.isDev&&(e=e.map(((e,t)=>"string"==typeof e?a.createElement(a.Fragment,{key:t},e):a.cloneElement(e,(0,r._)({},e.props,{key:t}))))),a.createElement("span",{className:o},e))),c)}},576241:(e,t,o)=>{"use strict";o.d(t,{LayerProvider:()=>a,useLayer:()=>i});var r=o(667294);o(973935);const n=(0,r.createContext)({}),a=({layer:e,children:t})=>r.createElement(n.Provider,{value:(0,r.useMemo)((()=>({layer:e})),[e])},t),i=()=>{const{layer:e}=(0,r.useContext)(n);return e||void 0}},988994:(e,t,o)=>{"use strict";o.d(t,{LayoutDataProvider:()=>i,useLayoutData:()=>s});var r=o(696023),n=o(667294);const a=(0,n.createContext)(null),i=({children:e,mode:t})=>{const[o]=(0,r.useViewport)({debounced:!0}),i=o<640?"one-column":"two-column";return n.createElement(a.Provider,{value:(0,n.useMemo)((()=>({mode:t||i})),[i,t])},e)};function s(){const e=(0,n.useContext)(a);if(!e)throw new Error("LayoutDataContext не добавлен в дерево Реакта!");return e}},597298:(e,t,o)=>{"use strict";o.d(t,{ExternalLink:()=>d,Link:()=>c});var r=o(434788),n=o(820224),a=o(667294),i=o(696023),s=o(781982),l=o(80497);const c=(0,a.forwardRef)(((e,t)=>{var{to:o,children:l,onNavigate:c,stopPropagation:u=!0,preventDefault:m,disabled:h,options:v}=e,p=(0,n._)(e,["to","children","onNavigate","stopPropagation","preventDefault","disabled","options"]);const{router:f}=(0,i.useBrowserEnv)(),g="AttachMediaProxyRoute"===o.kind||"AttachProxyRoute"===o.kind?(0,r._)({},o,{tab:f.currentRoute.tab}):o,_=f.toUrl(g),b=s.IRouter.isProxyRoute(o)?f.fromProxyRoute(o):o,k=e=>{var t;u&&e.stopPropagation(),m&&e.preventDefault(),f.openLink(e,o,v),null==(t=c)||t()};return!_||h?a.createElement("span",(0,r._)({},p,{ref:t}),l):b?a.createElement("a",(0,r._)({},p,{href:_,ref:t,onClick:k}),l):a.createElement(d,(0,r._)({},p,{href:_,ref:t,onClick:k}),l)})),d=(0,a.forwardRef)(((e,t)=>{var{children:o,href:s,target:c,disabled:d,onClick:u,stopPropagation:m=!0}=e,h=(0,n._)(e,["children","href","target","disabled","onClick","stopPropagation"]);const{vkDomain:v}=(0,i.useBrowserEnv)(),p=(0,i.useCombinedRefs)(t);return d?a.createElement("span",(0,r._)({},h,{ref:p}),o):a.createElement("a",(0,r._)({},h,{ref:p,onClick:e=>{var t;m&&e.stopPropagation(),null==(t=u)||t(e)},href:h.download?s:(0,l.prepareLink)(v,s),target:c||"_blank",rel:"noopener noreferrer"}),o)}))},411604:(e,t,o)=>{"use strict";o.d(t,{getMessageOutStatusIcon:()=>u});o(393999);var r=o(294184),n=o.n(r),a=o(667294),i=o(963419),s=o(583475),l=o(84562),c=o(298161);const d=({message:e,isUnread:t,className:o,sendingIcon:r=a.createElement(i.Icon12ClockOutline,null),sendingIconColor:d,readIconColor:u,lang:m})=>{if(!e.isOut)return null;if("Queued"===e.kind?e.hasFailed:"failed"===e.editStatus)return a.createElement("div",{className:n()("MessageOutStatusIcon__failed",o)},a.createElement(s.Icon12ErrorCircleFill,{"aria-hidden":!1,"aria-label":m.use("me_message_sending_failed")}));return("Queued"===e.kind?!e.cmid:"pending"===e.editStatus)?a.createElement("div",{className:n()("MessageOutStatusIcon__sending",o),style:{color:d},role:"img","aria-label":m.use("me_message_sending")},r):a.createElement("div",{className:o,style:{color:u}},t?a.createElement(l.Icon16CheckOutline,null):a.createElement(c.Icon16CheckDoubleOutline,null))},u=({message:e,isUnread:t,className:o,sendingIcon:r,sendingIconColor:n,readIconColor:i,lang:s})=>e.isOut&&"Expired"!==e.kind&&"Service"!==e.kind?a.createElement(d,{message:e,isUnread:t,className:o,sendingIcon:r,sendingIconColor:n,readIconColor:i,lang:s}):null},874971:(e,t,o)=>{"use strict";o.d(t,{ModalBackdrop:()=>s});o(895593);var r=o(667294),n=o(294184),a=o.n(n),i=o(876620);const s=({isClear:e,isBodyScrollDisabled:t,onClick:o,children:n})=>{const s=a()("RE_ModalBackdrop",{"RE_ModalBackdrop--tinted":!e}),{isFullScreen:l}=(0,r.useContext)(i.ModalConfigContext),c=a()("RE_ModalBackdrop__container",l?"RE_ModalBackdrop__container--fullScreen":"RE_ModalBackdrop__container--window");var d;return d=Boolean(t),(0,r.useEffect)((()=>{const e=document.body;if(!d)return;const t=e.getBoundingClientRect(),o=window.innerWidth-(t.left+t.right);if(0===o)return;const r=document.createElement("style");return r.innerText="body { overflow-y: hidden !important; }",e.appendChild(r),e.style.borderRight=`${o}px solid transparent`,()=>{e.style.borderRight="",e.removeChild(r)}}),[d]),r.createElement("div",{className:s},o&&r.createElement("div",{className:"RE_ModalBackdrop__flesh",onClick:o}),r.createElement("div",{className:c},n))}},234325:(e,t,o)=>{"use strict";o.d(t,{ModalBody:()=>c});var r=o(434788),n=o(532048),a=(o(351667),o(667294)),i=o(294184),s=o.n(i),l=o(876620);const c=({children:e,withCustomLayout:t,withScrollHandling:o,scrollbarProps:i})=>{var c,d;const{isFullScreen:u}=(0,a.useContext)(l.ModalConfigContext),m=s()("RE_ModalBody",{"RE_ModalBody--fullScreen":u});return o?a.createElement(n.ScrollbarProvider,{className:m,scrollableProps:(0,r._)({className:s()({"RE_ModalBody--standard":!t})},null==(c=i)?void 0:c.scrollableProps),contentProps:(0,r._)({className:"RE_ModalBody__scrollbar-content"},null==(d=i)?void 0:d.contentProps)},e):a.createElement("div",{className:s()(m,{"RE_ModalBody--standard":!t})},e)}},293390:(e,t,o)=>{"use strict";o.d(t,{ModalCloseButton:()=>c});var r=o(315954),n=o(294184),a=o.n(n),i=(o(528098),o(667294)),s=o(876620),l=o(86894);const c=e=>{const{closeLabel:t,mode:o,onClose:n}=e,{isFullScreen:c}=(0,i.useContext)(s.ModalConfigContext),d="dark"===(0,l.useAppearance)();return i.createElement("button",{className:a()("ModalCloseButton",!c&&"ModalCloseButton--outside",d&&"ModalCloseButton--dark","modalHeader"===o&&"ModalCloseButton--modalHeaderMode","modalPanel"===o&&"ModalCloseButton--modalPanelMode"),"aria-label":t,onClick:n},i.createElement(r.Icon24Cancel,null))}},876620:(e,t,o)=>{"use strict";o.d(t,{ModalConfigContext:()=>a,ModalsConfigProvider:()=>i});var r=o(667294),n=o(988994);const a=(0,r.createContext)({isFullScreen:!1}),i=({children:e})=>{const t=(0,n.useLayoutData)(),o=(0,r.useMemo)((()=>({isFullScreen:"one-column"===t.mode})),[t.mode]);return r.createElement(a.Provider,{value:o},e)}},506315:(e,t,o)=>{"use strict";o.d(t,{ModalFooter:()=>n});o(974580);var r=o(667294);const n=({buttons:e,hint:t,children:o})=>r.createElement("footer",{className:"RE_ModalFooter"},t&&r.createElement("div",{className:"RE_ModalFooter__hint"},t),o&&r.createElement("div",{className:"RE_ModalFooter__content"},o),e&&r.createElement("div",{className:"RE_ModalFooter__actions"},e))},798855:(e,t,o)=>{"use strict";o.d(t,{ModalHeader:()=>l});o(936021);var r=o(667294),n=o(864032),a=o(293390),i=o(294184),s=o.n(i);const l=({onClose:e,closeLabel:t,backLabel:o,onBack:i,title:l,children:c,className:d})=>r.createElement("header",{className:s()("RE_ModalHeader",d)},r.createElement("div",{className:"RE_ModalHeader__content"},o&&i&&r.createElement("button",{className:"RE_ModalHeader__back",onClick:i},r.createElement("span",{className:"RE_ModalHeader__backIcon"},r.createElement(n.Icon28ChevronLeftOutline,null)),o),l&&r.createElement("h1",{className:"RE_ModalHeader__title"},l),c&&r.createElement("div",{className:"RE_ModalHeader__container"},c)),r.createElement(a.ModalCloseButton,{closeLabel:t,onClose:e,mode:"modalHeader"}))},964929:(e,t,o)=>{"use strict";o.d(t,{ModalPanel:()=>s});o(97839);var r=o(667294),n=o(294184),a=o.n(n),i=o(876620);const s=({children:e,className:t,topRight:o,size:n})=>{const{isFullScreen:s}=(0,r.useContext)(i.ModalConfigContext),l=a()("RE_ModalPanel",t,{"RE_ModalPanel--fullScreen":s});return r.createElement("article",{className:l,style:n?{width:n.width,height:n.height}:{}},e,o&&r.createElement("div",{className:"RE_ModalPanel__TopRight"},o))}},671324:(e,t,o)=>{"use strict";o.d(t,{ModalView:()=>c});o(628392);var r=o(667294),n=o(294184),a=o.n(n),i=o(355795),s=o(576241),l=o(346006);const c=({children:e,isHidden:t,onEscape:o,contextClass:n,portalTarget:c})=>{const d=(0,s.useLayer)(),u=a()("RE_ModalView",{"RE_ModalView--hidden":Boolean(t)}),{subscribeKeyDown:m}=(0,l.useModuleKeyBoardHandlers)({moduleName:l.Module.Modal}),h=(0,r.useCallback)(((e,t)=>{void 0!==o&&e("Escape")&&(t(),o())}),[o]);return(0,r.useEffect)((()=>{if(!t)return m(h)}),[m,h,t]),r.createElement(i.Portal,{portalClassName:n,portalTarget:c||d},r.createElement("div",{className:u},e))}},171656:(e,t,o)=>{"use strict";o.d(t,{ModalsProvider:()=>s,useModalContext:()=>l});var r=o(667294),n=o(89131),a=o(453934);const i=(0,r.createContext)(null),s=({children:e,modals:t,stacks:o})=>{const s=(0,r.useCallback)((e=>{let t=!0;if(Object.values(o).forEach((o=>{var r;let n=0;if((null==(r=o.currentElement)?void 0:r.groupId)===e){var a;for(t=!1;(null==(a=o.currentElement)?void 0:a.groupId)===e;)n+=1,o.goBack();o.pop(n)}})),t)throw Error("Пытаетесь закрыть группу модалок, которая закрыта")}),[o]),l=(0,r.useCallback)(((e,r)=>{const n=t.getModalParams(e),{groupId:a,isSubModal:i}=n,s=o[r];if(null!==s.findIndex(e))throw new Error("Пытаетесь открыть модалку, которая открыта");s.push({modalId:e,groupId:a,isSubModal:i})}),[o,t]),c=(0,r.useCallback)(((e,t)=>{var r;const n=o[t];if((null==(r=n.currentElement)?void 0:r.modalId)!==e)throw Error("Пытаетесь закрыть модалку, которая закрыта");n.pop()}),[o]),d=(0,r.useCallback)(((e,t)=>{o[t].forcedRemove((t=>t.modalId===e))}),[o]),u=(0,r.useCallback)(((e,t)=>o[t].findIndex(e)),[o]),[m,h]=(0,r.useState)({rightPanel:[],popup:[]});(0,r.useLayoutEffect)((()=>{const e=Object.keys(o).map((e=>o[e].subscribe((t=>{const{action:o,payload:r}=t;switch(o){case"add":h((0,a.produce)((o=>{o[e]=t.payload.isSubModal?o[e].filter((e=>e!==r.modalId)):[],o[e].push(r.modalId)})));break;case"remove":h((0,a.produce)((t=>{const o=t[e].filter((e=>!r.find((t=>e===t.modalId))));o.length<t[e].length&&(t[e]=o)})));break;default:(0,n.exhaustivenessCheck)(o)}}))));return()=>e.forEach((e=>e()))}),[o]);const v=(0,r.useCallback)((e=>o[e].size),[o]),p=(0,r.useMemo)((()=>({openedModals:m,openModal:l,closeModal:c,closeModalForced:d,closeGroup:s,getModalGroup:t.getModalGroup,createModal:t.createModal,createGroup:t.createGroup,getStackSize:v,findIndexInStack:u})),[m,l,c,d,s,t.getModalGroup,t.createModal,t.createGroup,v,u]);return r.createElement(i.Provider,{value:p},e)};function l(){const e=(0,r.useContext)(i);if(!e)throw new Error("ModalContext не добавлен в дерево Реакта!");return e}},126528:(e,t,o)=>{"use strict";o.d(t,{OptimizedSpinner:()=>c});var r=o(434788),n=(o(241676),o(667294)),a=o(294184),i=o.n(a),s=o(86894),l=o(997650);const c=({className:e,size:t="small",intersectionOptions:o,onIntersection:a})=>{const{ref:c,inView:d}=(0,l.useInView)((0,r._)({},o,{threshold:.01}));return(0,n.useEffect)((()=>{d&&a&&a()}),[d]),n.createElement("div",{ref:c,className:i()("OptimizedSpinner",e)},d&&n.createElement(s.Spinner,{size:t}))}},811632:(e,t,o)=>{"use strict";o.d(t,{PeerAvatar:()=>l});var r=o(667294),n=o(96190),a=o(755810),i=o(696023),s=o(377291);const l=r.memo((function({peer:e,size:t,className:o,withFavorite:l}){const c=(0,a.useAvatarPhoto)(e,t),d=(0,i.useOwner)(),u=n.isFavorites(e.id,d.id);return l&&u?r.createElement(s.AvatarFavorites,{size:t}):r.createElement(a.BasicAvatar,{size:t,url:c,alt:n.name(e),text:n.initials(e),color:n.isContactPeerId(e.id)?"contact":e.id,className:o})}))},248390:(e,t,o)=>{"use strict";o.d(t,{PeerTitle:()=>h});o(501954);var r=o(667294),n=o(354819),a=o(96715),i=o(20403),s=o(277937),l=o(96190),c=o(294184),d=o.n(c),u=o(696023),m=o(709646);const h=r.memo((function({peer:e,isShortened:t=!1,isAdmin:o=!1,isCreator:c=!1,isFavorites:h=!1,isRestrictedToWrite:v=!1,className:p,iconColor:f}){const{vkm_convo_member_temporary_ban:g}=(0,u.useFeatureFlags)(),{lang:_}=(0,u.useBrowserEnv)(),b=(0,u.useViewer)(),k=m.isEdu(b.profileType);let E;switch(!0){case h:E=_.use("me_favorites");break;case t:E=l.firstName(e);break;default:E=l.name(e)}return r.createElement("div",{className:d()("PeerTitle",{"PeerTitle--vkAdmin":l.isVkAdministration(e.id)},p)},r.createElement("div",{className:"PeerTitle__title"},E),"Chat"!==e.kind&&"Contact"!==e.kind&&e.isVerified?r.createElement("span",{className:"PeerTitle__icon PeerTitle__verifiedIcon",style:{color:f}},k&&"User"===e.kind?r.createElement(n.Icon16Education,{width:12,height:12}):r.createElement(a.Icon16Verified,null)):null,(o||c)&&r.createElement("span",{className:d()("PeerTitle__icon",o&&"PeerTitle__adminIcon",c&&"PeerTitle__creatorIcon")},r.createElement(i.Icon12Favorite,{"aria-hidden":!1,"aria-label":_.use("me_admin")})),g&&v&&r.createElement("span",{className:"PeerTitle__icon PeerTitle__cantWriteIcon"},r.createElement(s.Icon16MessageCross,null)))}))},293216:(e,t,o)=>{"use strict";o.d(t,{PhotoItem:()=>s});var r=o(667294),n=o(659397),a=o(780835),i=(o(848056),o(538839));const s=({src:e,thumbhashUrl:t,alt:o,width:s,height:l,cover:c,showReload:d=!1,className:u,widthAndHeightAsAttr:m,onLoad:h,onError:v})=>{const p=c?{width:s,height:l}:void 0,[f,g]=(0,r.useState)(1),[_,b]=(0,r.useState)((()=>{if(!e)return!1;const t=(0,i.isImageLoaded)(e);var o;t&&(null==(o=h)||o());return t})),[k,E]=(0,r.useState)(!1),y=(0,r.useCallback)((e=>{k&&d&&(e.preventDefault(),e.stopPropagation(),g((e=>e+1)))}),[k,d]),w=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g((e=>e+1))}),[]);return r.createElement("div",{className:(0,n.classNames)("PhotoItem",u),style:{width:s,height:l},onClick:y},r.createElement("div",{className:(0,n.classNames)("PhotoItem__blur",{PhotoItem__nothumbhash:!t}),style:{"--thumbhashUrl":t&&`url(${t})`}}),r.createElement("img",{key:f,src:e,alt:o,width:m?s:void 0,height:m?l:void 0,className:(0,n.classNames)("PhotoItem__img",{"PhotoItem__img--loaded":_}),style:p,onLoad:()=>{var e;b(!0),E(!1),null==(e=h)||e()},onError:()=>{var e;E(!0),null==(e=v)||e()}}),k&&r.createElement("div",{className:"PhotoItem__error"},d&&r.createElement("button",{type:"button",className:"PhotoItem__reload",onClick:w},r.createElement(a.Icon16Replay,{className:"PhotoItem__reloadIcon"}))))}},579957:(e,t,o)=>{"use strict";o.d(t,{ConvoAudiosPlaylistContext:()=>a,ConvoAudiosPlaylistProvider:()=>i});var r=o(667294),n=o(460554);const a=r.createContext((()=>{})),i=({convo:e,children:t})=>{const o=(0,r.useRef)(e);o.current=e;const i=(0,r.useCallback)((()=>{const e=(0,n.mapConvoToConvoAudioTrackList)(o.current),t={type:"temp",convoPeerId:o.current.peerId};return new n.ConvoAudiosPlaylist({list:e,meta:t})}),[]);return r.createElement(a.Provider,{value:i},t)}},837492:(e,t,o)=>{"use strict";o.d(t,{Popper:()=>h});var r=o(434788),n=o(820224),a=(o(833249),o(667294)),i=o(294184),s=o.n(i),l=o(355795),c=o(696023),d=o(15285),u=o(576241),m=o(90308);const h=(0,a.forwardRef)((function(e,t){var o,i,{open:h=!0,position:k="auto",mode:E="side",align:y="auto",adaptation:w,content:C,portalClassName:I,children:S,portalTarget:A,cursor:x,watchContentChange:M=!1,onPositionChange:P}=e,R=(0,n._)(e,["open","position","mode","align","adaptation","content","portalClassName","children","portalTarget","cursor","watchContentChange","onPositionChange"]);const N=(0,u.useLayer)(),[T,O]=(0,a.useState)(null),j=(0,c.useCombinedRefs)(t),[L,B]=(0,a.useState)(null),[V,D]=(0,a.useState)(null),[K,H]=(0,a.useState)(null),{observe:U}=(0,m.useResizeObserver)(),G=(0,a.useCallback)(((e=!1)=>{if(h){if("side"===E&&j.current&&(0!==(n=j.current).offsetWidth||0!==n.offsetHeight)){var t;const[n,a,i]=function(e,t,o,n,a,i,s){var l,c,u,m;let h="fixed",k=e.getBoundingClientRect(),{innerWidth:E,innerHeight:y}=window,w=window.scrollY||document.documentElement.scrollTop,C=window.scrollX||document.documentElement.scrollLeft;i&&(k=(0,d.getOffsetRect)(e,i),E=i.clientWidth,y=i.clientHeight,w=i.scrollTop,C=i.scrollLeft,h="absolute");const I=null==(l=t)?void 0:l.getBoundingClientRect(),S=(null==(c=I)?void 0:c.width)||0,A=(null==(u=I)?void 0:u.height)||0,x=S&&!s?Math.max(k.width,S):void 0,M=A&&!s?Math.max(k.height,A):void 0;if(o===v){o=g(k.top-w,w+y-k.top-k.height)}if(n===v){n=_(C+E/3,k.left+.5*k.width,C+2*E/3)}const P=d.browser.safari_mobile&&(null==(m=window.visualViewport)?void 0:m.pageTop)||0,R=k.left,N=k.top+P,T=R+k.width,O=N+k.height,j=.5*k.width,L=.5*S,B=.5*k.height,V=.5*A,D=k.width<S,K=k.height<A,H=N<A,U=O+A>y+w,G=i&&N-w<A,$=O<A,F=N+B<V,z=N+A>y+w,W=N+B+V>y+w,Z=R-k.width<S,J=R+S>E+C,q=T-k.width<S,Y=T+S>E+C,X=R+j<L,Q=R+j+L>E+C,ee="horizontal"===a,te="vertical"===a;te||(("top"===o&&H||"center"===n&&F||f.includes(n)&&$)&&(o="bottom"),("bottom"===o&&U||"center"===n&&W||f.includes(n)&&z)&&(o="top"));ee||(p.includes(o)&&(f.includes(n)&&(Z&&(n="left"),J&&(n="right")),"center"===n&&(Q&&(n="right"),X&&(n="left"))),f.includes(o)&&(p.includes(n)&&($&&(n="bottom"),z&&(n="top")),q&&(o="right",n="right"===n?"left":n),Y&&(o="left",n="left"===n?"right":n)));let oe={};switch(o){case"top":oe={width:x,top:N-A};break;case"bottom":oe={width:x,top:O};break;case"left":oe={height:M,left:R-S};break;case"right":oe={height:M,left:T}}p.includes(o)&&D&&("right"===n&&(oe.left=T-S),"center"===n&&(oe.left=R+j-L),ee&&(("center"===n&&X||"right"===n&&q)&&(oe.left=0),("center"===n&&Q||"left"===n&&Y)&&(oe.left=E-S+C)));if(f.includes(o)&&K){switch(n){case"center":oe.top=N+B-V;break;case"top":oe.top=N-A+k.height}te&&(("center"===n&&F||f.includes(n)&&$)&&(oe.top=0),G&&"center"===n&&(oe.top=w),("center"===n&&W||f.includes(n)&&z)&&(oe.top=y-A+w))}return[b((0,r._)({top:N,left:R},oe,{position:h})),n,o]}(j.current,T,k,y,w,(null==(t=A)?void 0:t.current)?A.current:void 0,e);var o;if(n)null==(o=P)||o({left:n.left,top:n.top});B(n),D(a),H(i)}var n;if("cursor"===E&&x){const[e,t,o]=function(e,t,o,n){var a,i,s;const{innerWidth:l,innerHeight:c}=window,{x:d,y:u}=e,m=null==(a=t)?void 0:a.getBoundingClientRect(),h=(null==(i=m)?void 0:i.width)||0,p=(null==(s=m)?void 0:s.height)||0,k=h||void 0,E=p||void 0;if(o===v){o=g(u,c-u)}if(n===v){n=_(d,d,l-d)}const y=u<p,w=c-u<p,C=u<p/2,I=c-u<p/2,S=d<h,A=l-d<h;("top"===o&&y||"center"===n&&C)&&(o="bottom");("bottom"===o&&w||"center"===n&&I)&&(o="top");f.includes(n)&&(S&&(n="left"),A&&(n="right"));const x={};switch(o){case"top":x.top=u-p;break;case"bottom":x.top=u}switch(n){case"left":x.left=d;break;case"right":x.left=d-h}return[b((0,r._)({position:"fixed",left:d,top:u,height:E,width:k},x)),n,o]}(x,T,k,y);var a;if(e)null==(a=P)||a({left:e.left,top:e.top});B(e),D(t),H(o)}}}),[x,E,k,y,j,h,T,A,w,P]);return(0,a.useLayoutEffect)((()=>{var e,t;G();const o=null==(e=Array.from((null==(t=T)?void 0:t.children)||[]))?void 0:e[0];if(!o||!M)return;return U(o,(e=>{e.borderBoxSize[0]&&G(!0)}))}),[null==(o=T)?void 0:o.children,U,G,M]),a.createElement(a.Fragment,null,"cursor"!==E&&S&&a.cloneElement(S,(0,r._)({},S.props,{ref:j})),h&&a.createElement(l.Portal,(0,r._)({},R,{ref:O,className:s()("MEPopper","MEConfig",V&&`MEPopper--align${$=V,$.length>0?$.slice(0,1).toUpperCase()+$.slice(1):""}`,K&&`MEPopper--${K}`),"data-align":V,"data-position":K,portalClassName:I,style:L||void 0,portalTarget:(null==(i=A)?void 0:i.current)||N}),C));var $})),v="auto",p=["top","bottom"],f=["left","right"];function g(e,t){return t>e?"bottom":"top"}function _(e,t,o){return t>=e&&t<=o?"center":t>o?"right":"left"}function b(e){return(0,r._)({},e,{top:Math.round(e.top),left:Math.round(e.left)})}},355795:(e,t,o)=>{"use strict";o.d(t,{Portal:()=>l});var r=o(434788),n=o(820224),a=o(667294),i=o(973935),s=o(696023);const l=(0,a.forwardRef)((function(e,t){var{children:o,portalClassName:l,portalTarget:c}=e,d=(0,n._)(e,["children","portalClassName","portalTarget"]);const[u,m]=(0,a.useState)(null),h=(0,s.usePrevious)(l);return(0,a.useEffect)((()=>{u&&(h&&u.classList.remove(...h.split(" ")),l&&u.classList.add(...l.split(" ")))}),[u,l,h]),(0,a.useLayoutEffect)((()=>{if(null===c)return;const e=function(e,t){const o=document.createElement("div");e&&o.classList.add(...e.split(" "));return(t||document.body).appendChild(o)}(l,c);return m(e),()=>{e.remove()}}),[c]),u?i.createPortal(a.createElement("div",(0,r._)({},d,{ref:t}),o),u):null}))},376753:(e,t,o)=>{"use strict";o.d(t,{ProgressCircle:()=>s});o(417819);var r=o(667294),n=o(294184),a=o.n(n),i=o(696023);const s=({size:e,progress:t,strokeWidth:o=2,strokeColor:n="white",strokeOverlayColor:s,className:l,ariaLabel:c})=>{const{lang:d}=(0,i.useBrowserEnv)(),u=(e-o)/2,m=`0 0 ${e} ${e}`,h=u*Math.PI*2,v=h-h*t/100;return r.createElement("div",{role:"progressbar",className:a()("ProgressCircle",l),style:{width:e,height:e},"aria-label":null!=c?c:d.use("me_progress_circle_default_aria_label"),"aria-valuenow":Math.floor(t)},r.createElement("svg",{width:e,height:e,viewBox:m},s&&r.createElement("circle",{className:"ProgressCircle__progressOverlay",cx:e/2,cy:e/2,r:u,stroke:s,strokeWidth:`${o}px`}),r.createElement("circle",{className:"ProgressCircle__progress",cx:e/2,cy:e/2,r:u,stroke:n,strokeWidth:`${o}px`,transform:`rotate(-90 ${e/2} ${e/2})`,style:{strokeDasharray:h,strokeDashoffset:v}})))}},682930:(e,t,o)=>{"use strict";o.d(t,{Provider:()=>v});var r=o(434788),n=o(667294),a=o(96190),i=o(696023),s=o(171656),l=o(364705),c=o(200028),d=o(883950),u=o(755534),m=o(438511),h=o(5051);const v=({children:e,env:t,featureFlags:o,state:v,dispatch:p,owner:f})=>{const g=(0,n.useCallback)((e=>{p((0,r._)({type:"CacheUpdateReceived"},e))}),[p]),_=a.safeGet(v.peers,v.viewer.id),b=(0,n.useMemo)((()=>(0,r._)({viewer:_},v.viewer)),[_,v.viewer]),k=(0,n.useMemo)((()=>({popup:t.modals.stack,rightPanel:new d.Stack})),[t.modals.stack]),E=(0,h.useStickerEmojiMenuPopper)();return n.createElement(i.BrowserEnvProvider,{value:t},n.createElement(l.RouterProvider,null,n.createElement(s.ModalsProvider,{modals:t.modals.system,stacks:k},n.createElement(i.DispatchProvider,{value:p},n.createElement(i.FeatureFlagsProvider,{value:o},n.createElement(i.HelpHintsProvider,{value:v.helpHints},n.createElement(i.LastSeenProvider,{value:v.lastSeens},n.createElement(i.TypingsProvider,{value:v.typings},n.createElement(i.PeersProvider,{value:v.peers},n.createElement(i.OwnerProvider,{value:f},n.createElement(u.StickersConfigProvider,null,n.createElement(m.StickerEmojiMenuProvider,{value:E},n.createElement(i.ConvosProvider,{value:v.convos},n.createElement(i.ChannelsProvider,{value:v.channels},n.createElement(i.OrganisersProvider,{value:v.organisers},n.createElement(i.ConvosSearchIndexProvider,{value:v.convosSearchIndex},n.createElement(i.ViewerProvider,{value:b},n.createElement(i.InsertIntoCacheProvider,{value:g},n.createElement(c.ComposerDraftsProvider,{value:v.composerDrafts},n.createElement(c.ChannelComposerDraftsProvider,{value:v.channelComposerDrafts},n.createElement(c.CommentsComposerDraftsProvider,{value:v.commentsComposerDrafts},n.createElement(i.VideoMessageShapesProvider,{value:v.videoMessageShapes},e))))))))))))))))))))))}},364705:(e,t,o)=>{"use strict";o.d(t,{RouterProvider:()=>s,useConvoRoute:()=>c,useRouter:()=>l});var r=o(696023),n=o(781982),a=o(667294);const i=(0,a.createContext)({}),s=({children:e})=>{const{router:t}=(0,r.useBrowserEnv)(),[o,s]=(0,a.useState)(t.currentRoute),[l,c]=(0,a.useState)(t.modalRoute?[t.modalRoute]:[]);(0,a.useLayoutEffect)((()=>{const e=t.subscribe(((e,o)=>{c((r=>{let a=[];if(n.IRouter.isModalRoute(e))switch(o){case"PUSH":const o=r[r.length-1];a=r,o&&t.toUrl(o)===t.toUrl(e)||(a=r.concat(e));break;case"POP":const n=r.findIndex((o=>t.toUrl(o)===t.toUrl(e)));a=r.slice(0,n+1),0===a.length&&a.push(e);break;case"REPLACE":a=[...r.slice(0,-1),e]}return a})),s(e)}));return()=>e()}),[t]);const d=l.slice(-1)[0],u=(0,a.useMemo)((()=>({router:t,route:o,fromUrl:t.fromUrl,toUrl:t.toUrl,toRoute:t.fromProxyRoute,modalRoute:d||null,modalRoutes:l,screenRoute:t.screenRoute,runtimeRoute:t.runtimeRoute})),[t,o,d,l]);return a.createElement(i.Provider,{value:u},e)},l=()=>{const{route:e,router:t,screenRoute:o,modalRoute:r,runtimeRoute:n,modalRoutes:s,toUrl:l,toRoute:c,fromUrl:d}=(0,a.useContext)(i);return{route:e,screenRoute:o,modalRoute:r,runtimeRoute:n,modalRoutes:s,navigate:t.push,back:t.back,forward:t.forward,replace:t.replace,fromUrl:d,toUrl:l,toRoute:c}},c=()=>{const{screenRoute:e}=l();if("ConvoRoute"!==e.kind)throw Error("Используйте хук только внутри роута Convo");return e}},5051:(e,t,o)=>{"use strict";o.d(t,{StickerEmojiMenu:()=>_,StickerEmojiMenuPopper:()=>g,useStickerEmojiMenuPopper:()=>b});var r=o(434788),n=o(820224),a=(o(152440),o(667294)),i=o(51715),s=o(696023),l=o(709646),c=o(429697),d=o(927411),u=o(294184),m=o.n(u),h=o(197934),v=o(95154),p=o(699611),f=o(755534);const g=(0,a.memo)((e=>{var{isOpen:t,toggleIsOpen:o,className:i,contentClassName:s,children:l,onStickerSend:d}=e,u=(0,n._)(e,["isOpen","toggleIsOpen","className","contentClassName","children","onStickerSend"]);const h=(0,a.useRef)(null),v=(0,a.useRef)(null),p=(0,a.useCallback)(((...e)=>{var t;return null==(t=d)?void 0:t(...e)}),[d]);return(0,a.useEffect)((()=>{const e=e=>{e.target instanceof Node&&h.current&&!h.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[o]),a.createElement("div",{className:m()(i,"StickerEmojiMenuPopper"),onMouseDown:e=>{e.preventDefault()},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},a.createElement("div",{className:"StickerEmojiMenuPopper__trigger",ref:v},l),a.createElement(c.default,{nodeRef:h,in:t,timeout:200,classNames:"StickerEmojiMenuPopper__content-",mountOnEnter:!0},a.createElement("div",{ref:h,className:m()(s,"StickerEmojiMenuPopper__content")},a.createElement(_,(0,r._)({onStickerSend:p,isVisible:t},u)))))})),_=(0,a.memo)((e=>{var{className:t}=e,o=(0,n._)(e,["className"]);const c=(0,s.useOwner)(),{api:u,router:g,logger:_}=(0,s.useBrowserEnv)(),{profileType:b}=(0,s.useViewer)(),k=l.isEdu(b),E=(0,f.useStickersConfig)();(0,a.useEffect)((()=>{var e;!o.isVisible&&E.api&&(0,p.setActivePackKeyOptions)({activePackKey:(null==(e=E.api.cache.stickersActiveTab)?void 0:e.get())||void 0})}),[o.isVisible,E.api]);const y=(0,a.useCallback)(((e,t={})=>u.fetchForExternalLibs(e,t,{timeout:3e4,retries:5}).catch((e=>e instanceof d.IApi.RequestError?Promise.reject(e.apiError):e instanceof d.IApi.ExecuteErrors?Promise.reject({errors:e.list}):Promise.reject(e)))),[u]),w=(0,a.useCallback)((e=>{g.openLink(e,{kind:"StickersStoreProxyRoute"})}),[g]),C=(0,a.useCallback)((()=>{o.peerId?g.push({kind:"MiniAppModalRoute",miniAppId:h.resolveMiniAppId(v.UGC_STICKERS_APP_ID),hash:new URLSearchParams({peer_id:String(o.peerId),ref:"keyboard"}).toString()}):_.error("У стикерпикера нету peerId для открытия миниаппа UGC")}),[_,o.peerId,g]);return a.createElement(i.StickersEmojiKeyboard,(0,r._)({},o,{className:m()(t,"StickerEmojiMenu"),userId:c.id,onAPIRequest:y,onShopClick:k?void 0:w,onUGCEditClick:C}))})),b=()=>{const e=(0,a.useRef)(!1),t=(0,a.useRef)(),[o,r]=(0,a.useState)(!1),n=(0,a.useCallback)(((o,n=!0)=>{o!==e.current&&window.clearTimeout(t.current),e.current=o,t.current=window.setTimeout((()=>{r(o),t.current=void 0}),n?o?100:200:0)}),[]);return(0,a.useEffect)((()=>()=>{window.clearTimeout(t.current)}),[]),(0,a.useMemo)((()=>({isOpen:o,toggleIsOpen:n})),[o,n])}},438511:(e,t,o)=>{"use strict";o.d(t,{StickerEmojiMenuProvider:()=>a,useStickerEmojiMenu:()=>i});var r=o(667294);const n=r.createContext(void 0),a=n.Provider;function i(){const e=(0,r.useContext)(n);if(!e)throw Error("Каждая беседа должна сопровождаться контекстом StickerEmojiMenu");return e}},755534:(e,t,o)=>{"use strict";o.d(t,{StickersConfigProvider:()=>c,useStickersConfig:()=>d});var r=o(11010),n=o(667294),a=o(478748),i=o(696023),s=o(927411);const l=n.createContext(null),c=({children:e})=>{const{api:t}=(0,i.useBrowserEnv)(),o=(0,i.useOwner)(),c=(0,n.useRef)(),[d,u]=(0,n.useState)({}),m=(0,n.useCallback)(((e,o={})=>t.fetchForExternalLibs(e,o,{timeout:3e4,retries:5}).catch((e=>e instanceof s.IApi.RequestError?Promise.reject(e.apiError):e instanceof s.IApi.ExecuteErrors?Promise.reject({errors:e.list}):Promise.reject(e)))),[t]);return(0,n.useEffect)((()=>{c.current=new a.API({onAPIRequest:m,userId:o.id})}),[m,o.id]),(0,n.useEffect)((()=>{(0,r._)((function*(){if(!c.current)return;if(!(yield c.current.cache.reload()))return;const e=yield c.current.cache.imageConfigs.get();e&&u({id:e.default_id,items:e.items,api:c.current})}))()}),[]),n.createElement(l.Provider,{value:d},e)};function d(){const e=(0,n.useContext)(l);if(!e)throw new Error("StickersConfigProvider не добавлен в дерево Реакта!");return e}},538839:(e,t,o)=>{"use strict";o.d(t,{blobToImageUrl:()=>l,fileToStaticImageUrl:()=>u,getFilesFromDataTransferItems:()=>a,getImageSizeByFile:()=>c,isImageLoaded:()=>d});var r=o(11010),n=o(790351);function a(e){return i.apply(this,arguments)}function i(){return(i=(0,r._)((function*(e){const t=[];return yield Promise.all(Array.from(e).map((0,r._)((function*(e){if("file"!==e.kind)return;const o=e.webkitGetAsEntry();if(o){const r=yield function(e,t){return new Promise((o=>{let r=0;const n=[];function a(e){if(function(e){return e.isFile}(e)){r++;const a=t.getAsFile();e.file((e=>{r--,n.push(e),0===r&&o(n)}),(()=>{a&&(r--,n.push(a)),0===r&&o(n)}))}else(function(e){return e.isDirectory})(e)&&i(e.createReader())}function i(e){r++,e.readEntries((e=>{r--;for(const t of e)a(t);0===r&&o(n)}))}a(e)}))}(o,e);return void t.push(...r)}const r=e.getAsFile();r&&t.push(r)})))),t.map(s)}))).apply(this,arguments)}function s(e){if(e.type)return e;const t=e.name.split(".").pop();if(!t)return e;let o="";switch(t.toLowerCase()){case"mov":o="video/quicktime";break;case"3gp":o="video/3gpp"}return o?new File([e],e.name,{type:o}):e}function l({blob:e}){return URL.createObjectURL(e)}function c(e){return new Promise(((t,o)=>{const r=new Image,n=URL.createObjectURL(e);r.onload=()=>{t({width:r.width,height:r.height}),URL.revokeObjectURL(n),r.remove()},r.onerror=e=>{o(e),r.remove()},r.src=n}))}function d(e){const t=new Image;return t.src=e,t.complete||t.width+t.height>0}function u(e){return new Promise(((t,o)=>{if(!n.IMAGE_TYPES.includes(e.type))return o();if("image/gif"!==e.type)return t(l({blob:e}));const a=new Image;a.onload=(0,r._)((function*(){const{width:r,height:n}=yield c(e),i=document.createElement("canvas");i.height=n,i.width=r;const s=i.getContext("2d");if(!s)return o();s.clearRect(0,0,i.width,i.height),s.drawImage(a,0,0),t(i.toDataURL("image/png",1)),i.remove(),a.remove()})),a.onerror=()=>{o(),a.remove()},a.src=l({blob:e})}))}},747578:(e,t,o)=>{"use strict";o.d(t,{applyGap:()=>v,computeAttachePhotosLayout:()=>m});var r=o(434788),n=o(89131);function a(e){if((0,n.isNonEmptyArray)(e))return e;if(n.isDev)throw new Error("not an NonEmptyArray");return[[]]}function i(e,t){const o=e/t.reduce(((e,t)=>e+t.width),0),n=t.map((e=>{const{height:t,width:n}=e;return(0,r._)({},e,{height:t*o,width:n*o})}));return a(n)}function s(e,t){const{height:o,width:n}=t,a=e/o;return(0,r._)({},t,{height:e,width:n*a})}function l(e){let t=0,o=0;const r=e[0];for(const e of r)o+=e.width;for(const o of e)o[0]&&(t+=o[0].height);return o/t}function c(e,t){let o=t[0];const r=[...t,e].sort(((e,t)=>e-t)),n=r.findIndex((t=>t===e)),a=r[n-1],i=r[n+1];if(!a&&i)o=i;else if(!i&&a)o=a;else if(i&&a){o=i/e>e/a?a:i}return o}function d(e,t){return a(e.map((e=>{const o=c(e.width/e.height,t);return e.width>e.height?(0,r._)({},e,{width:o*e.height}):(0,r._)({},e,{height:e.width/o})})))}function u(e,{minHeight:t},o){return a(o.reduceRight(((o,r)=>{const n=o[o.length-1],a=s(t,r),{width:i}=a,l=n?n.reduce(((e,t)=>e+t.width),0):0;return i+l<=e&&n?n.push(a):o.push([a]),o}),[]).reverse().map((e=>e.reverse())).map((t=>i(e,a(t)))))}function m(e,t,o,r){try{const{maxSingleHeight:n}=o,m=[],v={},p=[9/16,3/4,1,4/3,16/9],f=function(e,t){const{minHeight:o}=t,r=function(e,t,o){const r=[t];let n=e;do{n=r[r.length-1]-t*o,n<e&&(n=e),r.push(n)}while(n!==e);return r}(o,e,.05),n=[];for(let e=0;e<r.length;e++){const t=r[e];t&&n.push({minHeight:t})}return n}(t/e,o),g=d(r,p),_=r[0];if(1===r.length&&_)return function(e,t,o,r){if(d([o],t)[0]){const{width:t,height:n}=o;if(t>=n)return[i(e,[o])];const a=r||16/9*e,l=i(e,[o])[0];return l&&l.height<a?[[l]]:[[s(a,o)]]}return[[o]]}(t,p,_,n);for(const o of f){const r=h(u(t,o,g),e,t),n=l(r);m.push(n),v[n]=r}const b=c(e,a(m));return b&&v[b]||u(t,o,r)}catch(e){return[r]}}function h(e,t,o){return function(e,t){const o=1.75,r=l(e),n=r/t;if(n>o){const n=r/(o*t);return e.forEach((e=>e.forEach((e=>e.height=e.height*n)))),e}if(n<1/o){const n=r/(1/o*t);return e.forEach((e=>e.forEach((e=>e.height=e.height*n)))),e}return e}(function(e,t){return a(e.map((e=>{if(1===e.length&&e[0]){const o=e[0],n=o.width>o.height;return[(0,r._)({},o,{width:t,height:n?o.height>t/2?t/2:o.height:t})]}return e})))}(function(e){var t;const o=e.length,r=a(e[e.length-1]),n=1===r.length;if(o<=2||!n)return e;const l=e[e.length-2];if(!l)return e;const c=null==(t=l)?void 0:t.reduce(((e,t)=>e+t.width),0);l.push(r[0]);const d=a(l.map((e=>s(1,e))));return e[e.length-2]=i(c,d),a(e.splice(0,e.length-1))}(e),o),t)}function v(e,t){return e.forEach((e=>e.forEach(((o,r)=>{0===r||r===e.length-1?o.width=Math.ceil(o.width-t/2):o.width=Math.ceil(o.width-t)})))),e}},65970:(e,t,o)=>{"use strict";o.d(t,{LangPersistentKey:()=>n,getKeyCombo:()=>m,isGlobalKeyCombo:()=>u,isModuleKeyCombo:()=>c});var r,n,a=o(15285);!function(e){e.Mod="Mod",e.Alt="Alt",e.Shift="Shift",e.Meta="Meta"}(r||(r={})),function(e){e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.Escape="Escape",e.Enter="Enter",e.Backspace="Backspace",e.Tab="Tab",e.Slash="/",e.PageDown="PageDown",e.PageUp="PageUp",e.Home="Home",e.End="End",e.Space="Space"}(n||(n={}));const i={" ":n.Space};var s;!function(e){e.F="F"}(s||(s={}));const l=[r.Shift,r.Mod,n.ArrowDown,n.ArrowUp,n.Enter,n.Escape,n.Backspace,`${r.Shift}+${n.Enter}`,`${r.Mod}+${n.Enter}`,n.ArrowLeft,n.ArrowRight,n.Tab,n.Space],c=e=>l.includes(e),d=[`${r.Mod}+${s.F}`,`${r.Mod}+${r.Shift}+${s.F}`,`${r.Mod}+${n.Slash}`],u=e=>d.includes(e),m=e=>{try{const o=[];var t;Object.values(r).forEach((t=>{h[t](e)&&o.push(t)}));const a=null!=(t=i[e.key])?t:e.key;return Object.values(n).forEach((e=>a===e&&o.push(e))),Object.values(s).forEach((t=>{a.toUpperCase()!==t?e.code.slice(3)===t&&o.push(t):o.push(t)})),o.join("+")}catch(e){return""}},h={[r.Mod]:e=>a.isMac?"Meta"===e.key||e.metaKey:e.ctrlKey,[r.Alt]:e=>e.altKey,[r.Shift]:e=>e.shiftKey,[r.Meta]:e=>a.isMac?e.ctrlKey:e.metaKey}},15285:(e,t,o)=>{"use strict";o.d(t,{browser:()=>c,download:()=>E,emptyImage:()=>b,enRuKeysMap:()=>v,formatPhoneNumber:()=>g,getAttachForwardIndent:()=>m,getExpectedAttachWidth:()=>h,getOffsetRect:()=>s,getOrganiserUid:()=>f,getPeersInlineNames:()=>p,isMac:()=>d,isObject:()=>k,isValidJSON:()=>y,isWindows:()=>u});var r=o(11010),n=o(667294),a=o(89131),i=o(659397);function s(e,t){var o,r,n;if("undefined"==typeof window||!(e instanceof HTMLElement))return{top:0,left:0,width:0,height:0};const a=e.getBoundingClientRect(),i=null==(o=t)?void 0:o.getBoundingClientRect(),s=document.body,l=document.documentElement,c=t?t.scrollTop:window.pageYOffset||l.scrollTop||s.scrollTop,d=(t?t.scrollLeft:window.pageXOffset)||l.scrollLeft||s.scrollLeft,u=l.clientTop||s.clientTop||0,m=l.clientLeft||s.clientLeft||0;return{top:a.top-((null==(r=i)?void 0:r.top)||0)+c-u,left:a.left-((null==(n=i)?void 0:n.left)||0)+d-m,width:a.width,height:a.height}}const l=navigator.userAgent.toLowerCase(),c={version:(l.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[/: ]([\d.]+)/)||[0,"0"])[1],safari:!/chrome/i.test(l)&&/webkit|safari|khtml/i.test(l),safari_mobile:/iphone|ipod|ipad/i.test(l),ios:/.+(ipod|ipad|iphone.*os)/i.test(l),touch:window.matchMedia("(pointer: coarse)").matches,voiceRecordingSupported:Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext))},d="userAgentData"in window.navigator&&"platform"in window.navigator.userAgentData?0===window.navigator.userAgentData.platform.indexOf("mac"):0===window.navigator.platform.indexOf("Mac"),u=window.navigator.platform.toLowerCase().startsWith("win"),m=e=>e>0?22+10*(e-1):0;function h(e,t,o,r){const n=r+(t?0:8)-m(o);return[n,n*(e?"undefined"!=typeof window?window.devicePixelRatio:2:1)]}const v={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","/":".",[d?"\\":"`"]:"ё"},p=(e,t,o,r)=>{const a=[];return e.forEach(((n,i)=>{a.push(o(n),(o=>o===e.length-1?"":t===e.length&&o===e.length-2?` ${r.use("me_chat_members_last_divider")} `:", ")(i))})),t>e.length&&(0===e.length?a.push(r.use("me_chat_members_count",{num:t-e.length})):a.push(r.use("me_chat_members_count_lots",{num:t-e.length,values:{names:""}}))),a.length>0?n.createElement(n.Fragment,null,a):null};function f(e){switch(e.kind){case"filters":return e.filter;case"folders":return e.id;default:(0,a.exhaustivenessCheck)(e)}}function g(e){return _.apply(this,arguments)}function _(){return(_=(0,r._)((function*(e){var t,r;const{parsePhoneNumber:n}=yield o.e(4387).then(o.bind(o,304387)),a=n(e.replace(/^(\+|)+/,"+"));var i,s;return{isValid:a.valid,international:null!=(i=null==(t=a.number)?void 0:t.international)?i:e,national:null!=(s=null==(r=a.number)?void 0:r.national)?s:e}}))).apply(this,arguments)}const b="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function E({blob:e,filename:t}){const o=document.createElement("a");o.setAttribute("download",t);const r=URL.createObjectURL(e);o.setAttribute("href",r),o.setAttribute("target","_blank"),o.click(),URL.revokeObjectURL(r)}function y(e){if(!(0,i.isString)(e))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}},559360:(e,t,o)=>{"use strict";o.d(t,{SEND_OPTIONS:()=>d,TOPICS:()=>s,VISIBILITY:()=>i,empty:()=>a,getPostThemeIdFromKey:()=>l,getPostThemeKeyFromId:()=>c,validateRequiredFields:()=>u});var r=o(434788),n=o(839963);function a(){return{text:"",attaches:{},uploadsTrackIds:new Set,visibility:"all",donutDelay:-1,topic:"no_theme",sendOptions:{selected:[],disabled:[]},resetSendOptions:[]}}const i=["all","donut"],s=[["no_theme",0],["art",1],["it",7],["games",12],["music",16],["photo",19],["science",21],["sport",23],["tourism",25],["cinema",26],["humor",32],["style",43]],l=e=>{const t=s.find((t=>t[0]===e));if(!t)throw new Error(`Передан некорректный ключ ${e} для темы поста`);return t[1]},c=e=>{if(void 0===e)return"no_theme";const t=s.find((t=>t[1]===e));if(!t)throw new Error(`Передан некорректный ID ${e} для темы поста`);return t[0]},d=["close_comments","signed","mute_notifications","mark_as_ads"];function u(e){const t=a();return Object.entries(e).reduce(((e,[o,a])=>{const i=n.resolveId(+o);return e[i]=a,a.uploadsTrackIds instanceof Set||(e[i]=(0,r._)({},a,{uploadsTrackIds:t.uploadsTrackIds})),e}),{})}},655829:(e,t,o)=>{"use strict";function r(){return{text:"",attaches:{},uploadsTrackIds:new Set}}function n(e,t){const o=0!==Object.keys(e.attaches).length;return 0===t.length&&!o&&!a(e)}function a(e){return 0!==e.uploadsTrackIds.size}o.d(t,{empty:()=>r,hasActiveUploads:()=>a,isEmpty:()=>n})},400681:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_FORWARD_AUTHOR_HIDDEN:()=>s,empty:()=>i,getNormalForward:()=>d,hasActiveUploads:()=>c,isEmpty:()=>l,validateRequiredFields:()=>u});var r=o(434788),n=o(96190),a=o(89131);function i(){return{text:"",attaches:{},uploadsTrackIds:new Set}}const s=!1;function l(e,t){const o=0!==Object.keys(e.attaches).length;return 0===t.length&&!e.forward&&!o&&!c(e)}function c(e){return 0!==e.uploadsTrackIds.size}function d(e,t){if(!e.forward||e.forward.kind!==t)return;const o=[...e.forward.items].filter((e=>"Normal"===e.kind));return(0,a.isNonEmptyArray)(o)?o:void 0}function u(e){const t=i();return Object.entries(e).reduce(((e,[o,a])=>{const i=n.resolveId(+o);return Array.isArray(a)?(e[i]=a,e):("kind"in a||(a.uploadsTrackIds instanceof Set||(a=(0,r._)({},a,{uploadsTrackIds:t.uploadsTrackIds})),e[i]=[a]),e)}),{})}},709646:(e,t,o)=>{"use strict";o.d(t,{VIEWER_DEFAULT_PUSH_SETTINGS:()=>r,eduAccount:()=>i,isEdu:()=>n,isService:()=>a});const r={userConvo:{isEnabled:!0,withMessageText:!0},chatConvo:{isEnabled:!0,withMessageText:!0},groupConvo:{isEnabled:!0,withMessageText:!0},mention:"every-mention",messageReaction:{isEnabled:!0,withMessageText:!0}};function n(e){return"edu"===e}function a(e){return Boolean(e.accounts.find((e=>e.isService)))}function i(e){return e.accounts.find((e=>n(e.profileType)))}},80497:(e,t,o)=>{"use strict";o.d(t,{prepareLink:()=>n});var r=o(95154);function n(e,t){return function(e){return e.startsWith("mailto:")}(t)||function(e){return e.startsWith("tel:")}(t)?t:(t.startsWith("/")||t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),function(e,t){if(t.startsWith("/"))return!t.startsWith("//");try{const{hostname:o}=new URL(t);return[...r.VK_RELATED_DOMAINS,e,r.SFERUM_DOMAIN].some((e=>o===e||o.endsWith("."+e)))}catch(e){return!1}}(e,t)?t:function(e,t){return`https://${e}/away.php?to=${encodeURIComponent(t)}&utf=1`}(e,t))}},927411:(e,t,o)=>{"use strict";var r;o.d(t,{IApi:()=>r}),function(e){e.resolveTrackId=function(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в IApi.resolveTrackId");return`${e}-${t}`};class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}e.TimeoutError=t;class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}e.AbortError=o;class r extends Error{constructor(e,t,o){super(t),this.code=e,this.apiError=o,Object.setPrototypeOf(this,r.prototype)}}e.RequestError=r;class n extends Error{constructor(e,t){super(e[0].error_msg),this.list=e,this.response=t,Object.setPrototypeOf(this,n.prototype)}}e.ExecuteErrors=n}(r||(r={}))},781982:(e,t,o)=>{"use strict";o.d(t,{IRouter:()=>r});var r,n=o(89131);!function(e){let t;e.SettingsRouteSectionKeys=["main","account","folders","notifications","theme","experimental","about","edu"],e.ChannelModalRouteSectionKeys=["settings"],function(e){e[e.Message=0]="Message",e[e.Post=1]="Post",e[e.Composer=2]="Composer",e[e.Comment=3]="Comment",e[e.ChannelComposer=4]="ChannelComposer",e[e.CommentsComposer=5]="CommentsComposer"}(t=e.RouteSourceKind||(e.RouteSourceKind={})),e.globalParamsKeys=["tab","folder","createPoll","sferum"],e.convoRouteExtraParamsKeys=["settings"],e.withExtraConvoParams=e=>"MainRoute"===e.kind||"ConvoRoute"===e.kind||"ChannelRoute"===e.kind||"ChannelsListRoute"===e.kind,e.isModalRoute=e=>{switch(e.kind){case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"MiniAppCatalogModalRoute":case"ChannelModalRoute":return!0;case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":return!1;default:(0,n.exhaustivenessCheck)(e)}},e.isProxyRoute=e=>{switch(e.kind){case"AttachProxyRoute":case"AttachMediaProxyRoute":case"HashtagProxyRoute":case"HashtagMentionProxyRoute":case"ScreenNameProxyRoute":case"VkProxyRoute":case"StickerPackProxyRoute":case"StickersStoreProxyRoute":return!0;case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"MiniAppCatalogModalRoute":case"SettingsRoute":case"ChannelModalRoute":return!1;default:(0,n.exhaustivenessCheck)(e)}},e.isRuntimeRoute=e=>{switch(e.kind){case"ModalMessageRuntimeRoute":case"EmptyRuntimeRoute":case"AudioRestrictionRuntimeRoute":case"RedirectRuntimeRoute":return!0;case"PeerModalRoute":case"PhotoModalRoute":case"VideoModalRoute":case"MiniAppModalRoute":case"PollModalRoute":case"ImportantMessagesModalRoute":case"CallJoinRoute":case"ChannelRoute":case"ChannelsListRoute":case"ChatJoinRoute":case"ConvoRoute":case"MainRoute":case"NotFoundRoute":case"SettingsRoute":case"MiniAppCatalogModalRoute":case"ChannelModalRoute":return!1;default:(0,n.exhaustivenessCheck)(e)}}}(r||(r={}))},166916:(e,t,o)=>{"use strict";var r;o.d(t,{IUploader:()=>r}),function(e){class t extends Error{constructor(e="Aborted"){super(e),Object.setPrototypeOf(this,t.prototype)}}e.AbortError=t;class o extends Error{constructor(e="Timeout"){super(e),Object.setPrototypeOf(this,o.prototype)}}e.TimeoutError=o}(r||(r={}))},883950:(e,t,o)=>{"use strict";o.d(t,{Modals:()=>a,Stack:()=>n,resolveId:()=>i});var r=o(53416);class n{push(e){this.history.push(e),this.index=this.history.length-1,this.listeners.call({action:"add",payload:e})}goBack(e=1){this.index-=e}subscribe(e){return this.listeners.push(e)}get lastElement(){return this.history[this.history.length-1]||null}get currentElement(){return this.history[this.index]||null}findIndex(e){const t=this.history.findIndex((t=>t.modalId===e));return-1!==t?t:null}get size(){return this.history.length}onItemsRemove(e){this.index=this.history.length-1,this.listeners.call({action:"remove",payload:e}),this.lastElement&&this.listeners.call({action:"add",payload:this.lastElement})}constructor(){this.index=0,this.pop=(e=1)=>{const t=this.history.splice(-e,e);this.onItemsRemove(t)},this.forcedRemove=e=>{const t=this.history.reduce(((t,o)=>(e(o)?t.toRemove.push(o):t.actualHistory.push(o),t)),{actualHistory:[],toRemove:[]});this.history=t.actualHistory,this.onItemsRemove(t.toRemove)},this.history=[],this.listeners=function(){let e=[];return{get length(){return e.length},push:t=>(e.push(t),function(){e=e.filter((e=>e!==t))}),call(t){e.forEach((e=>e&&e(t)))}}}()}}class a{removeGroup(e){this.system.groups.delete(e)}removeModal(e){const{groupId:t}=this.getModalParams(e),o=this.system.groups.get(t);if(void 0!==o){const{group:t}=o,r=t.findIndex((t=>t.id===e));t.splice(r,1)}this.system.modals.delete(e)}constructor(){this.createGroup=()=>{const e=(0,r.nanoid)(),t={id:e,group:[]};return this.system.groups.set(e,t),{data:t,remove:this.removeGroup.bind(this,e)}},this.createModal=(e,t=!1,o)=>{const n=this.system.groups.get(e);if(!n)throw Error("Нет такого стека");const a=o||(0,r.nanoid)();return n.group.push({id:a}),this.system.modals.set(a,{groupId:n.id,isSubModal:t}),{id:a,remove:this.removeModal.bind(this,a)}},this.getModalGroup=e=>{const t=this.system.groups.get(e);if(!t)throw Error("Передан Id несуществующей группы модалок");return t},this.getModalParams=e=>{const t=this.system.modals.get(e);if(!t)throw Error("Попытка получить несуществующую модалку");return t},this.system={modals:new Map,groups:new Map}}}function i(e){return e}},790351:(e,t,o)=>{"use strict";o.d(t,{IMAGE_TYPES:()=>m,Uploader:()=>y,VIDEO_TYPES:()=>h,areAudios:()=>M,areImages:()=>I,areVideos:()=>A,isChannelUpload:()=>B,isConvoUpload:()=>V,isImage:()=>C,preloadImage:()=>P});var r=o(11010),n=o(434788),a=o(694788),i=o(927411),s=o(166916),l=o(89131),c=o(96190),d=o(839963),u=o(453934);const m=["image/png","image/gif","image/jpeg","image/webp"],h=["video/x-msvideo","video/mp4","video/mpeg","video/3gpp","video/quicktime","video/x-flv","video/x-ms-wmv","video/avi","video/webm"],v=["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"],p=e=>"image"===e.kind,f=e=>"video"===e.kind,g=e=>"audio"===e.kind,_=e=>"doc"===e.kind;class b{getUploadServer(e,t){let o=this.cache.get(e);if(!o)return o=t().then((t=>(this.cache.set(e,{url:t,timestamp:Date.now()}),t))),this.cache.set(e,o),o;if(o instanceof Promise)return o;return this.validateCache(o.timestamp)?Promise.resolve(o.url):(this.cache.delete(e),this.getUploadServer(e,t))}dropCache(){0!==this.cache.size&&Array.from(this.cache.entries()).forEach((([e,t])=>{if(t instanceof Promise)return;this.validateCache(t.timestamp)||this.cache.delete(e)}))}validateCache(e){return Date.now()-e<=5e3}constructor(){this.cache=new Map,setInterval((()=>{this.dropCache.call(this)}),6e4)}}class k{handleUploadV2Erros(e){if("error_code"in e)throw new Error(`${e.error_code}: ${e.error_msg}`);if("error_code"in e.files.file1)throw new Error(`${e.files.file1.error_code}: ${e.files.file1.error_msg}`)}uploadImage({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const s={peer_id:o.viewerId,group_id:o.groupId&&c.toRealId(o.groupId),upload_v2:n.uploadV2},l=i.IApi.resolveTrackId("photos.getMessagesUploadServer",t),d=()=>n.api.fetch("photos.getMessagesUploadServer",s,{trackId:l}).then((({upload_url:e})=>e)),u=()=>n.photosUploadUrlCache.getUploadServer(JSON.stringify(s),d),m=()=>n.api.dangerouslyAbort(l),h=new FormData,v=i.IApi.resolveTrackId("photos.saveMessagesPhoto",t),p=(0,r._)((function*(e){const t=yield n.api.fetch("photos.saveMessagesPhoto",e,{trackId:v});if(0===t.length||void 0===t[0])throw new Error("Метод photos.saveMessagesPhoto не вернул фотографию");const o=(0,a.fromApiPhoto)({apiPhoto:t[0]});if(void 0===o)throw new Error("Не удалось конвертировать фотографию с сервера");return o})),f=()=>n.api.dangerouslyAbort(v);return 0===n.uploadV2?(h.append("file1",e),n.uploadRequest({getUrl:u,abortGetUrl:m,body:h,uploadTrackId:t,postprocess:({data:e})=>p(e),abortPostprocess:f})):(h.append("file1",e),n.uploadRequest({getUrl:u,abortGetUrl:m,body:h,uploadTrackId:t,postprocess:({data:e})=>(n.handleUploadV2Erros(e),p({upload_v2:1,photo:JSON.stringify(e)})),abortPostprocess:f}))}))()}uploadVideo({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const s={target:o,preview:1,no_comments:1},l=i.IApi.resolveTrackId("video.save",t),c=new FormData;c.append("video_file",e);const d=i.IApi.resolveTrackId("video.get",t),u=(0,r._)((function*({data:{video_id:e,owner_id:t}}){const o={kind:"Video",id:e,ownerId:t,image:[{url:a.emptyPreview,width:1,height:1}],views:0,isFromMessage:!0};try{const r=(yield n.api.fetch("video.get",{owner_id:t,videos:`${t}_${e}`,extended:0},{trackId:d})).items[0];if(!r)return o;return(0,a.fromApiVideo)({apiVideo:r})||o}catch(e){return o}}));return n.uploadRequest({getUrl:()=>n.api.fetch("video.save",s,{trackId:l}).then((({upload_url:e})=>{if(!e)throw new Error("В методе video.save не вернулся upload_url");return e})),abortGetUrl:()=>n.api.dangerouslyAbort(l),body:c,uploadTrackId:t,postprocess:u,abortPostprocess:()=>n.api.dangerouslyAbort(d)})}))()}uploadAudio({file:e,trackId:t}){var o=this;return(0,r._)((function*(){const n={},s=i.IApi.resolveTrackId("audio.getUploadServer",t),l=new FormData;l.append("file",e);const c=i.IApi.resolveTrackId("audio.save",t),d=(0,r._)((function*({data:{server:e,audio:t,hash:r}}){const n=yield o.api.fetch("audio.save",{server:e,audio:t,hash:r},{trackId:c});return(0,a.fromApiAudio)(n)}));return o.uploadRequest({getUrl:()=>o.api.fetch("audio.getUploadServer",n).then((({upload_url:e})=>e)),abortGetUrl:()=>o.api.dangerouslyAbort(s),body:l,uploadTrackId:t,postprocess:d,abortPostprocess:()=>o.api.dangerouslyAbort(c)})}))()}uploadDoc({file:e,trackId:t}){var o=this;return(0,r._)((function*(){const n=i.IApi.resolveTrackId("docs.getUploadServer",t),s=()=>o.api.fetch("docs.getUploadServer",{},{trackId:n}).then((({upload_url:e})=>e)),l=new FormData;l.append("file",e);const c=i.IApi.resolveTrackId("docs.save",t),d=(0,r._)((function*({data:{file:e}}){const t=yield o.api.fetch("docs.save",{file:e},{trackId:c});if(!t.doc)throw new Error("Метод doc.save не вернул документ");const r=(0,a.fromApiDoc)(t.doc);if(!r)throw new Error("Не удалось конвертировать документ (нет поля url)");return r}));return o.uploadRequest({getUrl:()=>o.docsUploadUrlCache.getUploadServer("docsUploadServer",s),abortGetUrl:()=>o.api.dangerouslyAbort(n),body:l,uploadTrackId:t,postprocess:d,abortPostprocess:()=>o.api.dangerouslyAbort(c)})}))()}uploadWallDoc({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const o={group_id:0},s=i.IApi.resolveTrackId("docs.getWallUploadServer",t),l=()=>n.api.fetch("docs.getWallUploadServer",o).then((({upload_url:e})=>e)),c=new FormData;c.append("file",e);const d=i.IApi.resolveTrackId("docs.save",t),u=(0,r._)((function*({data:{file:e}}){const t=yield n.api.fetch("docs.save",{file:e,group_id:0},{trackId:d});if(!t.doc)throw new Error("Метод doc.save не вернул документ");const o=(0,a.fromApiDoc)(t.doc);if(!o)throw new Error("Не удалось конвертировать документ (нет поля url)");return o}));return n.uploadRequest({getUrl:()=>n.wallDocsUploadUrlCache.getUploadServer(JSON.stringify(o),l),abortGetUrl:()=>n.api.dangerouslyAbort(s),body:c,uploadTrackId:t,postprocess:u,abortPostprocess:()=>n.api.dangerouslyAbort(d)})}))()}uploadVoice({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const s={type:"audio_message",peer_id:o.targetPeerId},l=i.IApi.resolveTrackId("docs.getMessagesUploadServer",t),c=new FormData;c.append("file",e);const d=i.IApi.resolveTrackId("docs.save",t),u=(0,r._)((function*({data:{file:e}}){const t=yield n.api.fetch("docs.save",{file:e});if(!t.audio_message)throw new Error("Метод doc.save не вернул аудиосообщение");return(0,a.fromApiVoice)(t.audio_message)}));return n.uploadRequest({getUrl:()=>n.api.fetch("docs.getMessagesUploadServer",s,{trackId:l}).then((({upload_url:e})=>e)),abortGetUrl:()=>n.api.dangerouslyAbort(l),body:c,uploadTrackId:t,postprocess:u,abortPostprocess:()=>n.api.dangerouslyAbort(d)})}))()}uploadChatPhoto({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){if(!o.targetPeerId||!c.isChatPeerId(o.targetPeerId))throw new Error("Для обновления аватара чата targetPeerId обязательно должен быть ChatId");const a=yield function(e){return new Promise((t=>{const o=new Image,r=URL.createObjectURL(e);o.onload=()=>{const e=Math.min(o.width,o.height),r=Math.floor((o.width-e)/2),n=Math.floor((o.height-e)/2);t({x:r,y:n,width:e})},o.src=r}))}(e),s={chat_id:c.toRealId(o.targetPeerId),crop_x:a.x,crop_y:a.y,crop_width:a.width},l=i.IApi.resolveTrackId("photos.getChatUploadServer",t),d=new FormData;d.append("photo",e);const u=i.IApi.resolveTrackId("messages.setChatPhoto",t),m=(0,r._)((function*({data:{response:e}}){yield n.api.fetch("messages.setChatPhoto",{file:e,user_id:c.toRealId(o.viewerId)})}));return n.uploadRequest({getUrl:()=>n.api.fetch("photos.getChatUploadServer",s,{trackId:l}).then((({upload_url:e})=>e)),abortGetUrl:()=>n.api.dangerouslyAbort(l),body:d,uploadTrackId:t,postprocess:m,abortPostprocess:()=>n.api.dangerouslyAbort(u)})}))()}uploadOwnerPhoto({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const a={owner_id:o.viewerId,upload_v2:n.uploadV2},s=i.IApi.resolveTrackId("photos.getOwnerPhotoUploadServer",t),l=()=>n.api.fetch("photos.getOwnerPhotoUploadServer",a,{trackId:s}).then((({upload_url:e})=>e)),c=()=>n.api.dangerouslyAbort(s),d=new FormData,u=i.IApi.resolveTrackId("photos.saveOwnerPhoto",t),m=(0,r._)((function*(e){yield n.api.fetch("photos.saveOwnerPhoto",e,{trackId:u})})),h=()=>n.api.dangerouslyAbort(u);return 0===n.uploadV2?(d.append("photo",e),n.uploadRequest({getUrl:l,abortGetUrl:c,body:d,uploadTrackId:t,postprocess:({data:{server:e,photo:t,hash:r}})=>m({owner_id:o.viewerId,server:e,hash:r,photo:t}),abortPostprocess:h})):(d.append("file1",e),n.uploadRequest({getUrl:l,abortGetUrl:c,body:d,uploadTrackId:t,postprocess:({data:e})=>(n.handleUploadV2Erros(e),m({upload_v2:1,photo:JSON.stringify(e)})),abortPostprocess:h}))}))()}uploadChannelPhoto({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const a={owner_id:o.targetPeerId},s=i.IApi.resolveTrackId("photos.getOwnerPhotoUploadServer",t),l=new FormData;l.append("photo",e);const c=i.IApi.resolveTrackId("photos.saveOwnerPhoto",t),u=(0,r._)((function*({data:{hash:e,photo:t,server:r}}){yield n.api.fetch("photos.saveOwnerPhoto",{owner_id:d.toRealGroupId(o.targetPeerId),server:r,hash:e,photo:t},{trackId:c})}));return n.uploadRequest({getUrl:()=>n.api.fetch("photos.getOwnerPhotoUploadServer",a,{trackId:s}).then((({upload_url:e})=>e)),abortGetUrl:()=>n.api.dangerouslyAbort(s),body:l,uploadTrackId:t,postprocess:u,abortPostprocess:()=>n.api.dangerouslyAbort(c)})}))()}uploadWallImage({file:e,trackId:t},o){var n=this;return(0,r._)((function*(){const s={group_id:d.toRealGroupId(o.targetPeerId),upload_v2:0},l=i.IApi.resolveTrackId("photos.getWallUploadServer",t),c=()=>n.api.fetch("photos.getWallUploadServer",s,{trackId:l}).then((({upload_url:e})=>e)),u=new FormData;u.append("photo",e);const m=i.IApi.resolveTrackId("photos.saveWallPhoto",t),h=(0,r._)((function*({data:{server:e,hash:t,photo:r}}){const i=yield n.api.fetch("photos.saveWallPhoto",{group_id:d.toRealGroupId(o.targetPeerId),server:e,hash:t,photo:r},{trackId:m});if(0===i.length||void 0===i[0])throw new Error("Метод photos.saveWallPhoto не вернул фотографию");const s=(0,a.fromApiPhoto)({apiPhoto:i[0]});if(void 0===s)throw new Error("Не удалось конвертировать фотографию с сервера");return s}));return n.uploadRequest({getUrl:()=>n.wallPhotosUploadUrlCache.getUploadServer(JSON.stringify(s),c),abortGetUrl:()=>n.api.dangerouslyAbort(l),body:u,uploadTrackId:t,postprocess:h,abortPostprocess:()=>n.api.dangerouslyAbort(m)})}))()}convoUpload(e,t){var o=this;return(0,r._)((function*(){return p(e)?o.uploadImage(e,t):f(e)?o.uploadVideo(e,"messages"):g(e)?o.uploadAudio(e):_(e)?o.uploadDoc(e):"voice"===e.kind?o.uploadVoice(e,t):(e=>"chat-photo"===e.kind)(e)?o.uploadChatPhoto(e,t):(e=>"owner-photo"===e.kind)(e)?o.uploadOwnerPhoto(e,t):Promise.reject()}))()}channelsUpload(e,t){var o=this;return(0,r._)((function*(){return p(e)?o.uploadWallImage(e,t):f(e)?o.uploadVideo(e,"wall"):g(e)?o.uploadAudio(e):_(e)?o.uploadWallDoc(e,t):"channel-photo"===e.kind?o.uploadChannelPhoto(e,t):Promise.reject()}))()}upload(e,t){var o=this;return(0,r._)((function*(){return L(t)?o.channelsUpload(e,t):function(e){return!L(e)}(t)?o.convoUpload(e,t):Promise.reject()}))()}uploadRequest({getUrl:e,abortGetUrl:t,body:o,uploadTrackId:n,postprocess:a,abortPostprocess:i}){const l=new AbortController;var c=this;return{abort:()=>{t(),l.abort(),i()},trackId:n,response:(0,r._)((function*(){return function(e,t,o={}){return new Promise(((r,n)=>{var a;const{method:i="POST",signal:l,onUploadProgress:c,headers:d={},timeout:u}=o;if(null==(a=l)?void 0:a.aborted)return n(new s.IUploader.AbortError);const m=new XMLHttpRequest,h=()=>m.abort();l&&(l.addEventListener("abort",h),m.addEventListener("readystatechange",(()=>{const{readyState:e}=m;e===D&&l.removeEventListener("abort",h)}))),m.addEventListener("abort",(()=>{n(new s.IUploader.AbortError)})),m.addEventListener("error",n),m.addEventListener("timeout",(()=>{n(new s.IUploader.TimeoutError)})),m.upload.addEventListener("progress",(e=>{var t;e.lengthComputable&&(null==(t=c)||t(e))})),m.addEventListener("loadend",(()=>{const{readyState:e,status:t,responseText:o}=m;let a;try{a=JSON.parse(o)}catch(e){return n(e)}return e===D&&t===K?r({data:a}):n(a)})),m.open(i,e,!0),Object.entries(d).forEach((([e,t])=>{m.setRequestHeader(e,t)})),u&&(m.timeout=u),m.send(t)}))}(yield e(),o,{signal:l.signal,timeout:c.requestTimeout,headers:{Accept:"application/json, text/plain, */*"},onUploadProgress:({loaded:e,total:t})=>{c.emitter.emit(n,{loaded:e,total:t})}}).then(a).finally((()=>{c.emitter.removeListener(n)}))}))()}}trackProgress(e,t){this.emitter.addListener(e,t)}constructor(e,t){this.emitter=new w,this.requestTimeout=0,this.photosUploadUrlCache=new b,this.wallPhotosUploadUrlCache=new b,this.docsUploadUrlCache=new b,this.wallDocsUploadUrlCache=new b,this.api=e,this.featureFlags=t,this.uploadV2=this.featureFlags.vkm_upload_v2?1:0}}class E{subscribe(e,t){return this.emitter.addListener(e,t),()=>{this.emitter.removeListener(e)}}get(e){return this.attaches.get(e)}filterMissing(e){return e.filter((e=>!this.attaches.has(e)))}update(e,t){const o=this.attaches.get(e),r="function"==typeof t?t(o):t;r&&(this.attaches.set(e,r),this.emitter.emit(e,r))}remove(e){new Set(e).forEach((e=>{this.attaches.delete(e),this.emitter.removeListener(e)}))}constructor(){this.attaches=new Map,this.emitter=new w}}class y extends k{uploadFiles(e,t,o,r={}){e.forEach((e=>{this.toUploaderFileInfo(e,t).then((e=>{this.doUpload(e,o,r)})).catch((()=>{var t,o;null==(t=(o=r).onConvertationError)||t.call(o,e)}))}))}abortUpload(e){const t=this.uploads.get(e);var o,r;t&&(t.process.abort(),null==(o=(r=t.handlers).onUploadAbort)||o.call(r,e),this.uploads.delete(e));const n=this.failedUploads.get(e);var a,i;n&&(null==(a=(i=n.handlers).onUploadAbort)||a.call(i,e),this.failedUploads.delete(e));this.state.remove([e])}retryUpload(e){const t=this.failedUploads.get(e);if(t){this.failedUploads.delete(e);const{fileInfo:o,messengerData:r,handlers:a}=t;this.doUpload(o,r,a),this.state.update(o.trackId,(e=>{if(e)return(0,n._)({},e,{error:!1})}))}}getOrphans(e){return this.state.filterMissing(e)}subscribe(e,t){if(0===e.length)return()=>{};t(this.getState(e));const o=e.map((o=>this.state.subscribe(o,(()=>{t(this.getState(e))}))));return t=>{o.forEach((e=>e())),t(e)}}getState(e){if(0===e.length)return{};const t=e.reduce(((e,t)=>{const o=this.state.get(t);return o&&e.push(o),e}),[]);return this.buildOptimisticAttachments(t)}doUpload(e,t,o){var r,n;const{trackId:a}=e;null==(r=(n=o).onUploadStart)||r.call(n,[a]),this.upload(e,t).then((e=>(this.uploads.set(a,{process:e,handlers:o}),this.trackProgress(a,(({loaded:e,total:t})=>this.updateAttachProgress(a,{loaded:e,total:t,error:!1},o))),Promise.resolve(e.response).then((e=>{var t,r;const n=this.modifyUploadedAttach(a,e),i=new Map(n?[[a,n]]:[]);null==(t=(r=o).onUploadFinish)||t.call(r,i),this.state.remove([a])})).catch((e=>e instanceof s.IUploader.AbortError||e instanceof i.IApi.AbortError||"string"==typeof e&&e.toLowerCase().includes("abort")?Promise.resolve():Promise.reject(e))).finally((()=>{this.uploads.delete(a)}))))).catch((r=>{var n,i;console.error("[UPLOADER] Ошибка загрузки",r),null==(n=(i=o).onError)||n.call(i,a),this.failedUploads.set(a,{fileInfo:e,messengerData:t,handlers:o}),this.updateAttachProgress.call(this,a,{loaded:0,total:0,error:!0},o)}))}toUploaderFileInfo(e,{asFiles:t,asVoice:o,asChatPhoto:n,asOwnerPhoto:a,asChannelPhoto:i}){var s=this;return(0,r._)((function*(){if(!(e instanceof File)){if(!o)throw new Error("Загрузить аудиосообщения можно только с флагом asVoice");const{blob:t,duration:r,waveform:n}=e,a=new File([t],"voice_recording",{type:"audio/ogg"}),i=y.toFileInfo(a,"voice"),l=yield function(e,t,o,r){return Promise.resolve({kind:"OptimisticVoice",id:e.trackId,blob:t,duration:o,waveform:r,loaded:0,total:e.file.size})}(i,t,r,n);return s.state.update(i.trackId,l),i}const r=e;if(n)return y.toFileInfo(r,"chat-photo");if(a)return y.toFileInfo(r,"owner-photo");if(i)return y.toFileInfo(r,"channel-photo");if(!t&&C(r)){const e=y.toFileInfo(r,"image"),t=yield function(e){return T.apply(this,arguments)}(e);return s.state.update(e.trackId,t),e}if(!t&&S(r)){const e=y.toFileInfo(r,"video"),t=yield function(e){return O.apply(this,arguments)}(e);return s.state.update(e.trackId,t),e}if(!t&&x(r)){const e=y.toFileInfo(r,"audio"),t=yield(l=e,new Promise((e=>{const t=new Audio,o=URL.createObjectURL(l.file);t.addEventListener("loadedmetadata",(()=>{e({kind:"OptimisticAudio",id:l.trackId,duration:t.duration,artist:"",title:l.file.name,loaded:0,total:l.file.size})})),t.src=o})));return s.state.update(e.trackId,t),e}var l;const c=y.toFileInfo(r,"doc"),d=yield function(e){return j.apply(this,arguments)}(c);return s.state.update(c.trackId,d),c}))()}modifyUploadedAttach(e,t){var o;if(!t)return null;const r=this.state.get(e);let i=t;if("Video"===t.kind&&"OptimisticVideo"===(null==(o=r)?void 0:o.kind)){const e=!!r.duration,o=r.image.url!==a.emptyPreview,s=t.image.length>1||t.image[0].url!==a.emptyPreview;e&&o&&!s&&(i=(0,n._)({},t,{duration:r.duration,image:[r.image]}))}return i}updateAttachProgress(e,t,{onUploadProgressUpdate:o}){this.state.update(e,(e=>{if(e){switch(e.kind){case"OptimisticPhoto":var r;null==(r=o)||r("photo");break;case"OptimisticVideo":var a;null==(a=o)||a("video");break;case"OptimisticDoc":var i;null==(i=o)||i("file")}return(0,n._)({},e,t)}}))}buildOptimisticAttachments(e){return e.reduce(((e,t)=>{const o=[],r=[],n=[],a=[];switch(t.kind){case"OptimisticPhoto":o.push(t);break;case"OptimisticVideo":r.push(t);break;case"OptimisticAudio":n.push(t);break;case"OptimisticDoc":a.push(t);break;case"OptimisticVoice":e.voice=t}return o.length&&(e.photos=[...e.photos||[],...o]),r.length&&(e.videos=[...e.videos||[],...r]),n.length&&(e.audios=[...e.audios||[],...n]),a.length&&(e.docs=[...e.docs||[],...a]),e}),{})}static clearOptimisticAttachments(e,t){t.forEach((t=>{if("photos"in e){if(!e.photos)return;const o=(0,l.toNonEmpty)(e.photos.filter((({id:e})=>e!==t)));o?e.photos=o:delete e.photos}if("videos"in e){if(!e.videos)return;const o=(0,l.toNonEmpty)(e.videos.filter((({id:e})=>e!==t)));o?e.videos=o:delete e.videos}if("audios"in e){if(!e.audios)return;const o=(0,l.toNonEmpty)(e.audios.filter((({id:e})=>e!==t)));o?e.audios=o:delete e.audios}if("docs"in e){if(!e.docs)return;const o=(0,l.toNonEmpty)(e.docs.filter((({id:e})=>e!==t)));o?e.docs=o:delete e.docs}"voice"in e&&delete e.voice}))}static buildAttachments(e){return e.reduce(((e,t)=>(0,u.produce)(e,(o=>{var r,n,a,i;let s=null,c=null,d=null,u=null;switch(t.kind){case"Photo":s=(0,l.toNonEmpty)([t]);break;case"Video":c=(0,l.toNonEmpty)([t]);break;case"Audio":d=(0,l.toNonEmpty)([t]);break;case"Doc":u=(0,l.toNonEmpty)([t]);break;case"Voice":o.voice=t}(null==(r=s)?void 0:r.length)&&(o.photos=[...e.photos||[],...s]),(null==(n=c)?void 0:n.length)&&(o.videos=[...e.videos||[],...c]),(null==(a=d)?void 0:a.length)&&(o.audios=[...e.audios||[],...d]),(null==(i=u)?void 0:i.length)&&(o.docs=[...e.docs||[],...u])}))),{})}static hash(){return Math.floor(1e8*Math.random()+1e8).toString(16)}static resolveTrackId(e,t){if(0===t.length)throw new Error("Нельзя отдавать пустую строку в Uploader.resolveTrackId");return`${e}-${t}`}static toFileInfo(e,t){switch(t){case"image":return{kind:"image",trackId:y.resolveTrackId("image",y.hash()),file:e};case"video":return{kind:"video",trackId:y.resolveTrackId("video",y.hash()),file:e};case"audio":return{kind:"audio",trackId:y.resolveTrackId("audio",y.hash()),file:e};case"doc":return{kind:"doc",trackId:y.resolveTrackId("doc",y.hash()),file:e};case"voice":return{kind:"voice",trackId:y.resolveTrackId("voice",y.hash()),file:e};case"chat-photo":return{kind:"chat-photo",trackId:y.resolveTrackId("chat-photo",y.hash()),file:e};case"owner-photo":return{kind:"owner-photo",trackId:y.resolveTrackId("owner-photo",y.hash()),file:e};case"channel-photo":return{kind:"channel-photo",trackId:y.resolveTrackId("channel-photo",y.hash()),file:e};default:(0,l.exhaustivenessCheck)(t)}}constructor(...e){super(...e),this.uploads=new Map,this.failedUploads=new Map,this.state=new E}}class w{addListener(e,t){this.map.set(e,[...this.map.get(e)||[],t])}removeListener(e){this.map.delete(e)}emit(e,t){var o;null==(o=this.map.get(e))||o.forEach((e=>e(t)))}constructor(){this.map=new Map}}function C(e){return!(e instanceof DataTransferItem&&"file"!==e.kind)&&Boolean(e.type&&m.includes(e.type))}function I(e){return e.every(C)}function S(e){return!(e instanceof DataTransferItem&&"file"!==e.kind)&&(e instanceof File&&!e.type?/\.wmv$|\.avi$/.test(e.name):Boolean(e.type&&h.includes(e.type)))}function A(e){return e.every(S)}function x(e){return!(e instanceof DataTransferItem&&"file"!==e.kind)&&Boolean(e.type&&v.includes(e.type))}function M(e){return e.every(x)}function P(e){const t=URL.createObjectURL(e);return new Promise(((e,o)=>{const r=new Image;r.onload=()=>{e({url:t,width:r.width,height:r.height})},r.onerror=o,r.src=t}))}function R(e){return new Promise(((t,o)=>{const r=document.createElement("video");r.volume=0,r.preload="metadata",r.onloadedmetadata=()=>t(r),r.onerror=o,r.src=e}))}function N(){return(N=(0,r._)((function*(e){function t(e,t){return new Promise(((o,r)=>{e.onseeked=()=>{e.videoWidth&&e.videoHeight||o(void 0);const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const r=t.getContext("2d");r?(r.drawImage(e,0,0),o(t.toDataURL("image/jpeg"))):o(void 0)},e.onerror=r,e.currentTime=t}))}try{return t(e,.5*e.duration)}catch(a){var o,r,n;if("string"==typeof a||!(a instanceof Event))return Promise.reject(a);const i=null==(o=a.composedPath())?void 0:o[0];if(!(i instanceof HTMLVideoElement)||4!==(null==(n=i)||null==(r=n.error)?void 0:r.code))return Promise.reject(a);return t(yield R(e.src),Math.min(e.duration,1))}}))).apply(this,arguments)}function T(){return(T=(0,r._)((function*(e){const t=yield P(e.file);return{kind:"OptimisticPhoto",id:e.trackId,image:t,loaded:0,total:e.file.size}}))).apply(this,arguments)}function O(){return O=(0,r._)((function*(e){var t,o,r;let n=null,i=a.emptyPreview;try{n=yield(s=e.file,R(URL.createObjectURL(s))),i=(yield function(e){return N.apply(this,arguments)}(n))||a.emptyPreview}catch(e){}var s;return{kind:"OptimisticVideo",id:e.trackId,duration:Math.floor((null==(t=n)?void 0:t.duration)||0),loaded:0,total:e.file.size,image:{url:i,width:(null==(o=n)?void 0:o.videoWidth)||1,height:(null==(r=n)?void 0:r.videoHeight)||1}}})),O.apply(this,arguments)}function j(){return(j=(0,r._)((function*(e){var t;const o=/\.([0-9a-z]+)$/i.exec(e.file.name),r={kind:"OptimisticDoc",id:e.trackId,title:e.file.name,size:e.file.size,ext:(null==(t=o)?void 0:t[1])||"",loaded:0,total:e.file.size};if(C(e.file)){const t=yield P(e.file);return(0,n._)({},r,{image:t})}return r}))).apply(this,arguments)}function L(e){return!!e.targetPeerId&&d.isChannelId(e.targetPeerId)&&!!e.isChannel}function B(e,t){return!!e&&d.isChannelId(e)&&!!t}function V(e,t){return!!e&&!d.isChannelId(e)||!t}const D=4,K=200},850989:(e,t,o)=>{"use strict";o.d(t,{addDelegateEvent:()=>s,removeDelegateEvent:()=>l});var r=o(795558),n=o(953908);let a=new window.Map;function i(e){let t=a.get(e.currentTarget);if(!t)return;let o,n=t[e.type];if(n)for(let t=0;t<n.length;t++){let a,[i,s]=n[t];if((0,r.hasClass)(e.target,i)?a=s(e,e.target):(o=(0,r.gpeByClass)(i,e.target,e.currentTarget))&&(a=s(e,o)),!1===a)break}}function s(e,t,o,r,s){let l=a.get(e);l||(a.set(e,{}),l=a.get(e));let c=t.split(" ");for(let t=0;t<c.length;t++){let a=c[t];l[a]||(l[a]=[],s?(0,n.addEvent)(e,a,i,!1,!1,s):(0,n.addEvent)(e,a,i)),l[a].push([o,r])}}function l(e,t,o,r){let s=a.get(e);if(!s)return;t.split(" ").forEach((t=>{s[t]&&(s[t]=s[t].filter((e=>e[0]!==o||e[1]!==r)),0===s[t].length&&(0,n.removeEvent)(e,t,i))}));0===Object.keys(s).map((e=>s[e].length)).reduce(((e,t)=>e+t))&&a.delete(e)}},2914:(e,t,o)=>{"use strict";o.d(t,{createScroll:()=>c,getNativeOption:()=>a});var r=o(15080),n=o(438221);function a(e,t){return document.body[e]||document.documentElement[e]}class i{update(){}resize(){this.innerHeight=window.innerHeight}scrollTop(e){if(void 0===e)return a("scrollTop",this.el);!function(e,t,o){"scrollTop"===e&&window.scrollTo(0,t)}("scrollTop",e,this.el)}contHeight(){return a("scrollHeight")}smoothScroll(e){(0,n.scrollToY)(e+this.scrollTop(),300)}getContainer(){return this.el}getScroller(){return null}scrollBottom(e){if(void 0===e)return this.contHeight()-this.scrollTop()-this.getScrollHeight();let t=this.contHeight()-e-this.getScrollHeight();this.scrollTop(t)}scrollBottomFixSave(e){let t=Date.now();const o=()=>{Date.now()-t<500&&this.scrollBottom(e),window.removeEventListener("scroll",o)};window.addEventListener("scroll",o),this.scrollBottom(e)}onScroll(e){let t=this.scrollTop(),o=t-this.prevScroll,r=this.contHeight();this.opts.onScroll&&this.opts.onScroll(-o,this),this.opts.scrollChange&&this.opts.scrollChange(t),this.opts.more&&r-t<2*this.innerHeight&&this.opts.more(this),this.prevScroll=t}getScrollHeight(){return this.innerHeight}destroy(){(0,r.destroyModule)(this.module)}constructor(e,t){this.el=e,this.opts=t,this.module=(0,r.createModule)({handlers:(e,t)=>{e(window,"scroll",this.onScroll.bind(this)),e(window,"resize",this.resize.bind(this))}}),this.innerHeight=window.innerHeight,this.prevScroll=this.scrollTop()}}class s{update(){this.scroll.update("sync")}scrollTop(e){return void 0!==e?this.scroll.scrollTop(e):this.scroll.data.scrollTop}getContainer(){return this.scroll.content}getScroller(){return this.scroll.scroller}contHeight(){return this.scroll.data.scrollHeight}smoothScroll(e){this.scroll.scrollTop(this.scrollTop()+e,300)}scrollBottom(e){return void 0!==e?this.scroll.scrollBottom(e):this.scroll.data.scrollBottom}scrollBottomFixSave(e){let t=Date.now();this.scroll.emitter.addOnceListener("resize",(()=>{Date.now()-t<500&&this.scroll&&this.scrollBottom(e)})),this.scrollBottom(e)}getScrollHeight(){return this.scroll.data.viewportHeight}destroy(){this.scroll.destroy()}constructor(e,t){this.prevTop=0,this.scroll=new uiScroll(e,{hidden:void 0===t.hidden||t.hidden,shadows:t.shadows,stopScrollPropagation:!1,theme:t.scrollTheme,onmore:()=>t.more&&t.more(this),onscroll:e=>{const o=this.scrollTop(),r=this.prevTop-o;this.prevTop=o,t.scrollChange&&t.scrollChange(o),t.onScroll&&t.onScroll(r,this)}})}}class l{update(){}getContainer(){return this.el}getScroller(){return null}scrollTop(e){return 0}contHeight(){return 0}smoothScroll(e){}scrollBottom(e){return 0}scrollBottomFixSave(e){}getScrollHeight(){return 0}destroy(){}constructor(e,t){this.el=e}}function c(e,t){return t.noScroll?new l(e):t.nativeScroll?new i(e,t):new s(e,t)}},873004:(e,t,o)=>{"use strict";o.d(t,{Atom:()=>r});class r{set(e,{notify:t=!0}={}){t&&this.base.notify(this.key)}getKey(){return`${this.base.options.storeName}-${this.key}`}constructor({key:e,base:t}){this.key=e,this.base=t}}},131966:(e,t,o)=>{"use strict";o.d(t,{Store:()=>r});class r{subscribe(e,t){const o=this.getListeners(t);return o.add(e),()=>{o.delete(e)}}notify(e,t){this.getListeners(t).forEach((t=>{t(e)}))}refresh(){try{localStorage.setItem(this.key,""),localStorage.removeItem(this.key)}catch(e){}}destroy(){this.listeners.clear(),this.syncListeners.clear(),r.instances.delete(this.key)}get key(){const{dbName:e,storeName:t,version:o}=this.options;return`${e}-v${o}-${t}`}getListeners(e){return e?this.syncListeners:this.listeners}constructor(e){this.listeners=new Set,this.syncListeners=new Set,this.options=e,r.instances.set(this.key,this)}}r.instances=new Map,window.addEventListener("storage",(({key:e,newValue:t})=>{var o;e&&null!==t&&(null==(o=r.instances.get(e))||o.notify())}))},426775:(e,t,o)=>{"use strict";o.d(t,{SyncAtom:()=>a,SyncAtomType:()=>r});var r,n=o(873004);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(r||(r={}));class a extends n.Atom{get(){const e=this.getKey();try{let t=localStorage.getItem(e);if(!t)return null;switch(this.type){case r.OBJECT:try{t=JSON.parse(t)}catch(e){return null}break;case r.NUMBER:t=Number(t)||0;break;case r.STRING_NUMBER:t=Number(t)||t;break;case r.BOOLEAN:t=Boolean(Number(t))}return t}catch(t){return console.log(`${e}: Ошибка чтения данных из хранилища`),console.log(t),this.cache||null}}set(e,t){const o=this.getKey();let n;switch(this.type){case r.OBJECT:n=JSON.stringify(e);break;case r.BOOLEAN:n=String(Number(e));break;default:n=String(e)}try{localStorage.setItem(o,n)}catch(t){console.log(`${o}: Не удалось записать данные в хранилище`),console.log(t),this.cache=e}super.set(e,t)}delete(){const e=this.getKey();try{delete this.cache,localStorage.removeItem(e)}catch(t){console.log(`${e}: Ошибка удаления ключа из хранилища`),console.log(t)}}getKey(){return`${this.base.key}-${this.key}`}constructor(e){super(e);const{base:t,type:o}=e;this.base=t,this.type=o}}},380312:(e,t,o)=>{"use strict";o.d(t,{createSyncStore:()=>i});var r=o(131966),n=o(426775);class a extends r.Store{createAtom(e,t){return new n.SyncAtom({key:e,type:t,base:this})}constructor(e){super(e)}}function i(e){return new a(e)}},10887:(e,t,o)=>{"use strict";o.d(t,{LangPackProvider:()=>m});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(667294),l=o(351529),c=o(511143),d=o(310003);const u=new Map;function m(e){var{children:t,suspense:o}=e,m=(0,n._)(e,["children","suspense"]);const h=(0,s.useMemo)((()=>JSON.stringify(m)),[m]),v=(0,i.useUnit)(c.loadPackFx),p=(0,s.useMemo)((()=>{let e=u.get(h);return e||(e=(0,d.wrapSuspense)(v((0,r._)({id:h},m))),u.set(h,e)),e}),[h,m]);return o&&p.read(),(0,a.jsx)(l.LangPackIdProvider,{value:h,children:t})}},351529:(e,t,o)=>{"use strict";o.d(t,{LangPackIdProvider:()=>a,useLangPackId:()=>i});var r=o(667294);const n=(0,r.createContext)(void 0),a=n.Provider;function i(){return(0,r.useContext)(n)}},989059:(e,t,o)=>{"use strict";o.d(t,{lang:()=>r});const r=(0,o(798116).createDomain)()},511143:(e,t,o)=>{"use strict";o.d(t,{$packs:()=>s,loadPackFx:()=>i});var r=o(11010),n=o(434788),a=o(989059);const i=a.lang.createEffect((0,r._)((function*({id:e,name:t,lang:o,domain:r,cacheAge:n=600}){const a=new URL("/js/lang-pack.js",(i=r)?i.startsWith("http")?i:`https://${i}`:`https://${location.hostname}`);var i;return a.searchParams.set("name",t),a.searchParams.set("format","json"),a.searchParams.set("cache_age",String(n)),void 0!==o&&a.searchParams.set("lang",String(o)),fetch(String(a)).then((e=>e.json())).then((t=>({id:e,pack:t})))}))),s=a.lang.createStore({}).on(i.doneData,((e,{id:t,pack:o})=>(0,n._)({},e,{[t]:o})))},548499:(e,t,o)=>{"use strict";o.d(t,{useLangPack:()=>i});var r=o(504190),n=o(511143),a=o(351529);function i(){const e=(0,a.useLangPackId)();if(!e)throw new Error("Отсутствует обертка LangPackProvider");const t=(0,r.useUnit)(n.$packs)[e];return{translate:(e,o)=>{if(!e||!t)return" ";const{keys:r}=t;if(!(e in r))return e;let n=String(r[e]);return o&&(n=n.replace(/{([^]+?)}/g,((e,t)=>{const r=o[t];return void 0===r?"":String(r)}))),n},pack:t}}},310003:(e,t,o)=>{"use strict";var r;function n(e){let t,o=r.PENDING;const n=e.then((e=>{t=e,o=r.SUCCESS})).catch((e=>{t=e,o=r.ERROR}));return{read:()=>{switch(o){case r.SUCCESS:return t;case r.PENDING:throw n;case r.ERROR:throw t}}}}o.d(t,{wrapSuspense:()=>n}),function(e){e.ERROR="error",e.SUCCESS="success",e.PENDING="pending"}(r||(r={}))},607338:(e,t,o)=>{"use strict";o.d(t,{useLottie:()=>l});var r=o(11010),n=o(434788),a=o(667294),i=o(674694),s=o(936392);function l(e,{play:t,show:o}={}){const{animationUrl:l,animationData:c}=e,d=(0,a.useRef)(!1),u=(0,a.useRef)(null),m=(0,a.useRef)(null),[h,v]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[g,_]=(0,a.useState)(!1),b=(0,i.useIsMounted)(),k=(0,r._)((function*(){const t=m.current;t?d.current=!1:(f(!0),_(!1));const o=u.current;if((l||c)&&o&&!d.current){d.current=!0,v(!1);try{const t=yield s.LottieManager.loadAnimation((0,n._)({containers:[o]},e));t.addEventListener("firstFrame",(()=>{_(!0)}),{once:!0}),f(!1),m.current=t}catch(e){v(!0)}var r;if(b())null==(r=t)||r.destroy()}}));(0,a.useEffect)((()=>{const e=m.current;e&&!p&&(void 0!==t&&(t?e.play():e.pause()),void 0!==o&&(o?e.show():e.hide()))}),[p,t,o]),(0,a.useEffect)((()=>(k(),()=>{var e;null==(e=m.current)||e.destroy()})),[l,c]);return{lottieError:h,lottieLoading:p,lottieLoaded:!p&&!h,lottieRendered:g,lottiePlayerRef:m,lottieContainerRef:u}}},535727:(e,t,o)=>{"use strict";o.d(t,{usePatchChildrenRef:()=>i});var r=o(667294),n=o(488543);const a=e=>"string"==typeof e.type,i=e=>{var t;const o=(0,r.isValidElement)(e)&&(a(e)?e.ref:e.props.getRootRef),i=(0,n.useExternRef)(o);return(0,r.useEffect)((()=>{i.current||console.error("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента")}),[null==(t=e)?void 0:t.type,i]),[i,(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{[a(e)?"ref":"getRootRef"]:i}):e]}},366812:(e,t,o)=>{"use strict";o.d(t,{APIProvider:()=>l});var r=o(785893),n=o(667294),a=o(879706),i=o(478748),s=o(744165);function l({userId:e,peerId:t,onAPIRequest:o,language:l,children:c}){const[d,u]=(0,n.useReducer)(((e,t)=>(e.cache.destroy(),t)),new i.API({userId:e,peerId:t,onAPIRequest:o,language:l}));return(0,n.useEffect)((()=>{const r=new i.API({userId:e,peerId:t,onAPIRequest:o,language:l});u(r),r.cache.reload()}),[e,t,l,o]),(0,n.useEffect)((()=>{if((0,s.isUgcStickersEnabled)())return d.updates.start(),()=>{d.updates.stop()}}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.APIGate,{api:d}),c]})}},72771:(e,t,o)=>{"use strict";o.d(t,{AvatarSuggestionRow:()=>p});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(86894),l=o(331533),c=o(320054),d=o(976332),u=o(538115),m=o(63767),h=o(578351),v=o(450390);const p=e=>{var t,o,p,f,g,{Component:_}=e,b=(0,n._)(e,["Component"]);const k=(0,s.useAppearance)(),{onVmojiSuggestionClick:E}=(0,h.useStickersKeyboard)(),y=(0,i.useStore)(d.$avatarSuggestion),w=(0,i.useStore)(c.$stickersVerticalGap);if(!E)return null;const C=null==(p=y)||null==(o=p.resources)||null==(t=o.find((e=>e.key===`image_${k}`)))?void 0:t.value,I=null==(f=y)?void 0:f.title,S=null==(g=y)?void 0:g.description;return(0,a.jsx)(_,(0,r._)({style:{"--stickers-vertical-gap":`${w}px`},className:v.default.banner,asideMode:"dismiss",onDismiss:e=>{e.preventDefault(),e.stopPropagation(),(0,u.hideHelpHint)(m.HelpHintIdTypes.VMOJI_AVATAR_SUGGESTION)},onClick:E,mode:"image",imageTheme:"light",before:(0,a.jsx)("div",{className:v.default.placeholder}),background:(0,a.jsx)("div",{className:v.default.character,style:{backgroundImage:`url('${C}')`}}),header:I&&(0,a.jsx)(s.Headline,{level:"1",children:I}),subheader:S&&(0,a.jsx)(s.Paragraph,{children:(0,a.jsx)(l.InnerHTML,{children:S})})},b))}},910682:(e,t,o)=>{"use strict";o.d(t,{Emoji:()=>c});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(331092),l=o(777459);function c(e){var{emoji:t,className:o}=e,c=(0,n._)(e,["emoji","className"]);return(0,a.jsx)("i",(0,r._)({className:(0,i.classNames)(l.default.emoji,`@${(0,s.unicodeToByteHex)(t)}`,o),"data-emoji":t},c))}},229172:(e,t,o)=>{"use strict";o.d(t,{EmojiItem:()=>c});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(910682),l=o(808209);function c(e){var{emoji:t,active:o,onEmojiClick:c,className:d,onClick:u}=e,m=(0,n._)(e,["emoji","active","onEmojiClick","className","onClick"]);return(0,a.jsx)("div",(0,r._)({className:(0,i.classNames)(d,l.default.item,{[l.default.itemActive]:o}),onClick:e=>{var o,r;null==(o=u)||o(e),null==(r=c)||r(t)}},m,{children:(0,a.jsx)(s.Emoji,{emoji:t})}))}},17420:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboard:()=>A});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(86894),l=o(906811),c=o(659397),d=o(667294),u=o(88871),m=o(449345),h=o(448011),v=o(363515),p=o(52493),f=o(634273),g=o(210802),_=o(579865),b=o(213916),k=o(609892),E=o(750466),y=o(609571),w=o(486589),C=o(816925),I=o(475423),S=o(473684);function A(e){var{className:t}=e,o=(0,n._)(e,["className"]);const{emojiSections:A,insertEmoji:x}=(0,y.useEmojiKeyboard)(),{bannerPackIndex:M,getAvatarSuggestionEmojiRow:P,avatarSuggestion:R,avatarSuggestionTab:N}=(0,w.useAvatarSuggestion)(),T=(0,i.useStore)(p.$emojiPadding),O=(0,i.useStore)(f.$selectedEmojiPackIndex),j=(0,d.useRef)(null),{setGridRef:L,columns:B}=(0,g.useGrid)({tab:_.Tab.EMOJI,itemWidth:h.EMOJI_SIZE+T}),V=(0,d.useMemo)((()=>{const e=[];return A.forEach((([t,o],r)=>{if(e.push({type:C.EmojiKeyboardElementType.HEADER,element:(0,a.jsx)(v.EmojiKeyboardHeader,{title:t},t),sticky:!0}),!M&&r===O||M===r){const t=P(O);t&&e.push(t)}(0,c.chunkArray)(o,B).forEach(((o,n)=>{e.push({type:C.EmojiKeyboardElementType.ROW,element:(0,a.jsx)(m.EmojiKeyboardRow,{"data-section-index":r,"data-row-index":n,emoji:o,onEmojiClick:x},`${t}${o[0]}`)})}))})),e}),[B,A,R]),D=(0,d.useMemo)((()=>V.reduce(((e,{type:t},o)=>(t===C.EmojiKeyboardElementType.HEADER&&e.push(o),e)),[])),[V]),K=e=>D.includes(e),{rangeExtractor:H,isSticky:U}=(0,b.useSticky)({rows:V}),G=(0,l.useVirtualizer)({overscan:5,rangeExtractor:H,count:V.length,getScrollElement:()=>j.current,estimateSize:()=>h.EMOJI_SIZE});(0,k.useScrollView)(j),(0,E.useKeyboardEvent)({columns:B,virtualizer:G,headerIndexes:D}),(0,I.useCalculateSelectedEmojiPackIndex)(G,D),(0,d.useEffect)((()=>{null!==M&&N===_.Tab.EMOJI&&D[M]&&G.scrollToIndex(D[M],{align:"start",behavior:"auto"})}),[M]);const $=G.getVirtualItems().filter(Boolean);return(0,a.jsx)(u.ViewItem,(0,r._)({getRef:L,className:(0,c.classNames)(S.default.keyboard,t),style:{"--emoji-size":`${h.EMOJI_SIZE}px`,"--emoji-padding":`${T}px`,"--emoji-columns":B}},o,{children:(0,a.jsx)(s.CustomScrollView,{boxRef:j,className:S.default.scroll,autoHideScrollbar:!0,children:(0,a.jsx)("div",{className:S.default.in,style:{height:G.getTotalSize()},children:$.map((({key:e,index:t,start:o})=>(0,a.jsx)("div",{"data-index":t,ref:G.measureElement,className:(0,c.classNames)(S.default.item,{[S.default.itemHeader]:K(t)}),style:U(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${o}px)`},children:V[t].element},e)))})})}))}},750466:(e,t,o)=>{"use strict";o.d(t,{useKeyboardEvent:()=>m});var r,n=o(667294),a=o(504190),i=o(765998),s=o(147611),l=o(717326),c=o(41045),d=o(609571);!function(e){e.ENTER="Enter",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(r||(r={}));const u=Object.values(r);function m({columns:e,virtualizer:t,headerIndexes:o}){var m,h;const{emojiSections:v,insertEmoji:p}=(0,d.useEmojiKeyboard)(),f=(0,a.useStore)(i.$isVisible),g=(0,a.useStore)(c.$selectedEmoji),{isEmojiVisibleTab:_}=(0,a.useStore)(s.$visibleTabState),{isEmojiActiveTab:b}=(0,a.useStore)(l.$tabbarActiveTabState),k=(null==(m=g)?void 0:m.emojiIndex)||0,E=(null==(h=g)?void 0:h.sectionIndex)||0,y=Math.floor(k/e),w=(e,r)=>{const n=o[E]+y;t.scrollToIndex(n,{align:"center",behavior:"auto"}),(0,c.setSelectedEmoji)({sectionIndex:e,emojiIndex:r})};(0,n.useEffect)((()=>{if(!f)return;const t=t=>{const{key:o}=t,n=g;if(u.includes(o)&&(_||b))if((e=>{e.preventDefault(),e.stopPropagation()})(t),n)switch(o){case r.ENTER:{var a;if(!g)return;const{sectionIndex:e,emojiIndex:t}=g,o=null==(a=v[e])?void 0:a[1][t];return void(o&&p(o))}case r.ARROW_UP:if(!g)return;if(Number(n.emojiIndex)>=e)return void w(n.sectionIndex,n.emojiIndex-e);if(n.sectionIndex){var i;const t=(null==(i=v[n.sectionIndex-1])?void 0:i[1].length)||0;if(t){const o=n.emojiIndex%e,r=t-1,a=r%e,i=r-r%e+Math.min(o,a);w(n.sectionIndex-1,i)}}return;case r.ARROW_DOWN:{var s;const t=(null==(s=v[n.sectionIndex])?void 0:s[1].length)||0;return n.emojiIndex-n.emojiIndex%e!=t-1-(t-1)%e?void w(n.sectionIndex,Math.min(n.emojiIndex+e,t-1)):void(n.sectionIndex!==v.length-1&&w(n.sectionIndex+1,n.emojiIndex%e))}case r.ARROW_LEFT:if(n.emojiIndex)return void w(n.sectionIndex,n.emojiIndex-1);if(n.sectionIndex){var l;const e=(null==(l=v[n.sectionIndex-1])?void 0:l[1].length)||0;e&&w(n.sectionIndex-1,e-1)}return;case r.ARROW_RIGHT:{var c;const e=(null==(c=v[n.sectionIndex])?void 0:c[1].length)||0;return n.emojiIndex!==e-1?void w(n.sectionIndex,n.emojiIndex+1):void(n.sectionIndex!==v.length-1&&w(n.sectionIndex+1,0))}}else w(0,0)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[f,b,_,g,v])}},816925:(e,t,o)=>{"use strict";var r;o.d(t,{EmojiKeyboardElementType:()=>r}),function(e){e.ROW="row",e.HEADER="header"}(r||(r={}))},363515:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardHeader:()=>h});var r=o(434788),n=o(820224),a=o(785893),i=o(86894),s=o(504190),l=o(659397),c=o(548499),d=o(850286),u=o(791677);const m={[d.StickerEmojiKeyboardVariant.WIDE]:u.default.headerWide,[d.StickerEmojiKeyboardVariant.COMPACT]:u.default.headerCompact,[d.StickerEmojiKeyboardVariant.REGULAR]:u.default.headerRegular,[d.StickerEmojiKeyboardVariant.ADAPTIVE]:u.default.headerAdaptive};function h(e){var{title:t,className:o}=e,h=(0,n._)(e,["title","className"]);const{translate:v}=(0,c.useLangPack)(),p=(0,s.useStore)(d.$variant);return(0,a.jsx)("div",(0,r._)({"data-testid":"emoji-keyboard-header","data-header":!0,className:(0,l.classNames)(u.default.header,m[p],o)},h,{children:(0,a.jsx)(i.Subhead,{className:u.default.title,weight:"3",children:v(t)})}))}},448011:(e,t,o)=>{"use strict";o.d(t,{EMOJI_SIZE:()=>p,EmojiKeyboardProvider:()=>f});var r=o(11010),n=o(434788),a=o(820224),i=o(785893),s=o(504190),l=o(667294),c=o(298995),d=o(765998),u=o(563431),m=o(41045),h=o(74779),v=o(609571);const p=16;function f(e){var{onEmojiInsert:t}=e,o=(0,a._)(e,["onEmojiInsert"]);const p=(0,h.useAPI)(),f=(0,s.useStore)(d.$isVisible),g=e=>e?e.sort((([,e],[,t])=>t-e)).map((([e])=>e)):[],[_,b]=(0,l.useState)(Object.entries((0,n._)({stickers_picker_recently_used:g(p.cache.recentEmoji.get())},c.sections))),k=_.filter((([,e])=>e.length)),E=(0,r._)((function*(){const e=p.cache.recentEmoji.get();e&&((0,u.setRecentEmoji)(e),b((t=>(t[0][1]=g(e),t))))}));return(0,l.useEffect)((()=>{f||(E(),(0,m.setSelectedEmoji)(null))}),[p,f]),(0,i.jsx)(v.EmojiKeyboardContext.Provider,(0,n._)({value:{emojiSections:k,onEmojiInsert:t}},o))}},298995:(e,t,o)=>{"use strict";o.d(t,{sections:()=>r});const r={stickers_picker_emotions:["😀","😃","😄","😁","😅","😆","😂","🤣","😉","😊","☺","🙂","🙃","😇","😗","😙","😚","😘","😍","🥰","🤩","🤗","😋","😜","🤪","😛","😝","🤑","🤭","🤐","🤫","😶","🤔","🤨","🧐","😐","😑","🙄","😬","🤥","😏","😌","🤤","😴","🤓","😎","🥳","🤠","😒","😔","😪","😕","😟","🙁","☹","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","😷","🤒","🤕","🤢","🤮","🤧","🥶","🥵","🥴","😵","🤯","😤","😠","😡","🤬","😈","👿","💀","☠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","🦠"],stickers_picker_gestures_and_people:["👍","👎","👌","✌","🤞","🤟","🤘","🤙","🖕","✊","👊","🤛","🤜","👈","👉","👆","👇","☝","👋","🤚","🖐","✋","🖖","👏","🙌","👐","🤲","🤝","🙏","💪","🦵","🦶","👂","👃","🧠","🦷","🦴","👀","👁","👅","👄","✍","💅","🤳","👫","👭","👬","👩‍❤️‍💋‍👨","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍❤️‍👨","👨‍❤️‍👨","👩‍❤️‍👩","👪","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓️","🙍‍♂️️","🙍‍♀️️","🙎‍♂️","🙎‍♀️️","🙅‍♂️","🙅‍♀️","🙆‍♂️","🙆‍♀️","💁‍♂️","💁‍♀️️","🙋‍♂️","🙋‍♀️️","🙇‍♂️","🙇‍♀️️","🤦‍♂️","🤦‍♀️","🤷‍♂️","🤷‍♀️","💆‍♂️️","💆‍♀️","💇‍♂️️","💇‍♀️","🚶‍♂️️","🚶‍♀️️","🏃‍♂️️","🏃‍♀️","💃","🕺","🕴️","👯‍♂️️","👯‍♀️","🧖‍♂️","🧖‍♀️️","👼","🎅","🤶","🦸‍♂️","🦸‍♀️","🦹‍♂️","🦹‍♀️","🧙‍♂️","🧙‍♀️","🧚‍♂️","🧚‍♀️","🧛‍♂️","🧛‍♀️","🧜‍♂️","🧜‍♀️","🧝‍♂️","🧝‍♀️","🧞‍♂️","🧞‍♀️","🧟‍♂️","🧟‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮‍♂️","👮‍♀️","🕵️‍♂️","🕵️‍♀️","💂‍♂️","💂‍♀️","👷‍♂️","👷‍♀️","🤴","👸","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","🛀","🛌"],stickers_picker_symbols:["💋","❤","💔","❣","💘","💝","💖","💗","💓","💞","💕","💟","💜","🧡","💛","💚","💙","🖤","💯","💢","💥","💫","🕳","💣","💬","👁️‍🗨️","🗨","🗯","💭","💤","🗣","👤","👥","👣","🔇","🔊","📢","📣","🔔","🔕","🎼","🎵","🎶","⚠","🚸","☢","☣","🆚","🆓","🆕","🚮","🚾","🚭","✅","♻","⚕","🔱","‼","⁉","❓","❗","🆘","⛔","🚫","🚳","🚯","🚱","🚷","📵","🔞"],stickers_picker_animals_and_plants:["🐵","🐒","🦍","🐶","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🐮","🐂","🐃","🐄","🐷","🐽","🐖","🐗","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿","🦔","🦇","🐻","🐨","🐼","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊","🦅","🦆","🦢","🦉","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🐟","🐠","🐡","🦈","🐙","🦀","🦞","🦐","🦑","🐚","🐌","🦋","🐛","🐜","🐝","🐞","🦗","🕷","🕸","🦂","🦟","💐","🌸","💮","🏵","🌹","🥀","🌺","🌻","🌼","🌷","🌳","🌲","🎄","🌴","🌵","🌾","🌱","🌿","☘","🍀","🍁","🍂","🍃","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡","☀","🌝","🌞","⭐","🌟","🌠","☁","⛅","⛈","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","💨","🌀","🌈","🌂","☂","☔","⛱","⚡","❄","☃","⛄","☄","🔥","💦","💧","🌊"],stickers_picker_food_and_drink:["🍏","🍎","🍐","🍅","🥝","🍑","🍒","🍓","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🥥","🥑","🍆","🥔","🥕","🌽","🌶","🥒","🥬","🥦","🍄","🥜","🌰","🍞","🥐","🥖","🥨","🥯","🥞","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽","🍴","🥄"],stickers_picker_sport_and_activities:["⚽","⚾","🥎","🏀","🏐","🏈","🏉","🎾","🥏","🎳","🏏","🏑","🏒","🥍","🏓","🏸","🥊","🥋","🥅","⛳","⛸","🎣","🎽","🛹","🎿","🛷","🥌","🎯","🎱","🎮","🕹","🎰","🎲","🧩","♟","🧗‍♂️️","🧗‍♀️","🤺","🏇","⛷","🏂","🏌️‍♂️","🏌️‍♀️","🏄‍♂️","🏄‍♀️","🚣‍♂️","🚣‍♀️","🏊‍♂️","🏊‍♀️","⛹️‍♂️","⛹️‍♀️","🏋️‍♂️","🏋️‍♀️","🚴‍♂️","🚴‍♀️","🚵‍♂️","🚵‍♀️","🤸","🤼‍♂️","🤼‍♀️","🤽‍♂️","🤽‍♀️","🤾‍♂️","🤾‍♀️","🤹‍♂️","🤹‍♀️","🧘‍♂️","🧘‍♀️","🎖","🏆","🏅","🥇","🥈","🥉"],stickers_picker_travel_and_transport:["🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🏎","🏍","🛵","🚲","🛴","🚏","🛣","🛤","🛢","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳","⛴","🛥","🚢","✈","🛩","🛫","🛬","💺","🚁","🚟","🚠","🚡","🛰","🚀","🛸","🌍","🌎","🌏","🌐","🗺","🗾","🧭","🏔","⛰","🌋","🗻","🏕","🏖","🏜","🏝","🏞","🏟","🏛","🏗","🧱","🏘","🏚","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","🗼","🗽","⛪","🕌","🕍","⛩","🕋","⛲","⛺","🌁","🌃","🏙","🌄","🌅","🌆","🌇","🌉","♨","🌌","🎠","🎡","🎢","💈","🎪"],stickers_picker_subjects:["🎙","🎚","🎛","🎤","🎧","📻","🎷","🎸","🎹","🎺","🎻","🥁","📯","🎭","🖼","🎨","🧵","🧶","🔮","🧿","🧸","🃏","🀄","🎴","🎃","🎆","🎇","🧨","✨","🎈","🎉","🎊","🎋","🎍","🎎","🎏","🎐","🎑","🧧","🎀","🎁","🎗","🎟","🎫","🛎","🧳","⌛","⏳","⌚","⏰","⏱","⏲","🕰","👓","🕶","🥽","🥼","👔","👕","👖","🧣","🧤","🧥","🧦","👗","👘","👙","👚","👛","👜","👝","🛍","🎒","👞","👟","🥾","🥿","👠","👡","👢","👑","👒","🎩","🎓","🧢","⛑","📿","💄","💍","💎","📱","📲","☎","📞","📟","📠","🔋","🔌","💻","🖥","🖨","⌨","🖱","🖲","💽","💾","💿","📀","🧮","🎥","🎞","📽","🎬","📺","📷","📸","📹","📼","🔍","🔎","🕯","💡","🔦","🏮","📔","📕","📖","📗","📘","📙","📚","📓","📒","📃","📜","📄","📰","🗞","📑","🔖","🏷","💰","💴","💵","💶","💷","💸","💳","🧾","💹","💱","💲","✉","💌","📧","📨","📩","📤","📥","📦","📫","📪","📬","📭","📮","🗳","✏","✒","🖋","🖊","🖌","🖍","📝","💼","📁","📂","🗂","📅","📆","🗒","🗓","📇","📈","📉","📊","📋","📌","📍","📎","🖇","📏","📐","✂","🗃","🗄","🗑","🔒","🔓","🔏","🔐","🔑","🗝","🔨","⛏","⚒","🛠","🗡","⚔","🔪","🔫","🏹","🛡","🔧","🔩","⚙","🗜","⚖","🔗","⛓","🧰","🧲","⚗","🧪","🧫","🧬","🔬","🔭","📡","💉","💊","🚪","🛏","🛋","🚽","🚿","🛁","🧴","🧷","🧹","🧺","🧻","🧼","🧽","🧯","🛒","🚬","⚰","⚱","🏺","🗿"],stickers_picker_flags:["🇷🇺","🇰🇿","🇧🇾","🇺🇦","🇲🇳","🇬🇪","🇦🇿","🇹🇯","🇧🇷","🇱🇹","🇱🇻","🇪🇪","🇦🇲","🏁","🚩","🎌","🏴","🏳","🏳️‍🌈","🏴‍☠️","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇨","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇺","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇬","🇺🇲","🇺🇳","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼"]}},449345:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardRow:()=>p,rowVariantModifier:()=>v});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(659397),l=o(667294),c=o(229172),d=o(41045),u=o(850286),m=o(609571),h=o(327503);const v={[u.StickerEmojiKeyboardVariant.WIDE]:h.default.rowWide,[u.StickerEmojiKeyboardVariant.COMPACT]:h.default.rowCompact,[u.StickerEmojiKeyboardVariant.REGULAR]:h.default.rowRegular,[u.StickerEmojiKeyboardVariant.ADAPTIVE]:h.default.rowAdaptive};function p(e){var t,o,{emoji:p,onEmojiClick:f,className:g}=e,_=(0,n._)(e,["emoji","onEmojiClick","className"]);const{emojiSections:b}=(0,m.useEmojiKeyboard)(),k=(0,i.useStore)(u.$variant),E=(0,i.useStore)(d.$selectedEmoji),y=null==(t=E)?void 0:t.emojiIndex,w=null==(o=E)?void 0:o.sectionIndex,C=void 0!==y&&void 0!==w?b[w][1][y]:void 0,I=(0,l.useMemo)((()=>p.map((e=>(0,a.jsx)(c.EmojiItem,{className:h.default.emoji,emoji:e,active:e===C,onEmojiClick:f},e)))),[p,C,f]);return(0,a.jsx)("div",(0,r._)({className:(0,s.classNames)(h.default.row,v[k],g)},_,{children:I}))}},598750:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardRowBanner:()=>u});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(86894),l=o(504190),c=o(850286),d=o(449345);const u=e=>{var{className:t}=e,o=(0,n._)(e,["className"]);const u=(0,l.useStore)(c.$variant);return(0,a.jsx)("div",{className:(0,i.classNames)(t,d.rowVariantModifier[u]),children:(0,a.jsx)(s.Banner,(0,r._)({noPadding:!0},o))})}},258838:(e,t,o)=>{"use strict";o.d(t,{PeerProvider:()=>u});var r=o(11010),n=o(504190),a=o(723062),i=o(667294),s=o(158345),l=o(733477),c=o(173235),d=o(74779);function u({children:e}){const t=(0,d.useAPI)(),o=(0,n.useStore)(s.$peerId),u=(0,r._)((function*(){const e=yield t.users.get({user_ids:String(o),fields:String(["photo_50","first_name_gen"])}).then((e=>e[0])).catch((()=>{}));e&&(0,c.setUserPeer)(e)})),m=(0,r._)((function*(){const e=yield t.messages.getConversationsById({peer_ids:String(o)}).then((({items:e})=>e[0])).catch((()=>{}));e&&(0,l.setChatPeer)(e)}));return(0,i.useEffect)((()=>{(0,c.setUserPeer)(null),(0,l.setChatPeer)(null),o&&(a.Ranges.isChatOrChannelPeer(o)?m():a.Ranges.isUserId(o)&&u())}),[o]),e}},315108:(e,t,o)=>{"use strict";o.d(t,{Skeleton:()=>i});var r=o(785893),n=o(659397),a=o(792704);function i({width:e,height:t,borderRadius:o,className:i}){return(0,r.jsx)("div",{className:(0,n.classNames)(a.default.skeleton,i),style:{width:e,height:t,borderRadius:o}})}},51715:(e,t,o)=>{"use strict";o.d(t,{StickersEmojiKeyboard:()=>P});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(659397),l=o(667294),c=o(869048),d=o(960644),u=o(10887),m=o(461541),h=o(404976),v=o(366812),p=o(258838),f=o(17420),g=o(348421),_=o(448011),b=o(782089),k=o(239065),E=o(158345),y=o(717326),w=o(765998),C=o(147611),I=o(699611),S=o(850286),A=o(74779),x=o(419928);const M={[S.StickerEmojiKeyboardVariant.WIDE]:x.default.keyboardWide,[S.StickerEmojiKeyboardVariant.COMPACT]:x.default.keyboardCompact,[S.StickerEmojiKeyboardVariant.REGULAR]:x.default.keyboardRegular,[S.StickerEmojiKeyboardVariant.ADAPTIVE]:x.default.keyboardAdaptive};function P(e){var{lang:t,userId:o,peerId:i,variant:s,isVisible:l,visibleTab:c,onAPIRequest:d,activePackKey:m,onTabChange:h,onShopClick:f,onEmojiInsert:g,onStickerSend:y,onUGCEditClick:A,onUGCReportClick:x,onVmojiEditClick:M,onVmojiCreateClick:P,onStockItemGiftClick:N,onStockItemSettingsClick:T,onVmojiSuggestionClick:O,onPopUpPlay:j}=e,L=(0,n._)(e,["lang","userId","peerId","variant","isVisible","visibleTab","onAPIRequest","activePackKey","onTabChange","onShopClick","onEmojiInsert","onStickerSend","onUGCEditClick","onUGCReportClick","onVmojiEditClick","onVmojiCreateClick","onStockItemGiftClick","onStockItemSettingsClick","onVmojiSuggestionClick","onPopUpPlay"]);return(0,a.jsxs)(u.LangPackProvider,{name:"stickers_picker",domain:"vk.com",lang:t,suspense:!1,children:[(0,a.jsx)(E.PeerGate,{peerId:i}),(0,a.jsx)(S.VariantGate,{variant:s}),(0,a.jsx)(w.VisibleGate,{isVisible:l}),(0,a.jsx)(C.VisibleTabGate,{visibleTab:c}),(0,a.jsx)(I.ActivePackKeyGate,{activePackKey:m}),(0,a.jsx)(v.APIProvider,{userId:o,peerId:i,language:t,onAPIRequest:d,children:(0,a.jsx)(p.PeerProvider,{children:(0,a.jsx)(k.StickersEmojiKeyboardProvider,{onTabChange:h,onShopClick:f,children:(0,a.jsx)(b.StickersKeyboardProvider,{onUGCReportClick:x,onStickerSend:y,onUGCEditClick:A,onVmojiEditClick:M,onVmojiCreateClick:P,onStockItemGiftClick:N,onStockItemSettingsClick:T,onVmojiSuggestionClick:O,onPopUpPlay:j,children:(0,a.jsx)(_.EmojiKeyboardProvider,{onEmojiInsert:g,children:(0,a.jsx)(R,(0,r._)({},L))})})})})})]})}function R(e){var{className:t}=e,o=(0,n._)(e,["className"]);const u=(0,A.useAPI)(),v=(0,i.useStore)(S.$variant),p=(0,i.useStore)(C.$visibleTab),{isStickersActiveTab:_}=(0,i.useStore)(y.$tabbarActiveTabState),{isEmojiVisibleTab:b,isStickersVisibleTab:k}=(0,i.useStore)(C.$visibleTabState),E=(0,l.useRef)(null);return(0,a.jsx)(d.HelpHintsProvider,{api:u,noToken:!0,children:(0,a.jsx)(c.AppRootProvider,{portalRoot:E,children:(0,a.jsx)("div",(0,r._)({ref:E,className:(0,s.classNames)(t,x.default.keyboard,M[v])},o,{children:(0,a.jsxs)("div",{className:x.default.in,children:[(0,a.jsxs)(m.View,{switched:_&&!p,children:[(0,a.jsx)(f.EmojiKeyboard,{mounted:!p||b}),(0,a.jsx)(g.StickersKeyboard,{mounted:!p||k})]}),(0,a.jsx)(h.Tabbar,{})]})}))})})}},239065:(e,t,o)=>{"use strict";o.d(t,{StickersEmojiKeyboardProvider:()=>u});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(667294),l=o(717326),c=o(74779),d=o(895655);function u(e){var{onTabChange:t,onShopClick:o}=e,u=(0,n._)(e,["onTabChange","onShopClick"]);const m=(0,c.useAPI)(),h=(0,i.useStore)(l.$tabbarActiveTab),v=m.cache.tabbarActiveTab.get();if((0,s.useEffect)((()=>{v!==h&&m.cache.tabbarActiveTab.set(h)}),[h,v]),o){const e=o;o=t=>{m.store.markAsViewed({type:"stickers",reset:String(["store_new_items","global_promotion"])}),e(t)}}return(0,a.jsx)(d.StickersEmojiKeyboardContext.Provider,(0,r._)({value:{onTabChange:t,onShopClick:o}},u))}},348421:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboard:()=>O});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(86894),l=o(906811),c=o(3817),d=o(667294),u=o(659397),m=o(88871),h=o(592388),v=o(946388),p=o(837565),f=o(124676),g=o(886957),_=o(702195),b=o(765998),k=o(699611),E=o(391931),y=o(829596),w=o(579380),C=o(320054),I=o(74779),S=o(210802),A=o(579865),x=o(213916),M=o(609892),P=o(486589),R=o(557261),N=o(578351),T=o(585851);function O(e){var{className:t}=e,o=(0,n._)(e,["className"]);const O=(0,I.useAPI)(),{setSelectedPack:j}=(0,N.useStickersKeyboard)(),{getAvatarSuggestionStickerRow:L,bannerPackIndex:B,avatarSuggestion:V}=(0,P.useAvatarSuggestion)(),{packs:D}=(0,i.useStore)(y.$packs),K=(0,i.useStore)(b.$isVisible),H=(0,i.useStore)(w.$avatarSuggestionTab),U=(0,i.useStore)(C.$stickersSize),G=(0,i.useStore)(k.$activePackKey),$=(0,i.useStore)(E.$selectedPackKey),F=(0,i.useStore)(C.$stickersVerticalGap),z=(0,i.useStore)(C.$stickersHorizontalGap),W=(0,i.useStore)(C.$stickersKeyboardVerticalOrder),Z=(0,d.useRef)(null),J=(0,d.useRef)([]),q=(0,d.useRef)(!1);(0,M.useScrollView)(Z);const{setGridRef:Y,columns:X}=(0,S.useGrid)({tab:A.Tab.STICKERS,itemWidth:U+z}),Q=(0,d.useMemo)((()=>{var e,t;if(!D||!X)return[{type:R.StickersKeyboardElementType.HEADER,element:(0,a.jsx)(p.StickersKeyboardHeader,{},Math.random()),sticky:!0},...(0,u.createArray)(6).map((e=>({type:R.StickersKeyboardElementType.ROW,element:(0,a.jsx)(h.StickersKeyboardRow,{columns:X},e)})))];const o=[];let r=null;const n=null==(e=D)?void 0:e.get($);return void 0!==(null==(t=n)?void 0:t.index)&&(r=n.index),D.forEach((e=>{var t,n;const{id:i,index:s}=e,l=null==(t=e.stickers)?void 0:t.map(c.getStickerContext);o.push({type:R.StickersKeyboardElementType.HEADER,element:(0,a.jsx)(p.StickersKeyboardHeader,{pack:e},i),sticky:!0});const d=i===y.ServicePackKey.VMOJI;d&&o.push({type:R.StickersKeyboardElementType.ROW,element:(0,a.jsx)(g.StickersKeyboardVmojiRow,{},y.ServicePackKey.VMOJI)});const m=i===y.ServicePackKey.UGC&&!(null==(n=l)?void 0:n.length);m&&o.push({type:R.StickersKeyboardElementType.ROW,element:(0,a.jsx)(f.StickersKeyboardUGCRow,{},y.ServicePackKey.UGC)});const v=r||0;if(null===B&&s===v||B===s){const e=L(v,d||m);e&&o.push(e)}l&&(0,u.chunkArray)(l,X).forEach(((t,r)=>{o.push({type:R.StickersKeyboardElementType.ROW,element:(0,a.jsx)(h.StickersKeyboardRow,{stickers:t,columns:X,pack:e},`${i}${r}`)})}))})),o}),[D,X,V]),ee=(0,d.useMemo)((()=>{const e=J.current,t=Q.reduce(((e,{type:t},o)=>(t===R.StickersKeyboardElementType.HEADER&&e.push(o),e)),[]);return(0,u.isEqual)(t,e)||!t.length?e:(J.current=t,t)}),[Q]),te=e=>ee.includes(e),{rangeExtractor:oe,isSticky:re}=(0,x.useSticky)({rows:Q}),ne=(0,l.useVirtualizer)({rangeExtractor:oe,count:Q.length,estimateSize:()=>U,getScrollElement:()=>Z.current}),{range:ae}=ne,ie=e=>{var t;const o=null==(t=D)?void 0:t.get(e);o&&(((e,t,o)=>{const{index:r}=e;if(void 0===r)return;const n=ee[r];($!==t||o)&&void 0!==n&&ne.scrollToIndex(n,{align:"start",behavior:"auto"})})(o,e),j(e))};(0,d.useEffect)((()=>{null!==B&&H===A.Tab.STICKERS&&ee[B]&&ne.scrollToIndex(ee[B],{align:"start",behavior:"auto"})}),[B]),(0,d.useEffect)((()=>{const e=Z.current;if(e&&!D)return e.style.setProperty("overflow","hidden","important"),()=>{e.style.removeProperty("overflow")}}),[D]),(0,d.useEffect)((()=>{const e=O.cache.stickersActiveTab.get();D&&(q.current=!1,G||e?(ie(G||e),q.current=!0):q.current=!0)}),[ee,D,G,K]),(0,d.useEffect)((()=>{const e=q.current,{startIndex:t,endIndex:o}=ne.calculateRange();if(!t&&!o||!ee.length||!D||!e)return;const r=[...D.values()],n=ee.findIndex((e=>e>=t)),a=ee.findIndex((e=>e>=o)),i=r[n-Number(n===a&&t!==o)];if(!i)return;const{id:s}=i;j(s)}),[ae,ee]);const se=ne.getVirtualItems().filter(Boolean);return(0,a.jsx)(_.StickersKeyboardSelectProvider,{selectPack:ie,children:(0,a.jsxs)(m.ViewItem,(0,r._)({getRef:Y,className:(0,u.classNames)(T.default.keyboard,t),style:{"--stickers-columns":X,"--stickers-size":`${U}px`,"--stickers-vertical-gap":`${F}px`,"--stickers-horizontal-gap":`${z}px`,"--stickers-tab-flex-direction":`${W}`}},o,{children:[(0,a.jsx)(s.CustomScrollView,{boxRef:Z,className:(0,u.classNames)(T.default.scroll,{[T.default.scrollDisabled]:!D}),autoHideScrollbar:!0,children:(0,a.jsx)("div",{className:T.default.in,style:{height:ne.getTotalSize()},children:se.map((({key:e,index:t,start:o})=>(0,a.jsx)("div",{"data-index":t,ref:ne.measureElement,className:(0,u.classNames)(T.default.item,{[T.default.itemHeader]:te(t)}),style:re(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${o}px)`},children:Q[t].element},e)))})}),D&&(0,a.jsx)(v.StickersKeyboardGroups,{})]}))})}},557261:(e,t,o)=>{"use strict";var r;o.d(t,{StickersKeyboardElementType:()=>r}),function(e){e.ROW="row",e.HEADER="header"}(r||(r={}))},406056:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardGroup:()=>p});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(659397),l=o(667294),c=o(275825),d=o(391931),u=o(829596),m=o(578351),h=o(87613);const v=e=>{switch(e){case u.ServicePackKey.FAVORITE:return"stickers-keyboard-group-favorite";case u.ServicePackKey.RECENT:return"stickers-keyboard-group-recent";case u.ServicePackKey.VMOJI:return"stickers-keyboard-group-vmoji";case u.ServicePackKey.UGC:return"stickers-keyboard-group-ugc";default:return""}};function p(e){var t,{group:o,className:p}=e,f=(0,n._)(e,["group","className"]);const{selectPack:g}=(0,m.useStickersKeyboardSelect)(),_=(0,i.useStore)(d.$selectedPackKey),{packs:b}=(0,i.useStore)(u.$packs),k=(0,l.useRef)(null),[E,y]=(0,l.useState)(),w=e=>()=>{g(e)},C=(0,l.useMemo)((()=>{if(Array.isArray(o)||(o=[o]),b)return o.map((e=>{const t=b.get(e);if(t)return(0,a.jsx)(c.StickersKeyboardGroupItem,{className:h.default.item,pack:t,active:e===_,onClick:w(e)},e)}))}),[o,b,_]);(0,l.useLayoutEffect)((()=>{var e;const t=k.current;if(!t)return;const o=null==(e=t.children[0])?void 0:e.clientWidth;o&&y(o)}),[k]);const I=Boolean(Array.isArray(o)&&Number(null==(t=C)?void 0:t.length)>1&&_&&o.includes(_));return(0,a.jsx)("div",(0,r._)({"data-testid":v(o),ref:k,className:(0,s.classNames)(h.default.group,p,{[h.default.groupActive]:I,[h.default.groupHidden]:!E}),style:{"--group-item-width":`${E}px`}},f,{children:C}))}},275825:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardGroupItem:()=>I});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(659397),l=o(548499),c=o(622284),d=o(667294),u=o(194449),m=o(773974),h=o(450084),v=o(179153),p=o(25155),f=o(50466),g=o(641899),_=o(829596),b=o(717326),k=o(204280),E=o(829280),y=o(371300);const w=new Map([[_.ServicePackKey.UGC,(0,a.jsx)(p.Icon24UgcStickerOutline,{},_.ServicePackKey.UGC)],[_.ServicePackKey.VMOJI,(0,a.jsx)(m.Icon24VmojiOutline,{},_.ServicePackKey.VMOJI)],[_.ServicePackKey.RECENT,(0,a.jsx)(f.Icon24RecentOutline,{},_.ServicePackKey.RECENT)],[_.ServicePackKey.FAVORITE,(0,a.jsx)(g.Icon24FavoriteOutline,{},_.ServicePackKey.FAVORITE)]]),C={blue:y.default.inIndicator,red:y.default.inIndicatorRed,gray:y.default.inIndicatorGray,"":""};function I(e){var t,o,m,p,f,g,_,I,{pack:S,active:A,children:x,indicator:M}=e,P=(0,n._)(e,["pack","active","children","indicator"]);const{translate:R}=(0,l.useLangPack)(),N=(0,i.useStore)(E.$vmojiPromotion),T=(0,i.useStore)(k.$isTransitionActive),{isStickersActiveTab:O}=(0,i.useStore)(b.$tabbarActiveTabState),[j,L]=(0,d.useState)(!0),[B,V]=(0,d.useState)(!1),D=R(null==(t=S)?void 0:t.title),K=null==(o=S)?void 0:o.isNew,H=null==(m=S)?void 0:m.isVmoji,U=null==(p=S)?void 0:p.hintId,G=null==(f=S)?void 0:f.hintWidth,$=(null==(g=N)?void 0:g.dot_color)||"",F=w.get(null==(_=S)?void 0:_.id)||x,z=new u.BaseUrlBuilder({size:24,images:null==(I=S)?void 0:I.previews}).build(),W=(0,h.useHelpHint)(U);(0,d.useEffect)((()=>{F&&L(!1)}),[F]),(0,d.useEffect)((()=>{W&&A&&!B&&(v.HelpHints.hide(W),V(!0))}),[W,A,B]);let Z=(0,a.jsx)("div",(0,r._)({},P,{children:(0,a.jsx)("div",{className:(0,s.classNames)(y.default.in,{[y.default.inActive]:A,[y.default.inHidden]:j,[y.default.inPlaceholder]:!z&&!F,[y.default.inIndicator]:K||M,[C[$]]:H}),children:F?(0,a.jsx)("div",{"aria-label":D,className:(0,s.classNames)(y.default.icon,y.default.iconService),children:F}):(0,a.jsx)("img",{alt:D,className:(0,s.classNames)(y.default.icon),src:z,onLoad:()=>{L(!1)}})})}));if(W){const{title:e,description:t}=W;Z=(0,a.jsx)(c.TextTooltip,{className:y.default.tooltip,maxWidth:G,placement:"top-start",appearance:"accent",header:e,text:t,offsetDistance:-4,shown:!A&&!T&&!B&&O,children:Z})}return Z}},717282:(e,t,o)=>{"use strict";o.d(t,{ShopButton:()=>u});var r=o(785893),n=o(504190),a=o(548499),i=o(210162),s=o(275825),l=o(895655),c=o(147611),d=o(127509);function u(){const{translate:e}=(0,a.useLangPack)(),{shopIndicatorMode:t,onShopClick:o}=(0,l.useStickersEmojiKeyboard)(),{isStickersVisibleTab:u}=(0,n.useStore)(c.$visibleTabState);if(!u||!o)return null;const m=Boolean(t);return(0,r.jsx)(s.StickersKeyboardGroupItem,{"aria-label":e("stickers_picker_store"),className:d.default.button,indicator:m,onClick:o,children:(0,r.jsx)(i.Icon24ShoppingCartOutline,{})})}},946388:(e,t,o)=>{"use strict";o.d(t,{STICKER_PICKER_GROUPS_NODE_ID:()=>y,StickersKeyboardGroups:()=>w});var r,n=o(434788),a=o(820224),i=o(785893),s=o(504190),l=o(659397),c=o(86894),d=o(74106),u=o(906811),m=o(667294),h=o(717282),v=o(406056),p=o(829596),f=o(147611),g=o(391931),_=o(919005),b=o(53071),k=o(578351),E=o(396893);!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={}));const y="sticker-picker-groups";function w(e){var{className:t}=e,o=(0,a._)(e,["className"]);const{hasPointer:w}=(0,c.useAdaptivityWithJSMediaQueries)(),{getGroupIndex:C,isGroupedStockItem:I,prevSelectedPackKey:S}=(0,k.useStickersKeyboard)(),A=(0,s.useStore)(g.$selectedPackKey),{packsGroups:x}=(0,s.useStore)(p.$packs),{isStickersVisibleTab:M}=(0,s.useStore)(f.$visibleTabState),P=(0,m.useRef)(null),[R,N]=(0,m.useState)(!1),[T,O]=(0,m.useState)(!0),j=(0,m.useMemo)((()=>{var e;return(null==(e=x)?void 0:e.map((e=>(0,i.jsx)(v.StickersKeyboardGroup,{className:E.default.groupIn,group:e},String(e)))))||[]}),[x]),L=j.length,B=(0,u.useVirtualizer)({count:L,overscan:5,horizontal:!0,getScrollElement:()=>P.current,estimateSize:()=>32,onChange:({range:{startIndex:e,endIndex:t}})=>{N(e>0),O(t<j.length-1)}}),{scrollTo:V}=(0,_.useSmoothScroll)(B),D=e=>B.getVirtualItems().find((({index:t})=>t===e)),K=e=>()=>{var t;const{startIndex:o,endIndex:n}=B.range,a=null==(t=B.scrollElement)?void 0:t.getBoundingClientRect();if(!a)return;const{width:i}=a;switch(e){case r.LEFT:{const e=D(o-1);if(!e)return;const{size:t,end:r}=e;V({offset:r+2*t-i});break}case r.RIGHT:{const e=D(n-1);if(!e)return;const{size:t,start:o}=e;V({offset:o-t});break}}};return(0,b.useHorizontalScroll)(P),(0,m.useEffect)((()=>{var e,t,o;if(!A||!x)return;const r=C(A),n=C(S),a=I(S);if(void 0===r)return;if(a&&r>Number(n))return;const i=D(r);if(!i)return;const{start:s}=i,l=null==(e=B.scrollElement)?void 0:e.getBoundingClientRect(),c=null==(o=B.scrollElement)||null==(t=o.getElementsByClassName(E.default.groupIn)[0])?void 0:t.getBoundingClientRect();c&&l&&V({offset:s+c.width/2-l.width/2})}),[A,x]),(0,i.jsxs)("div",(0,n._)({id:y,className:(0,l.classNames)(E.default.groups,{[E.default.groupsForced]:M},t)},o,{children:[(0,i.jsx)(h.ShopButton,{}),(0,i.jsxs)("div",{className:E.default.container,children:[w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:(0,l.classNames)(E.default.shadow,E.default.shadowLeft,{[E.default.shadowVisible]:R})}),(0,i.jsx)("div",{className:(0,l.classNames)(E.default.shadow,E.default.shadowRight,{[E.default.shadowVisible]:T})}),(0,i.jsx)("div",{"aria-hidden":!0,className:(0,l.classNames)(E.default.chevron,E.default.chevronLeft,{[E.default.chevronActive]:R}),onClick:K(r.LEFT),children:(0,i.jsx)(d.Icon16ChevronOutline,{})}),(0,i.jsx)("div",{"aria-hidden":!0,className:(0,l.classNames)(E.default.chevron,E.default.chevronRight,{[E.default.chevronActive]:T}),onClick:K(r.RIGHT),children:(0,i.jsx)(d.Icon16ChevronOutline,{})})]}),(0,i.jsx)("div",{ref:P,className:E.default.in,children:(0,i.jsx)("div",{className:E.default.items,style:{width:B.getTotalSize()},children:Boolean(j.length)&&B.getVirtualItems().map((({key:e,index:t,start:o})=>(0,i.jsx)("div",{"data-index":t,ref:B.measureElement,className:(0,l.classNames)(E.default.group),style:{transform:`translateX(${o}px)`},children:j[t]},e)))})})]})]}))}},637661:(e,t,o)=>{"use strict";o.d(t,{GiftButton:()=>h});var r=o(785893),n=o(504190),a=o(659397),i=o(136161),s=o(419065),l=o(173235),c=o(322057),d=o(578351),u=o(440652),m=o(344786);function h({pack:e}){var t,o;const{onStockItemGiftClick:h}=(0,d.useStickersKeyboard)(),v=(0,n.useStore)(l.$userPeer),p=(0,n.useStore)(c.$stockItemsAvailableToGift);if(!(null==(t=e)?void 0:t.canGift))return null;const{id:f,canGift:g,stockItem:_}=e,b=Boolean(f&&g&&v&&!(null==(o=p)?void 0:o.includes(f)));return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsx)(s.PeerInfo,{className:(0,a.classNames)(u.default.peer,m.default.headerAside),pack:e}),h&&(0,r.jsx)(i.Icon20GiftOutline,{"data-testid":"stickers-keyboard-header-gift-button",className:(0,a.classNames)(m.default.icon,m.default.headerAside),onClick:()=>{var e;_&&(null==(e=h)||e(_,v))}})]})}},419065:(e,t,o)=>{"use strict";o.d(t,{PeerInfo:()=>v});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(548499),l=o(347136),c=o(622284),d=o(86894),u=o(366897),m=o(173235),h=o(711857);function v(e){var{pack:t}=e,o=(0,n._)(e,["pack"]);const{translate:v}=(0,s.useLangPack)(),p=(0,i.useStore)(m.$userPeer);if(!t||!p)return null;const{isStyle:f}=t,{first_name_gen:g,photo_50:_}=p;return(0,a.jsx)(c.TextTooltip,{className:h.default.tooltip,text:(0,a.jsx)(d.Caption,{className:h.default.text,level:"1",children:v(f?"stickers_picker_peer_has_style":"stickers_picker_peer_has_pack",{name:g})}),offsetDistance:8,offsetSkidding:50,placement:"bottom-end",forcePortal:!0,nonInteractive:!0,children:(0,a.jsx)(u.Avatar,(0,r._)({src:_,size:20},o,{children:(0,a.jsx)(u.Avatar.Badge,{children:(0,a.jsx)(l.Icon12CheckCircleFill,{className:h.default.icon})})}))})}},837565:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardHeader:()=>k});var r=o(434788),n=o(820224),a=o(785893),i=o(86894),s=o(504190),l=o(659397),c=o(548499),d=o(388768),u=o(315108),m=o(637661),h=o(757910),v=o(63874),p=o(518744),f=o(554e3),g=o(850286),_=o(344786);const b={[g.StickerEmojiKeyboardVariant.WIDE]:_.default.headerWide,[g.StickerEmojiKeyboardVariant.COMPACT]:_.default.headerCompact,[g.StickerEmojiKeyboardVariant.REGULAR]:_.default.headerRegular,[g.StickerEmojiKeyboardVariant.ADAPTIVE]:_.default.headerAdaptive};function k(e){var{pack:t,className:o}=e,k=(0,n._)(e,["pack","className"]);const{translate:E}=(0,c.useLangPack)(),y=(0,s.useStore)(g.$variant);if(o=(0,l.classNames)(_.default.header,b[y],o),!t)return(0,a.jsx)("div",(0,r._)({"data-testid":"stickers-keyboard-header-skeleton",className:o},k,{children:(0,a.jsx)(u.Skeleton,{width:128,height:"var(--vkui--font_subhead--line_height--regular)"})}));const{title:w}=t;return(0,a.jsxs)("div",(0,r._)({"data-testid":"stickers-keyboard-header","data-header":!0,className:(0,l.classNames)(_.default.header,o)},k,{children:[(0,a.jsx)(i.Subhead,{"data-testid":"stickers-keyboard-header-title",className:_.default.title,weight:"3",children:E(w)}),(0,a.jsx)(d.Tooltip,{pack:t}),(0,a.jsx)(f.StyleSettingsButton,{pack:t}),(0,a.jsx)(p.VmojiEditButton,{pack:t}),(0,a.jsx)(m.GiftButton,{pack:t}),(0,a.jsx)(h.UGCEditButton,{pack:t}),(0,a.jsx)(v.UGCMoreButton,{pack:t})]}))}},554e3:(e,t,o)=>{"use strict";o.d(t,{StyleSettingsButton:()=>c});var r=o(785893),n=o(659397),a=o(784118),i=o(578351),s=o(926904),l=o(344786);function c({pack:e}){var t,o,c;const{onStockItemSettingsClick:d}=(0,i.useStickersKeyboard)();if(!d)return null;const u=(null==(t=e)?void 0:t.hasStyles)||(null==(o=e)?void 0:o.isStyle)||(null==(c=e)?void 0:c.isVmoji);if(!e||!u)return null;const{stockItem:m}=e;return(0,r.jsx)(a.Icon20GearOutline,{className:(0,n.classNames)(s.default.icon,l.default.icon),onClick:()=>{var e;m&&(null==(e=d)||e(m))}})}},388768:(e,t,o)=>{"use strict";o.d(t,{Tooltip:()=>u});var r=o(434788),n=o(785893),a=o(659397),i=o(297973),s=o(548499),l=o(622284),c=o(144295),d=o(344786);function u({pack:{tooltip:e}}){const{translate:t}=(0,s.useLangPack)();if(!e)return null;const{text:o,header:u}=e;return(0,n.jsx)(l.TextTooltip,(0,r._)({className:c.default.tooltip,appearance:"black",offsetDistance:8,forcePortal:!0},e,{header:u&&t(String(u)),text:o&&t(String(o)),children:(0,n.jsx)(i.Icon16InfoOutline,{className:(0,a.classNames)(c.default.icon,d.default.icon)})}))}},757910:(e,t,o)=>{"use strict";o.d(t,{UGCEditButton:()=>d});var r=o(785893),n=o(504190),a=o(659397),i=o(784118),s=o(944952),l=o(578351),c=o(344786);function d({pack:e}){var t,o,d,u;const{onUGCEditClick:m}=(0,l.useStickersKeyboard)(),h=(0,n.useStore)(s.$ugcInfo);return(null==(t=e)?void 0:t.isPack)&&(null==(o=h)?void 0:o.can_edit)&&(null==(u=h)||null==(d=u.items)?void 0:d.length)&&m?(0,r.jsx)(i.Icon20GearOutline,{className:(0,a.classNames)(c.default.icon,c.default.headerAside),onClick:m}):null}},63874:(e,t,o)=>{"use strict";o.d(t,{UGCMoreButton:()=>h});var r=o(785893),n=o(504190),a=o(659397),i=o(548499),s=o(17117),l=o(385228),c=o(384627),d=o(944952),u=o(578351),m=o(344786);function h({pack:e}){var t,o,h,v;const{translate:p}=(0,i.useLangPack)(),{onUGCReportClick:f}=(0,u.useStickersKeyboard)(),g=(0,n.useStore)(d.$ugcInfo);if(!(null==(t=e)?void 0:t.isPack)||(null==(o=g)?void 0:o.can_edit)||!(null==(v=g)||null==(h=v.items)?void 0:h.length)||!f)return null;return(0,r.jsx)(c.DropdownActionSheet,{content:(0,r.jsx)(c.DropdownActionSheet.Item,{type:"destructive",before:(0,r.jsx)(s.Icon20ReportOutline,{}),onClick:()=>{f(e.rawData)},children:p("stickers_picker_report")}),placement:"bottom-end",forcePortal:!1,children:(0,r.jsx)(l.Icon20More,{className:(0,a.classNames)(m.default.icon,m.default.headerAside)})})}},518744:(e,t,o)=>{"use strict";o.d(t,{VmojiEditButton:()=>v});var r=o(785893),n=o(86894),a=o(504190),i=o(659397),s=o(129041),l=o(548499),c=o(829280),d=o(578351),u=o(692531),m=o(344786);const h=99;function v({pack:e}){var t,o,v,p,f;const{translate:g}=(0,l.useLangPack)(),{onVmojiEditClick:_}=(0,d.useStickersKeyboard)(),b=(0,a.useStore)(c.$vmojiPromotion);if(!(null==(t=e)?void 0:t.isVmoji)||!_)return null;const{vmojiAvatar:k}=e,E=null==(v=b)||null==(o=v.constructor_new_items)?void 0:o.counter_value,y=null==(f=b)||null==(p=f.constructor_new_items)?void 0:p.open_params,w=Number(E)>0;let C=g("stickers_picker_vmoji_items_counter",{count:E});return Number(E)>=h&&(C=g("stickers_picker_vmoji_items_counter_max",{count:h})),(0,r.jsxs)("div",{className:(0,i.classNames)(u.default.brush,m.default.headerAside),onClick:()=>{var e;k&&(null==(e=_)||e(k,y))},children:[w&&(0,r.jsx)(n.Subhead,{className:(0,i.classNames)(u.default.counter,m.default.icon),weight:"3",children:C}),(0,r.jsx)(s.Icon20BrushOutline,{className:m.default.icon})]})}},782089:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardProvider:()=>P});var r=o(11010),n=o(434788),a=o(820224),i=o(785893),s=o(504190),l=o(667294),c=o(765998),d=o(944952),u=o(173235),m=o(734264),h=o(237341),v=o(730368),p=o(717326),f=o(699611),g=o(922793),_=o(326157),b=o(689106),k=o(703104),E=o(829596),y=o(391931),w=o(322057),C=o(976332),I=o(829280),S=o(74779),A=o(63767),x=o(579865),M=o(578351);function P(e){var{onStickerSend:t,onUGCEditClick:o,onVmojiEditClick:P,onUGCReportClick:R,onVmojiCreateClick:N,onStockItemGiftClick:T,onStockItemSettingsClick:O,onVmojiSuggestionClick:j,onPopUpPlay:L}=e,B=(0,a._)(e,["onStickerSend","onUGCEditClick","onVmojiEditClick","onUGCReportClick","onVmojiCreateClick","onStockItemGiftClick","onStockItemSettingsClick","onVmojiSuggestionClick","onPopUpPlay"]);const V=(0,S.useAPI)(),{isServiceStockItem:D}=(0,M.useStickersKeyboard)(),{packs:K}=(0,s.useStore)(E.$packs),H=(0,s.useStore)(u.$userPeer),U=(0,s.useStore)(c.$isVisible),G=(0,s.useStore)(k.$stockItems),$=(0,s.useStore)(f.$activePackKey),F=(0,s.useStore)(I.$vmojiPromotion),z=(0,s.useStore)(y.$selectedPackKey),W=(0,l.useRef)(),Z=W.current,J=(0,r._)((function*(){const[e,t]=yield Promise.all([V.cache.ugcInfo.get(),V.cache.ugcPacks.get()]);(0,d.setUGCInfo)(e),(0,m.setUGCPacks)(t)})),q=(0,r._)((function*(){var e,t;const[o,r,n,a,i,s]=yield Promise.all([V.cache.global.get(),V.cache.getStockItems({active:!0}),V.cache.imageConfigs.get(),V.cache.recentStickers.get(),V.cache.favoriteStickers.get(),V.cache.avatarSuggestion.get(),J()]);(0,v.setRecentStickers)(a),(0,_.setFavoriteStickers)(i),(0,g.setImageConfigs)(n),(0,C.setAvatarSuggestion)(s),(0,h.setHasAvatar)(V.cache.hasAvatar.get()),(0,I.setVmojiPromotion)((null==(e=o)?void 0:e.vmoji_promotion)||null),(0,b.setStoreNewItemsCount)((null==(t=o)?void 0:t.store_new_items)||0),(0,k.setStockItems)(r)}));return(0,l.useEffect)((()=>{G&&U&&V.cache.reload(),q();const e=V.cache.stickersSync.subscribe(q,!0),t=V.cache.stickersAsync.subscribe(q,!0),o=V.cache.stickersListAsync.subscribe(J,!0),n=V.cache.stickersAsync.subscribe((0,r._)((function*(e){if(e===A.AvatarSuggestionAtomName)(0,C.getAvatarSuggestionFromCache)()})),!1);return()=>{e(),t(),o(),n()}}),[V,U]),(0,l.useEffect)((()=>{if((0,w.setStockItemsAvailableToGift)(null),!H)return;const{id:e}=H;var t;t=e,V.store.getStickerPacksAvailableForGift({user_id:t}).then(w.setStockItemsAvailableToGift)}),[H]),(0,l.useEffect)((()=>{void 0!==$&&(0,p.setTabbarActiveTab)(x.Tab.STICKERS)}),[$]),(0,i.jsx)(M.StickersKeyboardContext.Provider,(0,n._)({value:{setSelectedPack:e=>{if(z&&(W.current=z),e){var t;(null==(t=K)?void 0:t.get(e))&&(V.cache.stickersActiveTab.set(e),(e=>{var t,o,r;if(D(e))return;const n=null==(t=G)?void 0:t.find((({product:{id:t}})=>t===e));n&&G&&(n.product.is_vmoji&&(null==(o=F)?void 0:o.dot_color)&&(0,I.clearVmojiPromotionDot)(),(n.product.is_new||(null==(r=F)?void 0:r.dot_color))&&(n.product.is_new=!1,V.cache.stockItems.set(G,{notify:!1}),V.store.updateStickerProductsState({product_ids:String(e),key:"is_new",value:"0"})))})(e))}(0,y.setSelectedPackKey)(e)},prevSelectedPackKey:Z,onStickerSend:t,onUGCEditClick:o,onUGCReportClick:R,onVmojiEditClick:P,onVmojiCreateClick:N,onStockItemGiftClick:T,onStockItemSettingsClick:O,onVmojiSuggestionClick:j,onPopUpPlay:L}},B))}},702195:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardSelectProvider:()=>s});var r=o(434788),n=o(820224),a=o(785893),i=o(578351);function s(e){var{selectPack:t}=e,o=(0,n._)(e,["selectPack"]);return(0,a.jsx)(i.StickersKeyboardSelectContext.Provider,(0,r._)({value:{selectPack:t}},o))}},880316:(e,t,o)=>{"use strict";o.d(t,{StickerKeyboardRowBanner:()=>u});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(504190),l=o(86894),c=o(850286),d=o(592388);const u=e=>{var{className:t}=e,o=(0,n._)(e,["className"]);const u=(0,s.useStore)(c.$variant);return(0,a.jsx)("div",{className:(0,i.classNames)(t,d.rowVariantModifier[u]),children:(0,a.jsx)(l.Banner,(0,r._)({noPadding:!0},o))})}},592388:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardRow:()=>I,rowVariantModifier:()=>y});var r=o(11010),n=o(434788),a=o(820224),i=o(785893),s=o(504190),l=o(659397),c=o(86894),d=o(194449),u=o(105744),m=o(667294),h=o(765998),v=o(320054),p=o(922793),f=o(326157),g=o(850286),_=o(74779),b=o(578351),k=o(310690);const E=new Map([[c.Appearance.LIGHT,d.Theme.LIGHT],[c.Appearance.DARK,d.Theme.DARK]]),y={[g.StickerEmojiKeyboardVariant.WIDE]:k.default.rowWide,[g.StickerEmojiKeyboardVariant.COMPACT]:k.default.rowCompact,[g.StickerEmojiKeyboardVariant.REGULAR]:k.default.rowRegular,[g.StickerEmojiKeyboardVariant.ADAPTIVE]:k.default.rowAdaptive},w=32,C=900;function I(e){var{pack:t,stickers:o,columns:d,className:I}=e,S=(0,a._)(e,["pack","stickers","columns","className"]);const A=(0,m.useRef)(),x=(0,_.useAPI)(),M=(0,c.useAppearance)(),{onPopUpPlay:P}=(0,b.useStickersKeyboard)(),{addToFavorite:R,removeFromFavorite:N,onStickerSend:T}=(0,b.useStickersKeyboard)(),O=(0,s.useStore)(g.$variant),j=(0,s.useStore)(h.$isVisible),L=(0,s.useStore)(v.$stickersSize),B=(0,s.useStore)(p.$imageConfigs),V=(0,s.useStore)(f.$favoriteStickers);(0,m.useEffect)((()=>(j||clearTimeout(A.current),()=>{clearTimeout(A.current)})),[j]);const D=(e,o=(()=>{var e;return null==(e=t)?void 0:e.referrer})())=>(0,r._)((function*(){const{isBase:t,rawData:r}=e;if(T(e,o),!t||!r)return;const a=yield x.cache.recentStickers.get();if(!a)return;if(-1!==a.findIndex((({sticker_id:t})=>t===e.id)))return;const i=a.length>=w?a.length-w+1:0;a.splice(0,i,(0,n._)({},r,{inner_type:"base_sticker_new"})),x.cache.recentStickers.set(a,{notify:!1})})),K=(e,o)=>{var r;if(!(null==(r=t)?void 0:r.isPack))return()=>{o?N(e):R(e)}},H=e=>{clearTimeout(A.current),A.current=window.setTimeout((()=>{var t;null==(t=P)||t(e,[])}),C)},U=()=>{clearTimeout(A.current)},G=(0,m.useMemo)((()=>{var e;return(null==(e=o)?void 0:e.map((e=>{var t;if(!o||!B)return;const{id:r,isAllowed:n}=e,{items:a,default_id:s}=B,l=Boolean(null==(t=V)?void 0:t.find((({sticker_id:e})=>e===r)));return(0,i.jsx)(u.Sticker,{className:k.default.sticker,name:String(r),size:L,sticker:e,onMouseOver:H,onMouseLeave:U,theme:E.get(M),configs:a,favorite:l,disabled:!n,defaultConfigId:s,onClick:D(e),onFavoriteClick:K(e,l)},r)})))||(0,l.createArray)(d).map((e=>(0,i.jsx)(u.Sticker,{className:k.default.sticker,size:L},e)))}),[d,o,M,L,V,B]);return(0,i.jsx)("div",(0,n._)({className:(0,l.classNames)(k.default.row,k.default.rowStickers,y[O],I)},S,{children:G}))}},148305:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardRowCard:()=>h});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(86894),l=o(531950),c=o(331533),d=o(592388),u=o(850286),m=o(319972);function h(e){var{title:t,image:o,action:h,onHide:v,className:p}=e,f=(0,n._)(e,["title","image","action","onHide","className"]);const g=(0,i.useStore)(u.$variant);return(0,a.jsx)("div",(0,r._)({className:d.rowVariantModifier[g]},f,{children:(0,a.jsxs)("div",{className:m.default.card,children:[v&&(0,a.jsx)(s.Tappable,{className:m.default.hide,hoverMode:"opacity",activeMode:"opacity",onClick:v,children:(0,a.jsx)(l.Icon24CancelOutline,{})}),o&&(0,a.jsx)("figure",{className:m.default.image,style:(0,r._)({},o,{backgroundImage:`url(${o.src})`})}),t&&(0,a.jsx)(s.Title,{className:m.default.title,level:"3",weight:"2",children:(0,a.jsx)(c.InnerHTML,{children:t})}),h&&(0,a.jsx)("div",{className:m.default.action,children:h})]})}))}},124676:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardUGCRow:()=>m});var r=o(785893),n=o(832550),a=o(548499),i=o(951436),s=o(874695),l=o(69314),c=o(148305),d=o(271755),u=o(578351);function m(){const{translate:e}=(0,a.useLangPack)(),{onUGCEditClick:t}=(0,u.useStickersKeyboard)(),o=(0,i.useHelpHintResource)(s.HelpHintId.STICKERS_UGC_KEYBOARD_ONBOARDING,l.StickersUGCKeyboardOnboardingResourceKey.IMAGE);return(0,r.jsx)(c.StickersKeyboardRowCard,{title:e("stickers_picker_ugc_create_title"),image:{src:o,width:240,height:64},action:t&&(0,r.jsx)(n.Button,{size:"s",mode:"outline",appearance:"accent",onClick:t,children:e("stickers_picker_ugc_create_action")}),onHide:d.hideUGCOnboarding})}},886957:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardVmojiRow:()=>h});var r=o(434788),n=o(785893),a=o(548499),i=o(86894),s=o(832550),l=o(951436),c=o(874695),d=o(434107),u=o(148305),m=o(578351);function h(e){const t=(0,i.useAppearance)(),{translate:o}=(0,a.useLangPack)(),{onVmojiCreateClick:h}=(0,m.useStickersKeyboard)(),v=(0,l.useHelpHintResource)(c.HelpHintId.KEYBOARD_STICKERS_VMOJI,t===i.Appearance.LIGHT?d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_LIGHT:d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_DARK);return(0,n.jsx)(u.StickersKeyboardRowCard,(0,r._)({image:{src:v,width:221,height:130},action:h&&(0,n.jsx)(s.Button,{size:"s",mode:"outline",appearance:"accent",onClick:h,children:o("stickers_picker_vmoji_create_character")})},e))}},404976:(e,t,o)=>{"use strict";o.d(t,{Tabbar:()=>b});var r=o(434788),n=o(820224),a=o(785893),i=o(504190),s=o(659397),l=o(667294),c=o(548499),d=o(427323),u=o(783844),m=o(135826),h=o(793641),v=o(147611),p=o(717326),f=o(579865),g=o(895655),_=o(356238);function b(e){var{className:t}=e,o=(0,n._)(e,["className"]);const{translate:b}=(0,c.useLangPack)(),{shopIndicatorMode:k,onTabChange:E,onShopClick:y}=(0,g.useStickersEmojiKeyboard)(),w=(0,i.useStore)(v.$visibleTab),{isEmojiActiveTab:C,isStickersActiveTab:I}=(0,i.useStore)(p.$tabbarActiveTabState),S=e=>()=>{var t;(0,p.setTabbarActiveTab)(e),null==(t=E)||t({tab:e})};return(0,l.useEffect)((()=>{w&&(0,p.setTabbarActiveTab)(w)}),[w]),w?null:(0,a.jsxs)("div",(0,r._)({className:(0,s.classNames)(_.default.tabbar,t)},o,{children:[(0,a.jsx)(h.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-emoji","aria-label":b("stickers_picker_emoji"),className:_.default.item,active:C,onClick:S(f.Tab.EMOJI),children:(0,a.jsx)(d.Icon24SmileOutline,{})}),(0,a.jsx)(h.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-stickers","aria-label":b("stickers_picker_stickers"),className:_.default.item,active:I,onClick:S(f.Tab.STICKERS),children:(0,a.jsx)(u.Icon24StickerSmileOutline,{})}),y&&(0,a.jsx)(h.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-shop","aria-label":b("stickers_picker_store"),className:_.default.item,indicator:k,onClick:y,children:(0,a.jsx)(m.Icon24StorefrontOutline,{})})]}))}},793641:(e,t,o)=>{"use strict";o.d(t,{TabbarItem:()=>d,TabbarItemIndicator:()=>r});var r,n=o(434788),a=o(820224),i=o(785893),s=o(659397),l=o(425061);!function(e){e.NONE="none",e.PRIMARY="primary",e.SECONDARY="secondary",e.DESTRUCTIVE="destructive"}(r||(r={}));const c={[r.NONE]:l.default.indicatorNone,[r.PRIMARY]:l.default.indicatorPrimary,[r.SECONDARY]:l.default.indicatorSecondary,[r.DESTRUCTIVE]:l.default.indicatorDestructive};function d(e){var{active:t,indicator:o=r.NONE,className:d,children:u}=e,m=(0,a._)(e,["active","indicator","className","children"]);return(0,i.jsx)("div",(0,n._)({className:(0,s.classNames)(d,l.default.item,l.default.indicator,c[o],{[l.default.itemActive]:t})},m,{children:u}))}},461541:(e,t,o)=>{"use strict";o.d(t,{View:()=>d});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(667294),l=o(204280),c=o(469872);function d(e){var{switched:t,children:o}=e,d=(0,n._)(e,["switched","children"]);const u=({target:e})=>{e instanceof HTMLDivElement&&e.dataset.viewPanel&&(0,l.setIsTransitionActive)(!1)};return(0,s.useEffect)((()=>{(0,l.setIsTransitionActive)(!0)}),[t]),(0,a.jsx)("div",(0,r._)({className:c.default.view},d,{children:s.Children.map(o,(e=>(0,s.cloneElement)(e,{"data-view-panel":!0,className:(0,i.classNames)(c.default.panel,{[c.default.panelSwitched]:t}),onTransitionEnd:u})))}))}},88871:(e,t,o)=>{"use strict";o.d(t,{ViewItem:()=>i});var r=o(434788),n=o(820224),a=o(785893);function i(e){var{getRef:t,mounted:o}=e,i=(0,n._)(e,["getRef","mounted"]);return!1===o?null:(0,a.jsx)("div",(0,r._)({ref:t},i))}},204280:(e,t,o)=>{"use strict";o.d(t,{$isTransitionActive:()=>a,setIsTransitionActive:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(!1).on(n,((e,t)=>t))},503967:(e,t,o)=>{"use strict";o.d(t,{PackContext:()=>d});var r=o(570912),n=o(615816),a=o(820224),i=(0,n._)("_options"),s=(0,n._)("_pack"),l=(0,n._)("_product"),c=(0,n._)("_stockItem");class d{get rawData(){return(0,r._)(this,s)[s]||(0,r._)(this,c)[c]||(0,r._)(this,l)[l]}get isPack(){return Boolean((0,r._)(this,s)[s])}get isProduct(){return Boolean((0,r._)(this,l)[l])}get isStockItem(){return Boolean((0,r._)(this,c)[c])}get isStoreItem(){return this.isProduct||this.isStockItem}get stockItem(){return(0,r._)(this,c)[c]}get id(){var e,t,o,n;const a=null==(t=(0,r._)(this,i)[i])||null==(e=t.redefine)?void 0:e.id;if(void 0!==a)return a;const c=null==(o=(0,r._)(this,l)[l])?void 0:o.id;return void 0!==c?c:null==(n=(0,r._)(this,s)[s])?void 0:n.id}setHint(e){return(0,r._)(this,i)[i]?((0,r._)(this,i)[i].hint=e,this):this}get hintId(){var e,t;return null==(t=(0,r._)(this,i)[i])||null==(e=t.hint)?void 0:e.id}get hintWidth(){var e,t;return null==(t=(0,r._)(this,i)[i])||null==(e=t.hint)?void 0:e.width}get index(){var e;return null==(e=(0,r._)(this,i)[i])?void 0:e.index}get referrer(){var e;return null==(e=(0,r._)(this,i)[i])?void 0:e.referrer}get tooltip(){var e;return null==(e=(0,r._)(this,i)[i])?void 0:e.tooltip}get title(){var e,t,o;return(null==(t=(0,r._)(this,i)[i])||null==(e=t.redefine)?void 0:e.title)||(null==(o=(0,r._)(this,l)[l])?void 0:o.title)||""}get stickers(){var e,t,o,n;return(null==(t=(0,r._)(this,i)[i])||null==(e=t.redefine)?void 0:e.stickers)||(null==(o=(0,r._)(this,s)[s])?void 0:o.stickers)||(null==(n=(0,r._)(this,l)[l])?void 0:n.stickers)}get baseId(){var e;return null==(e=(0,r._)(this,l)[l])?void 0:e.base_id}get isStyle(){return void 0!==this.baseId}get hasStyles(){var e;return Boolean(null==(e=this.styleIds)?void 0:e.length)}get styleIds(){var e;return null==(e=(0,r._)(this,l)[l])?void 0:e.style_ids}get canGift(){var e;return Boolean(null==(e=(0,r._)(this,c)[c])?void 0:e.can_gift)}get vmojiAvatar(){var e;return null==(e=(0,r._)(this,l)[l])?void 0:e.vmoji_avatar}get isVmoji(){var e;return Boolean(this.vmojiAvatar||(null==(e=(0,r._)(this,l)[l])?void 0:e.is_vmoji))}get isNew(){var e;return null==(e=(0,r._)(this,l)[l])?void 0:e.is_new}get previews(){var e;return null==(e=(0,r._)(this,l)[l])?void 0:e.previews}constructor(e){var{pack:t}=e,o=(0,a._)(e,["pack"]);Object.defineProperty(this,i,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,r._)(this,i)[i]=o,t&&("product"in t?((0,r._)(this,c)[c]=t,(0,r._)(this,l)[l]=t.product):"id"in t&&"type"in t?(0,r._)(this,l)[l]=t:(0,r._)(this,s)[s]=t)}}},74779:(e,t,o)=>{"use strict";o.d(t,{useAPI:()=>a});var r=o(504190),n=o(879706);function a(){return(0,r.useStore)(n.$api)}},135581:(e,t,o)=>{"use strict";o.d(t,{useElementSize:()=>i});var r=o(434788),n=o(659397),a=o(667294);function i(){const[e,t]=(0,a.useState)(null),[o,i]=(0,a.useState)({width:0,height:0});return(0,a.useLayoutEffect)((()=>{const t=()=>{var t,o;const r=(null==(t=e)?void 0:t.offsetWidth)||0,n=(null==(o=e)?void 0:o.offsetHeight)||0;i({width:r,height:n})};t();const o=(0,n.debounce)(t,150);return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}}),[e]),(0,r._)({setRef:t},o)}},609571:(e,t,o)=>{"use strict";o.d(t,{EmojiKeyboardContext:()=>s,useEmojiKeyboard:()=>c});var r=o(434788),n=o(667294),a=o(563431),i=o(74779);const s=(0,n.createContext)({}),l=50;function c(){const e=(0,i.useAPI)(),t=(0,n.useContext)(s),{onEmojiInsert:o}=t;return(0,r._)({},t,{insertEmoji:t=>{var r;null==(r=o)||r(t),(t=>{const o=new Map(e.cache.recentEmoji.get()),r=o.get(t)||0;o.set(t,r+1);const n=[...o].reverse().slice(0,l);(0,a.setRecentEmoji)(n),e.cache.recentEmoji.set(n)})(t)}})}},210802:(e,t,o)=>{"use strict";o.d(t,{useGrid:()=>c});var r=o(434788),n=o(667294),a=o(504190),i=o(850286),s=o(135581);const l=new Map;function c({tab:e,itemWidth:t,itemsCount:o=0}){const{setRef:c,width:d}=(0,s.useElementSize)(),u=(0,a.useStore)(i.$variant),m=String([e,u]),h=(0,n.useRef)(l.get(m)||{rows:0,columns:0}),v=(0,n.useMemo)((()=>{const e=h.current;if(!d)return e;const r=Math.floor(d/t);if(!r||r===e.columns)return e;const n={rows:Math.ceil(o/r),columns:r};return h.current=n,l.set(m,n),n}),[d,m,t,o]);return(0,r._)({setGridRef:c},v)}},53071:(e,t,o)=>{"use strict";o.d(t,{useHorizontalScroll:()=>a});var r=o(667294),n=o(609892);function a(e){(0,n.useScrollView)(e),(0,r.useEffect)((()=>{const t=e.current;if(!t)return;const o=e=>{t.scrollLeft+=e.deltaY+e.deltaX};return t.addEventListener("wheel",o,{passive:!0}),()=>{t.removeEventListener("wheel",o)}}),[e])}},609892:(e,t,o)=>{"use strict";o.d(t,{useScrollView:()=>n});var r=o(667294);function n(e){(0,r.useEffect)((()=>{const t=e.current;t&&t.setAttribute("data-scroll-view","")}),[])}},919005:(e,t,o)=>{"use strict";o.d(t,{useSmoothScroll:()=>i});var r=o(659397),n=o(667294),a=o(199919);function i(e){const t=(0,n.useRef)(0);return{scrollTo:(0,n.useCallback)((0,r.debounce)((({offset:o=0,duration:r=300}={})=>{t.current=Date.now();let n=e.scrollOffset;const i=t.current,s=()=>{if(t.current!==i)return;const l=Date.now()-i,c=(0,a.easeOutQuart)(Math.min(l/r,1)),d=n+(o-n)*c;l<r&&requestAnimationFrame(s),e.scrollToOffset(d)};requestAnimationFrame(s)}),150),[e])}}},895655:(e,t,o)=>{"use strict";o.d(t,{StickersEmojiKeyboardContext:()=>l,useStickersEmojiKeyboard:()=>c});var r=o(434788),n=o(504190),a=o(667294),i=o(793641),s=o(689106);const l=(0,a.createContext)({});function c(){const e=(0,a.useContext)(l),t=(0,n.useStore)(s.$storeNewItemsCount)?i.TabbarItemIndicator.DESTRUCTIVE:void 0;return(0,r._)({},e,{shopIndicatorMode:t})}},578351:(e,t,o)=>{"use strict";o.d(t,{StickersKeyboardContext:()=>d,StickersKeyboardSelectContext:()=>m,useStickersKeyboard:()=>u,useStickersKeyboardSelect:()=>h});var r=o(11010),n=o(434788),a=o(504190),i=o(667294),s=o(829596),l=o(326157),c=o(74779);const d=(0,i.createContext)({});function u(){const e=(0,c.useAPI)(),t=(0,a.useStore)(l.$favoriteStickers),{packsGroups:o}=(0,a.useStore)(s.$packs),u=(0,i.useContext)(d),m=(0,r._)((function*({id:o,isBase:r,rawData:n}){if(!r)return;const a=yield e.cache.global.get();if(!a)return;const{favorite_stickers_limit:i}=a;if(e.store.addStickersToFavorite({sticker_ids:String(o)}),!t)return;const s=[n,...t].slice(0,i);(0,l.setFavoriteStickers)(s),e.cache.favoriteStickers.set(s)})),h=(0,r._)((function*({id:o,isBase:r}){if(!r)return;if(e.store.removeStickersFromFavorite({sticker_ids:String(o)}),!t)return;const n=t.findIndex((e=>e.sticker_id===o));if(!(-1!==n))return;const a=[...t];a.splice(n,1),(0,l.setFavoriteStickers)(a),e.cache.favoriteStickers.set(a)}));return(0,n._)({},u,{addToFavorite:m,getGroupIndex:e=>{var t;return e?null==(t=o)?void 0:t.findIndex((t=>(Array.isArray(t)||(t=[t]),t.includes(e)))):void 0},removeFromFavorite:h,isServiceStockItem:e=>null!=e&&e<0,isGroupedStockItem:e=>o&&void 0!==e&&!o.includes(e)})}const m=(0,i.createContext)({});function h(){return(0,i.useContext)(m)}},213916:(e,t,o)=>{"use strict";o.d(t,{useSticky:()=>a});var r=o(667294),n=o(945032);function a({rows:e}){const t=(0,r.useRef)(0),o=(0,r.useMemo)((()=>e.reduce(((e,{sticky:t},o)=>(t&&e.push(o),e)),[])),[e]);return{isSticky:e=>t.current===e,rangeExtractor:(0,r.useCallback)((e=>{t.current=[...o].reverse().find((t=>e.startIndex>=t))||0;return[...new Set([t.current,...(0,n.defaultRangeExtractor)(e)])].sort(((e,t)=>e-t))}),[o])}}},486589:(e,t,o)=>{"use strict";o.d(t,{useAvatarSuggestion:()=>y});var r=o(785893),n=o(504190),a=o(659397),i=o(667294),s=o(879706),l=o(765998),c=o(976332),d=o(717326),u=o(579380),m=o(924669),h=o(166948),v=o(72771),p=o(598750),f=o(880316),g=o(579865),_=o(816925),b=o(557261),k=o(578351),E=o(547388);const y=()=>{const{onVmojiSuggestionClick:e}=(0,k.useStickersKeyboard)(),t=(0,n.useStore)(s.$api),o=(0,n.useStore)(l.$isVisible),y=(0,n.useStore)(d.$tabbarActiveTab),w=(0,n.useStore)(c.$avatarSuggestion),C=(0,n.useStore)(u.$avatarSuggestionTab),I=(0,n.useStore)(d.$tabbarActiveTabState),S=(0,n.useStore)(m.$avatarSuggestionBannerPackIndex),A=(0,n.useStore)(h.$avatarSuggestionIsViewed),x=(0,n.useStore)(E.$avatarSuggestionDisabled);(0,i.useEffect)((()=>{o||((0,m.setAvatarSuggestionPackIndex)(null),(0,u.setAvatarSuggestionTab)(null),(0,h.setAvatarSuggestionIsViewed)(!1),(0,E.setAvatarSuggestionDisabled)(!1))}),[o]);const M=(0,i.useCallback)((0,a.debounce)((e=>{(0,m.setAvatarSuggestionPackIndex)(e)}),100),[]),P=(0,i.useCallback)((0,a.debounce)((e=>(0,u.setAvatarSuggestionTab)(e)),100),[]),R=(0,i.useCallback)((0,a.debounce)((e=>(0,E.setAvatarSuggestionDisabled)(e)),100),[]),N=n=>{if(!e||x)return null;if(!o||A||!Boolean(w)&&t.cache.reloading||(0,h.setAvatarSuggestionIsViewed)(!0),!w||null===n)return null;null===C&&P(y),null===S&&M(n);const a=I.isStickersActiveTab?f.StickerKeyboardRowBanner:p.EmojiKeyboardRowBanner;return(0,r.jsx)(v.AvatarSuggestionRow,{Component:a},w.id)};return{getAvatarSuggestionStickerRow:(e,t=!1)=>{if(C&&C!==g.Tab.STICKERS||y!==g.Tab.STICKERS)return null;if(x||R(t),t)return null;const o=N(e);return o?{type:b.StickersKeyboardElementType.ROW,element:o}:null},getAvatarSuggestionEmojiRow:e=>{if(C&&C!==g.Tab.EMOJI||y!==g.Tab.EMOJI)return null;const t=N(e);return t?{type:_.EmojiKeyboardElementType.ROW,element:t}:null},bannerPackIndex:S,avatarSuggestion:w,avatarSuggestionTab:C}}},475423:(e,t,o)=>{"use strict";o.d(t,{useCalculateSelectedEmojiPackIndex:()=>i});var r=o(667294),n=o(504190),a=o(634273);const i=(e,t)=>{const{range:o}=e,i=(0,n.useStore)(a.$selectedEmojiPackIndex);(0,r.useEffect)((()=>{const{startIndex:o}=e.calculateRange(),r=t.findIndex((e=>e>=o)),n=r-1,s=t[r],l=t[n],c=Math.abs(l-o)<Math.abs(s-o)?n:r;i!==c&&(0,a.setSelectedEmojiPackIndex)(c)}),[o,t])}},563431:(e,t,o)=>{"use strict";o.d(t,{setRecentEmoji:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent();r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},41045:(e,t,o)=>{"use strict";o.d(t,{$selectedEmoji:()=>a,setSelectedEmoji:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},634273:(e,t,o)=>{"use strict";o.d(t,{$selectedEmojiPackIndex:()=>a,setSelectedEmojiPackIndex:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(0).on(n,((e,t)=>t))},52493:(e,t,o)=>{"use strict";o.d(t,{$emojiPadding:()=>l});var r=o(798116),n=o(348354),a=o(850286);const i={[a.StickerEmojiKeyboardVariant.WIDE]:9,[a.StickerEmojiKeyboardVariant.COMPACT]:8,[a.StickerEmojiKeyboardVariant.REGULAR]:12,[a.StickerEmojiKeyboardVariant.ADAPTIVE]:9},s=n.stickersEmojiKeyboard.createEvent(),l=n.stickersEmojiKeyboard.createStore(i[a.DEFAULT_VARIANT]);(0,r.sample)({clock:a.setVariantOptions,source:a.$variant,fn:e=>i[e],target:s})},547388:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionDisabled:()=>a,setAvatarSuggestionDisabled:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(!1).on(n,((e,t)=>t))},976332:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestion:()=>d,getAvatarSuggestionFromCache:()=>l,setAvatarSuggestion:()=>s});var r=o(11010),n=o(798116),a=o(879706),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),l=i.stickersEmojiKeyboard.createEvent(),c=i.stickersEmojiKeyboard.createEffect((0,r._)((function*(e){const t=yield e.cache.avatarSuggestion.get();s(t)}))),d=i.stickersEmojiKeyboard.createStore(null).on(s,((e,t)=>t));(0,n.sample)({clock:l,source:a.$api,target:c})},166948:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionIsViewed:()=>c,setAvatarSuggestionIsViewed:()=>l});var r=o(798116),n=o(986370),a=o(348354),i=o(63767),s=o(744165);const l=a.stickersEmojiKeyboard.createEvent(),c=a.stickersEmojiKeyboard.createStore(!1).on(l,((e,t)=>t));(0,r.sample)({clock:l,filter:e=>e&&(0,s.isPromoVmojiCounterEnabled)(),fn:()=>i.HelpHintPromoTypes.VMOJI_AVATAR_SUGGESTION,target:n.markAsViewedHelpHint})},924669:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionBannerPackIndex:()=>a,setAvatarSuggestionPackIndex:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},579380:(e,t,o)=>{"use strict";o.d(t,{$avatarSuggestionTab:()=>a,setAvatarSuggestionTab:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},538115:(e,t,o)=>{"use strict";o.d(t,{hideHelpHint:()=>i});var r=o(798116),n=o(879706),a=o(348354);const i=a.stickersEmojiKeyboard.createEvent(),s=a.stickersEmojiKeyboard.createEffect((({api:e,hintId:t})=>e.cache.hideHelpHint(t)));(0,r.sample)({clock:i,source:n.$api,fn:(e,t)=>({api:e,hintId:t}),target:s})},986370:(e,t,o)=>{"use strict";o.d(t,{markAsViewedHelpHint:()=>i});var r=o(798116),n=o(879706),a=o(348354);const i=a.stickersEmojiKeyboard.createEvent(),s=a.stickersEmojiKeyboard.createEffect((({api:e,promoId:t})=>{e.cache.markHelpHintAsViewed(t)}));(0,r.sample)({clock:i,source:n.$api,fn:(e,t)=>({api:e,promoId:t}),target:s})},733477:(e,t,o)=>{"use strict";o.d(t,{setChatPeer:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent();r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},158345:(e,t,o)=>{"use strict";o.d(t,{$peerId:()=>s,PeerGate:()=>l});var r=o(798116),n=o(504190),a=o(348354);const i=a.stickersEmojiKeyboard.createEvent(),s=a.stickersEmojiKeyboard.createStore(null).on(i,((e,{peerId:t})=>t||null)),l=(0,n.createGate)();(0,r.forward)({from:l.state,to:i})},173235:(e,t,o)=>{"use strict";o.d(t,{$userPeer:()=>a,setUserPeer:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},326157:(e,t,o)=>{"use strict";o.d(t,{$favoriteStickers:()=>a,setFavoriteStickers:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},237341:(e,t,o)=>{"use strict";o.d(t,{$hasAvatar:()=>a,setHasAvatar:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},922793:(e,t,o)=>{"use strict";o.d(t,{$imageConfigs:()=>a,setImageConfigs:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},699611:(e,t,o)=>{"use strict";o.d(t,{$activePackKey:()=>s,ActivePackKeyGate:()=>l,setActivePackKeyOptions:()=>i});var r=o(798116),n=o(504190),a=o(348354);const i=a.stickersEmojiKeyboard.createEvent(),s=a.stickersEmojiKeyboard.createStore(null).on(i,((e,{activePackKey:t})=>t)),l=(0,n.createGate)();(0,r.forward)({from:l.state,to:i})},829596:(e,t,o)=>{"use strict";o.d(t,{$packs:()=>h,ServicePackKey:()=>r});var r,n,a=o(798116),i=o(944952),s=o(734264),l=o(237341),c=o(703104),d=o(730368),u=o(326157),m=o(503967);!function(e){e[e.FAVORITE=-1]="FAVORITE",e[e.RECENT=-2]="RECENT",e[e.VMOJI=-3]="VMOJI",e[e.UGC=-4]="UGC"}(r||(r={})),function(e){e.RECENT="recent",e.FAVORITE="favourite",e.KEYBOARD="keyboard"}(n||(n={}));const h=(0,a.combine)(i.$ugcInfo,s.$ugcPacks,c.$stockItems,d.$recentStickers,u.$favoriteStickers,l.$hasAvatar,((e,t,o,a,i,s)=>{var l,c,d,u,h,v,p;const f=new Map;let g=[];const _=new Map;let b=0;if(!o||!a||!i)return{};i.length&&(f.set(r.FAVORITE,new m.PackContext({index:b,referrer:n.FAVORITE,redefine:{id:r.FAVORITE,title:"stickers_picker_favorite",stickers:i}})),g.push(r.FAVORITE),b++),a.length&&(f.set(r.RECENT,new m.PackContext({index:b,referrer:n.RECENT,redefine:{id:r.RECENT,title:"stickers_picker_recently_used",stickers:a}})),g.push(r.RECENT),b++);-1!==(null==(l=o)?void 0:l.findIndex((({product:{vmoji_avatar:e}})=>void 0!==e)))||s||(f.set(r.VMOJI,new m.PackContext({index:b,referrer:n.KEYBOARD,redefine:{id:r.VMOJI,title:"stickers_picker_vmoji"}})),g.push(r.VMOJI),b++);const k=null==(c=t)?void 0:c[0],E=null==(d=e)?void 0:d.can_edit,y=null==(h=k)||null==(u=h.stickers)?void 0:u.length,w=(null==(v=e)?void 0:v.show_keyboard_onboarding)&&E;if(!(null==(p=e)?void 0:p.is_keyboard_hidden)&&(y||w)){const e=new m.PackContext({pack:k,index:b,referrer:n.KEYBOARD,tooltip:{header:"stickers_picker_ugc_tooltip_title",text:"stickers_picker_ugc_tooltip_description"},redefine:{id:r.UGC,title:"stickers_picker_ugc"}});E&&e.setHint({id:"stickers:ugc_keyboard_onboarding_tooltip",width:176}),f.set(r.UGC,e),g.push(r.UGC),b++}return o.forEach((e=>{const{product:{id:t,vmoji_avatar:o}}=e;if(f.set(t,new m.PackContext({index:b,referrer:n.KEYBOARD,pack:e})),o){let e=_.get(o.id);e||(e=g.push([])-1,_.set(o.id,e));const r=g[e];Array.isArray(r)&&r.push(t)}else g.push(t);b++})),{packs:f,packsGroups:g}}))},391931:(e,t,o)=>{"use strict";o.d(t,{$selectedPackKey:()=>a,setSelectedPackKey:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},322057:(e,t,o)=>{"use strict";o.d(t,{$stockItemsAvailableToGift:()=>a,setStockItemsAvailableToGift:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},703104:(e,t,o)=>{"use strict";o.d(t,{$stockItems:()=>a,setStockItems:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},730368:(e,t,o)=>{"use strict";o.d(t,{$recentStickers:()=>a,setRecentStickers:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(null).on(n,((e,t)=>t))},689106:(e,t,o)=>{"use strict";o.d(t,{$storeNewItemsCount:()=>a,setStoreNewItemsCount:()=>n});var r=o(348354);const n=r.stickersEmojiKeyboard.createEvent(),a=r.stickersEmojiKeyboard.createStore(0).on(n,((e,t)=>t))},271755:(e,t,o)=>{"use strict";o.d(t,{hideUGCOnboarding:()=>s});var r=o(798116),n=o(879706),a=o(944952),i=o(348354);const s=i.stickersEmojiKeyboard.createEvent(),l=i.stickersEmojiKeyboard.createEffect((e=>e.cache.hideUGCOnboarding()));(0,r.sample)({clock:s,source:n.$api,target:l}),(0,r.sample)({source:l.doneData,filter:e=>e,target:a.reloadUGCInfo})},944952:(e,t,o)=>{"use strict";o.d(t,{$ugcInfo:()=>u,reloadUGCInfo:()=>c,setUGCInfo:()=>l});var r=o(11010),n=o(798116),a=o(879706),i=o(348354),s=o(910850);const l=i.stickersEmojiKeyboard.createEvent(),c=i.stickersEmojiKeyboard.createEvent(),d=i.stickersEmojiKeyboard.createEffect((0,r._)((function*(e){return e.cache.ugcInfo.get().catch((()=>null))}))),u=i.stickersEmojiKeyboard.createStore(null).on(l,((e,t)=>t)).on(d.doneData,((e,t)=>t)).on(s.submitUGCReportFx.doneData,(()=>null));(0,n.sample)({clock:c,source:a.$api,target:d})},734264:(e,t,o)=>{"use strict";o.d(t,{$ugcPacks:()=>i,setUGCPacks:()=>a});var r=o(348354),n=o(910850);const a=r.stickersEmojiKeyboard.createEvent(),i=r.stickersEmojiKeyboard.createStore(null).on(a,((e,t)=>t)).on(n.submitUGCReportFx.doneData,(()=>null))},910850:(e,t,o)=>{"use strict";o.d(t,{submitUGCReport:()=>i,submitUGCReportFx:()=>s});var r=o(798116),n=o(879706),a=o(348354);const i=a.stickersEmojiKeyboard.createEvent(),s=a.stickersEmojiKeyboard.createEffect((e=>{e.cache.clearUGC()}));(0,r.sample)({clock:i,source:n.$api,target:s})},320054:(e,t,o)=>{"use strict";o.d(t,{$stickersHorizontalGap:()=>p,$stickersKeyboardVerticalOrder:()=>f,$stickersSize:()=>h,$stickersVerticalGap:()=>v});var r=o(798116),n=o(348354),a=o(850286);const i={[a.StickerEmojiKeyboardVariant.WIDE]:86,[a.StickerEmojiKeyboardVariant.COMPACT]:80,[a.StickerEmojiKeyboardVariant.REGULAR]:92,[a.StickerEmojiKeyboardVariant.ADAPTIVE]:86},s={[a.StickerEmojiKeyboardVariant.WIDE]:8,[a.StickerEmojiKeyboardVariant.COMPACT]:6,[a.StickerEmojiKeyboardVariant.REGULAR]:8,[a.StickerEmojiKeyboardVariant.ADAPTIVE]:8},l={[a.StickerEmojiKeyboardVariant.WIDE]:6,[a.StickerEmojiKeyboardVariant.COMPACT]:8,[a.StickerEmojiKeyboardVariant.REGULAR]:8,[a.StickerEmojiKeyboardVariant.ADAPTIVE]:6},c={[a.StickerEmojiKeyboardVariant.WIDE]:"column",[a.StickerEmojiKeyboardVariant.COMPACT]:"column",[a.StickerEmojiKeyboardVariant.REGULAR]:"column",[a.StickerEmojiKeyboardVariant.ADAPTIVE]:"column-reverse"},d=n.stickersEmojiKeyboard.createEvent(),u=n.stickersEmojiKeyboard.createEvent(),m=n.stickersEmojiKeyboard.createEvent(),h=n.stickersEmojiKeyboard.createStore(i[a.DEFAULT_VARIANT]),v=n.stickersEmojiKeyboard.createStore(l[a.DEFAULT_VARIANT]),p=n.stickersEmojiKeyboard.createStore(s[a.DEFAULT_VARIANT]),f=n.stickersEmojiKeyboard.createStore(c[a.DEFAULT_VARIANT]);(0,r.sample)({clock:a.setVariantOptions,source:a.$variant,fn:e=>i[e],target:d}),(0,r.sample)({clock:a.setVariantOptions,source:a.$variant,fn:e=>l[e],target:u}),(0,r.sample)({clock:a.setVariantOptions,source:a.$variant,fn:e=>s[e],target:m}),(0,r.sample)({clock:a.setVariantOptions,source:a.$variant,fn:e=>c[e],target:f})},829280:(e,t,o)=>{"use strict";o.d(t,{$vmojiPromotion:()=>u,clearVmojiPromotionDot:()=>c,setVmojiPromotion:()=>l});var r=o(11010),n=o(434788),a=o(798116),i=o(879706),s=o(348354);const l=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createEvent(),d=s.stickersEmojiKeyboard.createEffect((0,r._)((function*({api:e,vmojiPromotion:t}){if(t)return e.cache.clearVmojiPromotionDot()}))),u=s.stickersEmojiKeyboard.createStore(null).on(l,((e,t)=>t)).on(d.doneData,(e=>(0,n._)({},e,{dot_color:void 0}))),m=(0,a.combine)(i.$api,u,((e,t)=>({api:e,vmojiPromotion:t})));(0,a.sample)({clock:c,source:m,target:d})},717326:(e,t,o)=>{"use strict";o.d(t,{$tabbarActiveTab:()=>l,$tabbarActiveTabState:()=>c,setTabbarActiveTab:()=>s});var r=o(798116),n=o(348354),a=o(879706),i=o(579865);const s=n.stickersEmojiKeyboard.createEvent(),l=n.stickersEmojiKeyboard.createStore(i.Tab.EMOJI).on(s,((e,t)=>t)),c=(0,r.combine)(l,(e=>({isEmojiActiveTab:e===i.Tab.EMOJI,isStickersActiveTab:e===i.Tab.STICKERS})));(0,r.sample)({clock:a.changeAPIOptions,source:a.$api,fn:e=>e.cache.tabbarActiveTab.get()||i.Tab.EMOJI,target:s})},850286:(e,t,o)=>{"use strict";o.d(t,{$variant:()=>c,DEFAULT_VARIANT:()=>l,StickerEmojiKeyboardVariant:()=>r,VariantGate:()=>d,setVariantOptions:()=>s});var r,n=o(798116),a=o(504190),i=o(348354);!function(e){e.WIDE="wide",e.COMPACT="compact",e.REGULAR="regular",e.ADAPTIVE="adaptive"}(r||(r={}));const s=i.stickersEmojiKeyboard.createEvent(),l=r.WIDE,c=i.stickersEmojiKeyboard.createStore(l).on(s,((e,{variant:t})=>t)),d=(0,a.createGate)();(0,n.forward)({from:d.state,to:s})},765998:(e,t,o)=>{"use strict";o.d(t,{$isVisible:()=>s,VisibleGate:()=>l});var r=o(798116),n=o(504190),a=o(348354);const i=a.stickersEmojiKeyboard.createEvent(),s=a.stickersEmojiKeyboard.createStore(!1).on(i,((e,{isVisible:t})=>t)),l=(0,n.createGate)();(0,r.forward)({from:l.state,to:i})},147611:(e,t,o)=>{"use strict";o.d(t,{$visibleTab:()=>l,$visibleTabState:()=>c,VisibleTabGate:()=>d});var r=o(504190),n=o(798116),a=o(348354),i=o(579865);const s=a.stickersEmojiKeyboard.createEvent(),l=a.stickersEmojiKeyboard.createStore(null).on(s,((e,{visibleTab:t})=>t)),c=(0,n.combine)(l,(e=>({isEmojiVisibleTab:e===i.Tab.EMOJI,isStickersVisibleTab:e===i.Tab.STICKERS}))),d=(0,r.createGate)();(0,n.forward)({from:d.state,to:s})},579865:(e,t,o)=>{"use strict";var r;o.d(t,{Tab:()=>r}),function(e){e.EMOJI="emoji",e.STICKERS="stickers"}(r||(r={}));Object.values(r)},199919:(e,t,o)=>{"use strict";function r(e){return 1-Math.pow(1-e,4)}o.d(t,{easeOutQuart:()=>r})},331092:(e,t,o)=>{"use strict";function r(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}o.d(t,{unicodeToByteHex:()=>r})},105744:(e,t,o)=>{"use strict";o.d(t,{Sticker:()=>_});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(607338),l=o(86894),c=o(667294),d=o(525605),u=o(143650),m=o(538648),h=o(194449),v=o(634268);const p=92,f=16,g=new Set;function _(e){var{size:t,theme:o,plain:_,configs:b,dynamic:k,favorite:E,disabled:y,defaultConfigId:w,onFavoriteClick:C,sticker:I,UNSAFE_imageUrl:S,UNSAFE_animationUrl:A,name:x,group:M="sticker",loading:P,className:R,style:N}=e,T=(0,n._)(e,["size","theme","plain","configs","dynamic","favorite","disabled","defaultConfigId","onFavoriteClick","sticker","UNSAFE_imageUrl","UNSAFE_animationUrl","name","group","loading","className","style"]);const{onClick:O}=T,{hasPointer:j}=(0,l.useAdaptivityWithJSMediaQueries)(),L=(0,m.useStickerContext)(I),B=(0,u.useOverlay)(L),{imageUrl:V,animationUrl:D}=(0,c.useMemo)((()=>{var e;if(S||A)return{imageUrl:S,animationUrl:A};if(!I)return{};const r=(null==(e=h.BaseUrlBuilder.getAnimation({type:o,animations:L.animations}))?void 0:e.url)||L.animationUrl;return{imageUrl:new h.BaseUrlBuilder({size:t,theme:o,configs:b,defaultConfigId:w,imageId:L.id,configContext:L.imageConfigContext,images:o===h.Theme.LIGHT?L.images:L.imagesWithBackground}).build(),animationUrl:r}}),[t,o,I,b,w,S,A]),[K,H]=(0,c.useState)(!g.has(V)),{lottieContainerRef:U,lottieLoading:G,lottieError:$}=(0,s.useLottie)({group:M,width:t,height:t,loop:!0,autoplay:!0,name:D||"",animationUrl:B?void 0:D});(0,c.useEffect)((()=>{k||H(!g.has(V))}),[V,k]);const F=!D||$,z=K&&G,W=Boolean(!_&&O),Z=z||Boolean(B),J=t/p,q=Math.round(f*J);return(0,a.jsx)("div",(0,r._)({className:(0,i.classNames)(v.default.sticker,{[v.default.disabled]:y,[v.default.placeholder]:Z,[v.default.tappable]:W},R),style:(0,r._)({"--sticker-size":`${t}px`,"--sticker-scale":String(J.toFixed(2)),width:t,height:t},N)},T,{children:(0,a.jsxs)("div",{ref:U,className:v.default.in,children:[C&&j&&!z&&(0,a.jsx)(d.FavoriteButton,{className:v.default.favorite,active:E,width:q,height:q,onClick:e=>{var t;e.stopPropagation(),null==(t=C)||t()}}),F&&!B&&(0,a.jsx)("img",{className:v.default.content,alt:"",src:V,loading:P,onError:()=>{H(!g.has(V))},onLoad:()=>{g.add(V),H(!1)}}),B]})}))}},525605:(e,t,o)=>{"use strict";o.d(t,{FavoriteButton:()=>c});var r=o(434788),n=o(820224),a=o(785893),i=o(659397),s=o(587109),l=o(881157);function c(e){var{active:t,className:o}=e,c=(0,n._)(e,["active","className"]);return(0,a.jsx)(s.Icon20Favorite,(0,r._)({className:(0,i.classNames)(l.default.favorite,{[l.default.active]:t},o)},c))}},703688:(e,t,o)=>{"use strict";o.d(t,{AgeRestrictedOverlay:()=>s});var r=o(785893),n=o(548499),a=o(949780),i=o(807948);function s(){const{translate:e}=(0,n.useLangPack)();return(0,r.jsx)(i.Overlay,{icon:(0,r.jsx)(a.Icon2418CircleOutline,{}),description:e("stickers_kit_sticker_age_restricted")})}},2699:(e,t,o)=>{"use strict";o.d(t,{BannedOverlay:()=>s});var r=o(785893),n=o(88493),a=o(548499),i=o(807948);function s(){const{translate:e}=(0,a.useLangPack)();return(0,r.jsx)(i.Overlay,{icon:(0,r.jsx)(n.Icon24BlockOutline,{}),description:e("stickers_kit_sticker_banned")})}},366901:(e,t,o)=>{"use strict";o.d(t,{DeletedOverlay:()=>s});var r=o(785893),n=o(903421),a=o(548499),i=o(807948);function s(){const{translate:e}=(0,a.useLangPack)();return(0,r.jsx)(i.Overlay,{icon:(0,r.jsx)(n.Icon24DeleteOutline,{}),description:e("stickers_kit_sticker_deleted")})}},710347:(e,t,o)=>{"use strict";o.d(t,{ModerationOverlay:()=>s});var r=o(785893),n=o(910301),a=o(548499),i=o(807948);function s(){const{translate:e}=(0,a.useLangPack)();return(0,r.jsx)(i.Overlay,{icon:(0,r.jsx)(n.Icon24ClockOutline,{}),description:e("stickers_kit_ugc_sticker_in_moderation")})}},807948:(e,t,o)=>{"use strict";o.d(t,{Overlay:()=>l});var r=o(785893),n=o(659397),a=o(86894),i=o(331533),s=o(705622);function l({icon:e,description:t,className:o}){return(0,r.jsxs)("div",{className:(0,n.classNames)(s.default.overlay,o),children:[e,t&&(0,r.jsx)("span",{className:s.default.description,children:(0,r.jsx)(a.Subhead,{children:(0,r.jsx)(i.InnerHTML,{children:t})})})]})}},143650:(e,t,o)=>{"use strict";o.d(t,{useOverlay:()=>l});var r=o(785893),n=o(2699),a=o(366901),i=o(710347),s=o(703688);function l({isUGC:e,isDeleted:t,isBanned:o,isRejected:l,isClaimed:c,isActiveAgeRestriction:d}){return e?t?(0,r.jsx)(a.DeletedOverlay,{}):o||l?(0,r.jsx)(n.BannedOverlay,{}):c?(0,r.jsx)(i.ModerationOverlay,{}):d?(0,r.jsx)(s.AgeRestrictedOverlay,{}):null:null}},3817:(e,t,o)=>{"use strict";o.d(t,{StickerContext:()=>r,getStickerContext:()=>n});class r{get rawData(){return this.ugc||this.base}get isUGC(){return Boolean(this.ugc)}get isPopup(){var e;return Boolean(null==(e=this.base)?void 0:e.popup)}get isBase(){return Boolean(this.base)}get id(){var e,t;return(null==(e=this.base)?void 0:e.sticker_id)||(null==(t=this.ugc)?void 0:t.id)}get ownerId(){var e;return null==(e=this.ugc)?void 0:e.owner_id}get packId(){var e,t;return(null==(e=this.base)?void 0:e.product_id)||(null==(t=this.ugc)?void 0:t.pack_id)}get images(){var e,t;return(null==(e=this.base)?void 0:e.images)||(null==(t=this.ugc)?void 0:t.images)}get imagesWithBackground(){var e,t,o;return(null==(e=this.base)?void 0:e.images_with_background)||(null==(t=this.base)?void 0:t.images)||(null==(o=this.ugc)?void 0:o.images)}get animations(){var e;return null==(e=this.base)?void 0:e.animations}get animationUrl(){var e;return null==(e=this.base)?void 0:e.animation_url}get imageConfigContext(){var e;return null==(e=this.base)?void 0:e.image_config_context}get isAllowed(){var e;return!!this.isUGC||(null==(e=this.base)?void 0:e.is_allowed)}get isActiveAgeRestriction(){var e;return"age_18"===(null==(e=this.ugc)?void 0:e.active_restriction)}get isBanned(){var e;return"banned"===(null==(e=this.ugc)?void 0:e.status)}get isRejected(){var e;return"rejected"===(null==(e=this.ugc)?void 0:e.status)}get isDeleted(){var e;return Boolean(null==(e=this.ugc)?void 0:e.is_deleted)}get isClaimed(){var e;return Boolean(null==(e=this.ugc)?void 0:e.is_claimed)}constructor(e){e&&("id"in e?this.ugc=e:"sticker_id"in e&&(this.base=e))}}function n(...e){return new r(...e)}},538648:(e,t,o)=>{"use strict";o.d(t,{useStickerContext:()=>n});var r=o(3817);function n(e){return e instanceof r.StickerContext?e:new r.StickerContext(e)}},194449:(e,t,o)=>{"use strict";o.d(t,{BaseUrlBuilder:()=>s,BaseUrlImageVariant:()=>a,Theme:()=>r});var r,n,a,i=o(371830);!function(e){e.LIGHT="light",e.DARK="dark"}(r||(r={})),function(e){e.PNG="png"}(n||(n={})),function(e){e.SQUARE="square"}(a||(a={}));class s{setSize(e){return this.size=e,this}setTheme(e){return this.theme=e,this}setFormat(e){return this.format=e,this}setImageId(e){return this.imageId=e,this}setDefaultConfigId(e){return this.defaultConfigId=e,this}setImages(e){return this.images=e,this}setConfigs(e){return this.configs=e,this}setConfigContext(e){return this.configContext=e,this}build(){var e;return this.images?this.findImage():this.configContext||(null==(e=this.configs)?void 0:e.length)?this.buildBaseUrl():void 0}static build({config:e,variant:t,size:o,retinaSize:r,format:n=s.DEFAULT_FORMAT}){if(!e)return"";const{base_url:a,version:l}=e;r&&i.PIXEL_RATIO>i.DEFAULT_PIXEL_RATIO&&(o=r);return`${a}/${t}${o>1?`_${o}x`:""}.${n}${void 0!==l?`?${l}`:""}`}get retinaSize(){return this.upscale?Number(this.size)*i.PIXEL_RATIO:Number(this.size)}static getAnimation({type:e,animations:t}){var o;return null==(o=t)?void 0:o.find((t=>t.type===e))}findImage(){var e,t,o,r;const n=this.retinaSize;return(null==(t=this.images)||null==(e=t.find((e=>e.theme===this.theme&&(e.height>=n||e.width>=n))))?void 0:e.url)||(null==(r=this.images)||null==(o=r[this.images.length-1])?void 0:o.url)}buildBaseUrl(){var e;const{config_id:t}=this.configContext||{},o=null==(e=this.configs)?void 0:e.find((({id:e})=>e===t||e===this.defaultConfigId));if(!o)return this.findImage();const{pattern:r,sizes:n,theme_modifiers:a}=o;return r.replace(/{([^]+?)}/g,((e,t)=>{switch(t){case"image_id":return this.getImageIdModifier();case"size":return this.getSizeModifier(n);case"version":return this.getVersionModifier();case"theme_modifier":return this.getCommonModifier(a,this.theme);case"format":return this.getCommonModifier(this.formatModifiers,this.format)}return""}))}getImageIdModifier(){return String(this.imageId)}getSizeModifier(e){const t=this.retinaSize,o=e.find((({width:e,height:o})=>e>=t||o>=t));if(!o)return String(t);const{modifier:r,format_modifiers:n}=o;return this.formatModifiers=n,r}getVersionModifier(){var e;const t=null==(e=this.configContext)?void 0:e.version;return t?String(t):""}getCommonModifier(e,t){var o;const r=null==(o=e)?void 0:o.find((({id:e})=>e===t));if(!r)return"";const{modifier:n}=r;return n}constructor({size:e,theme:t,format:o,upscale:a,imageId:i,defaultConfigId:l,images:c,configs:d,configContext:u}){var m,h;this.format=s.DEFAULT_FORMAT,this.upscale=!0,this.size=e,this.theme=t||r.LIGHT,this.format=o||n.PNG,this.imageId=i,this.defaultConfigId=l,void 0!==a&&(this.upscale=a),(null==(h=c)||null==(m=h[0])?void 0:m.theme)&&(c=c.sort((({theme:e},{theme:o})=>Number(e===t)-Number(o===t)))),this.images=c,this.configs=d,this.configContext=u}}s.DEFAULT_FORMAT=n.PNG},499118:(e,t,o)=>{"use strict";function r(e,t,o){return Math.max(t,Math.min(e,o))}o.d(t,{clamp:()=>r})},371830:(e,t,o)=>{"use strict";o.d(t,{DEFAULT_PIXEL_RATIO:()=>n,PIXEL_RATIO:()=>a});var r=o(499118);const n=1,a=Math.ceil((0,r.clamp)(window.devicePixelRatio,1,2))},834347:(e,t,o)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},r.apply(this,arguments)}o.d(t,{extends:()=>r})},906811:(e,t,o)=>{"use strict";o.d(t,{useVirtualizer:()=>l});var r=o(834347),n=o(667294),a=o(945032),i="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function s(e){var t=n.useReducer((function(){return{}}),{})[1],o=(0,r.extends)({},e,{onChange:function(o){t(),null==e.onChange||e.onChange(o)}}),s=n.useState((function(){return new a.Virtualizer(o)}))[0];return s.setOptions(o),n.useEffect((function(){return s._didMount()}),[]),i((function(){return s._willUpdate()})),s}function l(e){return s((0,r.extends)({observeElementRect:a.observeElementRect,observeElementOffset:a.observeElementOffset,scrollToFn:a.elementScroll},e))}},148849:(e,t,o)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},r.apply(this,arguments)}o.d(t,{extends:()=>r})},945032:(e,t,o)=>{"use strict";o.d(t,{Virtualizer:()=>v,defaultRangeExtractor:()=>i,elementScroll:()=>h,observeElementOffset:()=>c,observeElementRect:()=>s,observeWindowOffset:()=>d,observeWindowRect:()=>l,windowScroll:()=>m});var r=o(148849),n=o(301257),a=function(e){return e},i=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),o=Math.min(e.endIndex+e.overscan,e.count-1),r=[],n=t;n<=o;n++)r.push(n);return r},s=function(e,t){var o=e.scrollElement;if(o){var r=function(e){var o=e.width,r=e.height;t({width:Math.round(o),height:Math.round(r)})};r(o.getBoundingClientRect());var n=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var n=t.borderBoxSize[0];if(n)return void r({width:n.inlineSize,height:n.blockSize})}r(o.getBoundingClientRect())}));return n.observe(o,{box:"border-box"}),function(){n.unobserve(o)}}},l=function(e,t){var o=e.scrollElement;if(o){var r=function(){t({width:o.innerWidth,height:o.innerHeight})};return r(),o.addEventListener("resize",r,{passive:!0}),function(){o.removeEventListener("resize",r)}}},c=function(e,t){var o=e.scrollElement;if(o){var r=function(){t(o[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),o.addEventListener("scroll",r,{passive:!0}),function(){o.removeEventListener("scroll",r)}}},d=function(e,t){var o=e.scrollElement;if(o){var r=function(){t(o[e.options.horizontal?"scrollX":"scrollY"])};return r(),o.addEventListener("scroll",r,{passive:!0}),function(){o.removeEventListener("scroll",r)}}},u=function(e,t,o){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[o.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[o.options.horizontal?"width":"height"])},m=function(e,t,o){var r,n,a=t.adjustments,i=void 0===a?0:a,s=t.behavior,l=e+i;null==(r=o.scrollElement)||null==r.scrollTo||r.scrollTo(((n={})[o.options.horizontal?"left":"top"]=l,n.behavior=s,n))},h=function(e,t,o){var r,n,a=t.adjustments,i=void 0===a?0:a,s=t.behavior,l=e+i;null==(r=o.scrollElement)||null==r.scrollTo||r.scrollTo(((n={})[o.options.horizontal?"left":"top"]=l,n.behavior=s,n))},v=function(e){var t,o,s=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,o=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver((function(e){e.forEach((function(e){s._measureElement(e.target,e)}))})):null)},{disconnect:function(){var e;return null==(e=o())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=o())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=o())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var o=t[0];void 0===t[1]&&delete e[o]})),s.options=(0,r.extends)({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:a,rangeExtractor:i,onChange:function(){},measureElement:u,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==s.options.onChange||s.options.onChange(s)},this.cleanup=function(){s.unsubs.filter(Boolean).forEach((function(e){return e()})),s.unsubs=[],s.scrollElement=null},this._didMount=function(){return s.measureElementCache.forEach(s.observer.observe),function(){s.observer.disconnect(),s.cleanup()}},this._willUpdate=function(){var e=s.options.getScrollElement();s.scrollElement!==e&&(s.cleanup(),s.scrollElement=e,s._scrollToOffset(s.scrollOffset,{adjustments:void 0,behavior:void 0}),s.unsubs.push(s.options.observeElementRect(s,(function(e){var t=s.scrollRect;s.scrollRect=e,(s.options.horizontal?e.width!==t.width:e.height!==t.height)&&s.maybeNotify()}))),s.unsubs.push(s.options.observeElementOffset(s,(function(e){s.scrollAdjustments=0,s.scrollOffset!==e&&(null!==s.isScrollingTimeoutId&&(clearTimeout(s.isScrollingTimeoutId),s.isScrollingTimeoutId=null),s.isScrolling=!0,s.scrollDirection=s.scrollOffset<e?"forward":"backward",s.scrollOffset=e,s.maybeNotify(),s.isScrollingTimeoutId=setTimeout((function(){s.isScrollingTimeoutId=null,s.isScrolling=!1,s.scrollDirection=null,s.maybeNotify()}),s.options.scrollingDelay))}))))},this.getSize=function(){return s.scrollRect[s.options.horizontal?"width":"height"]},this.memoOptions=(0,n.memo)((function(){return[s.options.count,s.options.paddingStart,s.options.scrollMargin,s.options.getItemKey]}),(function(e,t,o,r){return s.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:o,getItemKey:r}}),{key:!1}),this.getFurthestMeasurement=function(e,t){for(var o=new Map,r=new Map,n=t-1;n>=0;n--){var a=e[n];if(!o.has(a.lane)){var i=r.get(a.lane);if(null==i||a.end>i.end?r.set(a.lane,a):a.end<i.end&&o.set(a.lane,!0),o.size===s.options.lanes)break}}return r.size===s.options.lanes?Array.from(r.values()).sort((function(e,t){return e.end-t.end}))[0]:void 0},this.getMeasurements=(0,n.memo)((function(){return[s.memoOptions(),s.itemSizeCache]}),(function(e,t){var o=e.count,r=e.paddingStart,n=e.scrollMargin,a=e.getItemKey,i=s.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,s.pendingMeasuredCacheIndexes):0;s.pendingMeasuredCacheIndexes=[];for(var l=s.measurementsCache.slice(0,i),c=i;c<o;c++){var d=a(c),u=1===s.options.lanes?l[c-1]:s.getFurthestMeasurement(l,c),m=u?u.end:r+n,h=t.get(d),v="number"==typeof h?h:s.options.estimateSize(c),p=m+v,f=u?u.lane:c%s.options.lanes;l[c]={index:c,start:m,size:v,end:p,key:d,lane:f}}return s.measurementsCache=l,l}),{key:!1,debug:function(){return s.options.debug}}),this.calculateRange=(0,n.memo)((function(){return[s.getMeasurements(),s.getSize(),s.scrollOffset]}),(function(e,t,o){return s.range=function(e){var t=e.measurements,o=e.outerSize,r=e.scrollOffset,n=t.length-1,a=function(e){return t[e].start},i=p(0,n,a,r),s=i;for(;s<n&&t[s].end<r+o;)s++;return{startIndex:i,endIndex:s}}({measurements:e,outerSize:t,scrollOffset:o})}),{key:!1,debug:function(){return s.options.debug}}),this.maybeNotify=(0,n.memo)((function(){var e=s.calculateRange();return[e.startIndex,e.endIndex,s.isScrolling]}),(function(){s.notify()}),{key:!1,debug:function(){return s.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=(0,n.memo)((function(){return[s.options.rangeExtractor,s.calculateRange(),s.options.overscan,s.options.count]}),(function(e,t,o,n){return e((0,r.extends)({},t,{overscan:o,count:n}))}),{key:!1,debug:function(){return s.options.debug}}),this.indexFromElement=function(e){var t=s.options.indexAttribute,o=e.getAttribute(t);return o?parseInt(o,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var o,r=s.indexFromElement(e),n=s.measurementsCache[r];if(n){var a=s.measureElementCache.get(n.key);if(!e.isConnected)return s.observer.unobserve(e),void(e===a&&s.measureElementCache.delete(n.key));a!==e&&(a&&s.observer.unobserve(a),s.observer.observe(e),s.measureElementCache.set(n.key,e));var i=s.options.measureElement(e,t,s),l=i-(null!=(o=s.itemSizeCache.get(n.key))?o:n.size);0!==l&&(n.start<s.scrollOffset&&s._scrollToOffset(s.scrollOffset,{adjustments:s.scrollAdjustments+=l,behavior:void 0}),s.pendingMeasuredCacheIndexes.push(r),s.itemSizeCache=new Map(s.itemSizeCache.set(n.key,i)),s.notify())}},this.measureElement=function(e){e&&s._measureElement(e,void 0)},this.getVirtualItems=(0,n.memo)((function(){return[s.getIndexes(),s.getMeasurements()]}),(function(e,t){for(var o=[],r=0,n=e.length;r<n;r++){var a=t[e[r]];o.push(a)}return o}),{key:!1,debug:function(){return s.options.debug}}),this.getVirtualItemForOffset=function(e){var t=s.getMeasurements();return(0,n.notUndefined)(t[p(0,t.length-1,(function(e){return(0,n.notUndefined)(t[e]).start}),e)])},this.getOffsetForAlignment=function(e,t){var o=s.getSize();"auto"===t&&(t=e<=s.scrollOffset?"start":e>=s.scrollOffset+o?"end":"start"),"start"===t||("end"===t?e-=o:"center"===t&&(e-=o/2));var r=s.options.horizontal?"scrollWidth":"scrollHeight",n=(s.scrollElement?"document"in s.scrollElement?s.scrollElement.document.documentElement[r]:s.scrollElement[r]:0)-s.getSize();return Math.max(Math.min(n,e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,s.options.count-1));var o=(0,n.notUndefined)(s.getMeasurements()[e]);if("auto"===t)if(o.end>=s.scrollOffset+s.getSize()-s.options.scrollPaddingEnd)t="end";else{if(!(o.start<=s.scrollOffset+s.options.scrollPaddingStart))return[s.scrollOffset,t];t="start"}var r="end"===t?o.end+s.options.scrollPaddingEnd:o.start-s.options.scrollPaddingStart;return[s.getOffsetForAlignment(r,t),t]},this.isDynamicMode=function(){return s.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==s.scrollToIndexTimeoutId&&(clearTimeout(s.scrollToIndexTimeoutId),s.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var o=void 0===t?{}:t,r=o.align,n=void 0===r?"start":r,a=o.behavior;s.cancelScrollToIndex(),"smooth"===a&&s.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),s._scrollToOffset(s.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=function(e,t){var o=void 0===t?{}:t,r=o.align,a=void 0===r?"auto":r,i=o.behavior;e=Math.max(0,Math.min(e,s.options.count-1)),s.cancelScrollToIndex(),"smooth"===i&&s.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var l=s.getOffsetForIndex(e,a),c=l[0],d=l[1];s._scrollToOffset(c,{adjustments:void 0,behavior:i}),"smooth"!==i&&s.isDynamicMode()&&(s.scrollToIndexTimeoutId=setTimeout((function(){if(s.scrollToIndexTimeoutId=null,s.measureElementCache.has(s.options.getItemKey(e))){var t=s.getOffsetForIndex(e,d)[0];(0,n.approxEqual)(t,s.scrollOffset)||s.scrollToIndex(e,{align:d,behavior:i})}else s.scrollToIndex(e,{align:d,behavior:i})})))},this.scrollBy=function(e,t){var o=(void 0===t?{}:t).behavior;s.cancelScrollToIndex(),"smooth"===o&&s.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),s._scrollToOffset(s.scrollOffset+e,{adjustments:void 0,behavior:o})},this.getTotalSize=function(){var e;return((null==(e=s.getMeasurements()[s.options.count-1])?void 0:e.end)||s.options.paddingStart)-s.options.scrollMargin+s.options.paddingEnd},this._scrollToOffset=function(e,t){var o=t.adjustments,r=t.behavior;s.options.scrollToFn(e,{behavior:r,adjustments:o},s)},this.measure=function(){s.itemSizeCache=new Map,s.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){s.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},p=function(e,t,o,r){for(;e<=t;){var n=(e+t)/2|0,a=o(n);if(a<r)e=n+1;else{if(!(a>r))return n;t=n-1}}return e>0?e-1:0}},301257:(e,t,o)=>{"use strict";function r(e,t,o){var r,n,a=null!=(r=o.initialDeps)?r:[];return function(){var r;o.key&&null!=o.debug&&o.debug()&&(r=Date.now());var i,s=e();if(!(s.length!==a.length||s.some((function(e,t){return a[t]!==e}))))return n;if(a=s,o.key&&null!=o.debug&&o.debug()&&(i=Date.now()),n=t.apply(void 0,s),o.key&&null!=o.debug&&o.debug()){var l=Math.round(100*(Date.now()-r))/100,c=Math.round(100*(Date.now()-i))/100,d=c/16,u=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c⏱ "+u(c,5)+" /"+u(l,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*d,120))+"deg 100% 31%);",null==o?void 0:o.key)}return null==o||null==o.onChange||o.onChange(n),n}}function n(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}o.d(t,{approxEqual:()=>a,memo:()=>r,notUndefined:()=>n});var a=function(e,t){return Math.abs(e-t)<1}},997650:(e,t,o)=>{"use strict";o.d(t,{observe:()=>c,useInView:()=>d});var r=o(667294);const n=new Map,a=new WeakMap;let i,s=0;function l(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(o=e.root,o?(a.has(o)||(s+=1,a.set(o,s.toString())),a.get(o)):"0"):e[t]}`;var o})).toString()}function c(e,t,o={},r=i){if(void 0===window.IntersectionObserver&&void 0!==r){const n=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof o.threshold?o.threshold:0,time:0,boundingClientRect:n,intersectionRect:n,rootBounds:n}),()=>{}}const{id:a,observer:s,elements:c}=function(e){let t=l(e),o=n.get(t);if(!o){const r=new Map;let a;const i=new IntersectionObserver((t=>{t.forEach((t=>{var o;const n=t.isIntersecting&&a.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=n),null==(o=r.get(t.target))||o.forEach((e=>{e(n,t)}))}))}),e);a=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),o={id:t,observer:i,elements:r},n.set(t,o)}return o}(o);let d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(t),s.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(c.delete(e),s.unobserve(e)),0===c.size&&(s.disconnect(),n.delete(a))}}r.Component;function d({threshold:e,delay:t,trackVisibility:o,rootMargin:n,root:a,triggerOnce:i,skip:s,initialInView:l,fallbackInView:d,onChange:u}={}){var m;const[h,v]=r.useState(null),p=r.useRef(),[f,g]=r.useState({inView:!!l,entry:void 0});p.current=u,r.useEffect((()=>{if(s||!h)return;let r;return r=c(h,((e,t)=>{g({inView:e,entry:t}),p.current&&p.current(e,t),t.isIntersecting&&i&&r&&(r(),r=void 0)}),{root:a,rootMargin:n,threshold:e,trackVisibility:o,delay:t},d),()=>{r&&r()}}),[Array.isArray(e)?e.toString():e,h,a,n,i,s,o,d,t]);const _=null==(m=f.entry)?void 0:m.target,b=r.useRef();h||!_||i||s||b.current===_||(b.current=_,g({inView:!!l,entry:void 0}));const k=[v,f.inView,f.entry];return k.ref=k[0],k.inView=k[1],k.entry=k[2],k}}}]);try{stManager.done("dist/c2c69d9beb37d98912643aff437f899c.17d47f6bceeb53263178.js")}catch(e){}